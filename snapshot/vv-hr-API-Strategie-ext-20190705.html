<!DOCTYPE html><html lang="nl"><!-- HTML-Header ============================================================================== --><head><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta content="text/html; charset=utf-8" http-equiv="content-type"><meta name="generator" content="ReSpec 24.5.2"><style>/* --- ISSUES/NOTES --- */
.issue-label {
    text-transform: initial;
}

.warning > p:first-child { margin-top: 0 }
.warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
span.warning { padding: .1em .5em .15em; }

.issue.closed span.issue-number {
    text-decoration: line-through;
}

.warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}

li.task-list-item {
    list-style: none;
}

input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
}

.issue a.respec-gh-label {
  padding: 5px;
  margin: 0 2px 0 2px;
  font-size: 10px;
  text-transform: none;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
  position: relative;
  bottom: 2px;
  border: none;
}

.issue a.respec-label-dark {
  color: #fff;
  background-color: #000;
}

.issue a.respec-label-light {
  color: #000;
  background-color: #fff;
}
</style>
    
    
    <!-- Invullen: de titel van de standaard of het document ==================================== -->
    <title>API strategie voor de Nederlandse overheid - Extensies</title>
    <!-- Invullen: de naam van de lokale CSS file =============================================== -->
    <link rel="stylesheet" type="text/css" href="./media/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.ico">
    
    
<!-- ============================================================================================ -->
<!-- File. . . :  index.html                                                                      -->
<!-- Bevat . . :  Template voor de index.html die verplicht is voor respec                        -->
<!--              Gebaseerd op https://github.com/Geonovum/respec/wiki                            -->
<!--              Deze file moet worden neergezet in de root-directory van de                     -->
<!--              betreffende standaard.                                                          -->
<!-- Door. . . :  Linda van den Brink                                                             -->
<!-- ============================================================================================ -->
<!-- ============================================================================================ -->
<!-- Log . . . :  2019503 - LvdB - Initiele versie                                                --> 
<!--                                                                                              -->
<!-- 
====================================================================================================
0        1         2         3         4         5         6         7         8         9         0
1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890
================================================================================================= -->
  <style id="respec-mainstyle">/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* Override code highlighter background */
.hljs {
  background: transparent !important;
}

/* --- INLINES --- */
h1 abbr,
h2 abbr,
h3 abbr,
h4 abbr,
h5 abbr,
h6 abbr,
a abbr {
  border: none;
}

dfn {
  font-weight: bold;
}

a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
}

a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
}

a.bibref {
  text-decoration: none;
}

#references :target {
  background: #eaf3ff;
}

cite .bibref {
  font-style: normal;
}

code {
  color: #c83500;
}

th code {
  color: inherit;
}

/* --- TOC --- */

.toc a,
.tof a {
  text-decoration: none;
}

a .secno,
a .figno {
  color: #000;
}

ul.tof,
ol.tof {
  list-style: none outside none;
}

.caption {
  margin-top: 0.5em;
  font-style: italic;
}

/* --- TABLE --- */

table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
}

.simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
}

.simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
}

.simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
  background: #f0f6ff;
}

/* --- DL --- */

.section dd>p:first-child {
  margin-top: 0;
}

.section dd>p:last-child {
  margin-bottom: 0;
}

.section dd {
  margin-bottom: 1em;
}

.section dl.attrs dd,
.section dl.eldef dd {
  margin-bottom: 0;
}

#issue-summary>ul,
.respec-dfn-list {
  column-count: 2;
}

#issue-summary li,
.respec-dfn-list li {
  list-style: none;
}

details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
}

details.respec-tests-details>* {
  padding-right: 2em;
}

details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: 0.3em;
  background-color: white;
  padding-bottom: 0.5em;
}

details.respec-tests-details[open]>summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
}

details.respec-tests-details>ul {
  width: 100%;
  margin-top: -0.3em;
}

details.respec-tests-details>li {
  padding-left: 1em;
}

a[href].self-link:hover {
  opacity: 1;
  text-decoration: none;
  background-color: transparent;
}

h2,
h3,
h4,
h5,
h6 {
  position: relative;
}

aside.example .marker > a.self-link {
  color: inherit;
}

h2>a.self-link,
h3>a.self-link,
h4>a.self-link,
h5>a.self-link,
h6>a.self-link {
  border: none;
  color: inherit;
  font-size: 83%;
  height: 2em;
  left: -1.6em;
  opacity: .5;
  position: absolute;
  text-align: center;
  text-decoration: none;
  top: 0;
  transition: opacity .2s;
  width: 2em;
}

h2>a.self-link::before,
h3>a.self-link::before,
h4>a.self-link::before,
h5>a.self-link::before,
h6>a.self-link::before {
  content: "§";
  display: block;
}

@media (max-width: 767px) {
  dd {
    margin-left: 0;
  }

  /* Don't position self-link in headings off-screen */
  h2>a.self-link,
  h3>a.self-link,
  h4>a.self-link,
  h5>a.self-link,
  h6>a.self-link {
    left: auto;
    top: auto;
  }
}

@media print {
  .removeOnSave {
    display: none;
  }
}
</style><link rel="stylesheet" href="https://tools.geostandaarden.nl/respec/style/GN-VV.css"><link rel="shortcut icon" type="image/x-icon" href="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.ico"><style>/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style><script id="initialUserConfig" type="application/json">{
  "specStatus": "GN-VV",
  "specType": "HR",
  "pubDomain": "api",
  "publishDate": "2019-07-05",
  "editors": [
    {
      "name": "Jasper Roes",
      "company": "Het Kadaster",
      "companyURL": "http://www.kadaster.nl/"
    },
    {
      "name": "Linda van den Brink",
      "company": "Geonovum",
      "companyURL": "https://www.geonovum.nl"
    }
  ],
  "authors": [],
  "shortName": "API-Strategie-ext",
  "github": "https://github.com/geonovum/KP-APIs",
  "issueBase": "https://github.com/geonovum/KP-APIs/issues/",
  "localBiblio": {
    "OAuth2": {
      "href": "https://tools.ietf.org/html/rfc6749",
      "title": "The OAuth 2.0 Authorization Framework",
      "authors": [
        "D. Hardt"
      ],
      "date": "October 2012",
      "publisher": "The Internet Engineering Task Force"
    },
    "Expert": {
      "href": "https://www.forumstandaardisatie.nl/sites/bfs/files/Expertadvies%20OAuth%202.0.pdf",
      "title": "Expertadvies OAuth 2.0",
      "authors": [
        "P. Dam"
      ],
      "date": "24 februari 2017",
      "publisher": "Forum Standaardisatie"
    },
    "JWT": {
      "href": "https://tools.ietf.org/html/rfc7519",
      "title": "JSON Web Token (JWT)",
      "authors": [
        "M. Jones, J. Bradley, N. Sakimura"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWS": {
      "href": "https://tools.ietf.org/html/rfc7515",
      "title": "JSON Web Signature (JWS)",
      "authors": [
        "M. Jones, J. Bradley, N. Sakimura"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWE": {
      "href": "https://tools.ietf.org/html/rfc7516",
      "title": "JSON Web Encryption (JWE)",
      "authors": [
        "M. Jones, J. Hildebrand"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWK": {
      "href": "https://tools.ietf.org/html/rfc7517",
      "title": "JSON Web Key (JWK))",
      "authors": [
        "M. Jones"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWA": {
      "href": "https://tools.ietf.org/html/rfc7518",
      "title": "JSON Web Algorithms (JWA)",
      "authors": [
        "M. Jones"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "PKCE": {
      "href": "https://tools.ietf.org/html/rfc7636",
      "title": "Proof Key for Code Exchange by OAuth Public Clients",
      "authors": [
        "N. Sakimura, J. Bradley, N. Agarwal"
      ],
      "date": "september 2015",
      "publisher": "IETF"
    },
    "Introspection": {
      "href": "https://tools.ietf.org/html/rfc7662",
      "title": "OAuth 2.0 Token Introspection",
      "authors": [
        "J. Richer"
      ],
      "date": "October 2015",
      "publisher": "IETF"
    },
    "OpenID.Core": {
      "href": "https://openid.net/specs/openid-connect-core-1_0.html",
      "title": "OpenID Connect Core 1.0",
      "authors": [
        "N. Sakimura, J. Bradley, M. Jones, B. de Medeiros, C. Mortimore"
      ],
      "date": "November 8 2014",
      "publisher": "OpenID foundation"
    },
    "iGOV.OpenID": {
      "href": "https://openid.net/specs/openid-igov-openid-connect-1_0.html",
      "title": "International Government Assurance Profile (iGov) for OpenID Connect 1.0 - draft 3",
      "authors": [
        "M. Varley, P. Grassi"
      ],
      "date": "October 5 2018",
      "publisher": "OpenID foundation"
    },
    "iGOV.OAuth2": {
      "href": "https://openid.net/specs/openid-igov-oauth2-1_0.html",
      "title": "International Government Assurance Profile (iGov) for OAuth 2.0",
      "authors": [
        "J. Richer, M. Varley, P. Grassi"
      ],
      "date": "October 5 2018",
      "publisher": "OpenID foundation"
    },
    "OpenID.Discovery": {
      "href": "https://openid.net/specs/openid-connect-discovery-1_0.html",
      "title": "OpenID Connect Discovery 1.0",
      "authors": [
        "N. Sakimura, J. Bradley, M. Jones, E. Jay"
      ],
      "date": "November 8 2014",
      "publisher": "OpenID foundation"
    },
    "I-D.ietf-oauth-pop-architecture": {
      "href": "https://tools.ietf.org/html/draft-ietf-oauth-pop-architecture-08",
      "title": "OAuth 2.0 Proof-of-Possession (PoP) Security Architecture",
      "authors": [
        "P. Hunt, J. Richer, W. Mills, P. Mishra, H. Tschofenig"
      ],
      "date": "July 8, 2016",
      "publisher": "IETF"
    },
    "HEART.OAuth2": {
      "href": "https://openid.net/specs/openid-heart-oauth2-1_0.html",
      "title": "Health Relationship Trust Profile for OAuth 2.0",
      "authors": [
        "J. Richer"
      ],
      "date": "April 25, 2017",
      "publisher": "OpenID foundation"
    },
    "JWS.JWE.Algs": {
      "href": "https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms",
      "title": "IANA JSON Web Signatures and Encryption Algorithms registry",
      "authors": [
        "Jim Schaad, Jeff Hodges, Joe Hildebrand, Sean Turner"
      ],
      "date": "",
      "publisher": "IANA"
    },
    "BCP195": {
      "href": "https://tools.ietf.org/html/bcp195",
      "title": "Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)",
      "authors": [
        "Y. Sheffer, R. Holz, P. Saint-Andre"
      ],
      "date": "May 2015",
      "publisher": "IETF"
    },
    "HAL": {
      "href": "http://stateless.co/hal_specification.html",
      "title": "HAL - Hypertext Application Language",
      "authors": [
        "Mike Kelly"
      ],
      "date": " 2013-09-18"
    }
  },
  "publishISODate": "2019-07-05T00:00:00.000Z",
  "generatedSubtitle": "Versie ter vaststelling 05 juli 2019"
}</script><meta name="description" content="De API strategie heeft een core, een generieke set regels die op alle overheidsAPI's van toepassing zijn; en diverse extensies die specifiek zijn voor een sector of die nog niet rijp genoeg zijn om in de core te komen."><script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "nl",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-ext-20190705/",
  "type": [
    "TechArticle"
  ],
  "name": "API strategie voor de Nederlandse overheid - Extensies",
  "inLanguage": "nl",
  "license": "https://creativecommons.org/licenses/by/4.0/legalcode",
  "datePublished": "2019-07-05",
  "copyrightHolder": {
    "name": "Geonovum",
    "url": "https://www.geonovum.nl/"
  },
  "discussionUrl": "https://github.com/geonovum/KP-APIs/issues/",
  "alternativeHeadline": "",
  "description": "De API strategie heeft een core, een generieke set regels die op alle overheidsAPI's van toepassing zijn; en diverse extensies die specifiek zijn voor een sector of die nog niet rijp genoeg zijn om in de core te komen.",
  "editor": [
    {
      "type": "Person",
      "name": "Jasper Roes",
      "worksFor": {
        "name": "Het Kadaster",
        "url": "http://www.kadaster.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Linda van den Brink",
      "worksFor": {
        "name": "Geonovum",
        "url": "https://www.geonovum.nl"
      }
    }
  ],
  "contributor": [],
  "citation": [
    {
      "id": "https://tools.ietf.org/html/rfc8142",
      "type": "TechArticle",
      "name": "GeoJSON Text Sequences",
      "url": "https://tools.ietf.org/html/rfc8142"
    },
    {
      "id": "https://httpwg.org/specs/rfc6585.html",
      "type": "TechArticle",
      "name": "Additional HTTP Status Codes",
      "url": "https://httpwg.org/specs/rfc6585.html"
    },
    {
      "id": "https://tools.ietf.org/html/rfc7807",
      "type": "TechArticle",
      "name": "Problem Details for HTTP APIs",
      "url": "https://tools.ietf.org/html/rfc7807"
    }
  ]
}</script></head>  
  <!-- HTML-Body ================================================================================ -->
  <body class="h-entry"><div class="head">
  <a href="https://www.geonovum.nl/" class="logo"><img id="Geonovum" alt="Geonovum" src="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.svg" width="132" height="67"></a>
  <h1 class="title p-name" id="title">API strategie voor de Nederlandse overheid - Extensies</h1>
  
  <h2>Geonovum Handreiking<br>
  Versie ter vaststelling <time class="dt-published" datetime="2019-07-05">05 juli 2019</time></h2>
  <dl>
    <dt>Deze versie:</dt><dd><a class="u-url" href="https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-ext-20190705/">https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-ext-20190705/</a></dd><dt>Laatst gepubliceerde versie:</dt><dd><a href="https://docs.geostandaarden.nl/api/API-Strategie-ext/">https://docs.geostandaarden.nl/api/API-Strategie-ext/</a></dd>
    
    
    <dt>Laatste werkversie:</dt><dd><a href="https://geonovum.github.io/KP-APIs/">https://geonovum.github.io/KP-APIs/</a></dd>
    <dt>Redacteurs:</dt>
    <dd class="p-author h-card vcard"><span class="p-name fn">Jasper Roes</span>, <a class="p-org org h-org h-card" href="http://www.kadaster.nl/">Het Kadaster</a></dd><dd class="p-author h-card vcard"><span class="p-name fn">Linda van den Brink</span>, <a class="p-org org h-org h-card" href="https://www.geonovum.nl">Geonovum</a></dd>
    <dt>Auteur:</dt>
    <dt>Doe mee:</dt><dd>
      <a href="https://github.com/geonovum/KP-APIs/">GitHub geonovum/KP-APIs</a>
    </dd><dd>
      <a href="https://github.com/geonovum/KP-APIs/issues/">Dien een melding in</a>
    </dd><dd>
      <a href="https://github.com/geonovum/KP-APIs/commits/gh-pages">Revisiehistorie</a>
    </dd><dd>
      <a href="https://github.com/geonovum/KP-APIs/pulls/">Pull requests</a>
    </dd>
  </dl>
  
  
    <dl>
          <dt>Rechtenbeleid:</dt>
          <dd>
            <div class="copyright" style="margin: 0.25em 0;">
              <abbr title="Creative Commons Attribution 4.0 International Public License">
              <a href="https://creativecommons.org/licenses/by/4.0/legalcode"><img src="https://tools.geostandaarden.nl/respec/style/logos/cc-by.svg" alt="Creative Commons Attribution 4.0 International Public License" width="115" height="40"></a>
            </abbr>
              <div style="display:inline-block; vertical-align:top">
                <p style="font-size: small;">Creative Commons Attribution 4.0 International Public License<br>(CC-BY)</p>
              </div>
            </div>
          </dd>
        </dl>
  <hr title="Separator for header">
</div>
    <section id="abstract" class="introductory"><h2>Samenvatting</h2>
      <p>De API strategie heeft een <em>core</em>, een generieke set regels die op alle overheidsAPI's van toepassing zijn; en diverse <em>extensies</em> die specifiek zijn voor een sector of die nog niet rijp genoeg zijn om in de core te komen.</p>
      <p>Deze extensies staan in dit document beschreven. Per extensie is aangegeven of deze stabiel is, of nog in beweging.</p>
    </section>
    <section id="sotd" class="introductory"><h2>Status van dit document</h2><p>
    <em>Deze paragraaf beschrijft de status van dit document ten tijde van publicatie. Het is mogelijk dat er actuelere versies van dit document bestaan. Een lijst van Geonovum publicaties en de laatste gepubliceerde versie van dit document zijn te vinden op <a href="https://www.geonovum.nl/geo-standaarden/alle-standaarden">https://www.geonovum.nl/geo-standaarden/alle-standaarden</a>.</em>
  </p><p>




  Dit is een definitief concept van de nieuwe versie van de handreiking. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.





</p></section><nav id="toc"><h2 class="introductory" id="inhoudsopgave">Inhoudsopgave</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#voorbeeld-een-stabiele-extensie"><span class="secno">1. </span>Voorbeeld: een stabiele extensie</a></li><li class="tocline"><a class="tocxref" href="#voorbeeld-een-extensie-die-nog-in-ontwikkeling-is"><span class="secno">2. </span>Voorbeeld: een extensie die nog in ontwikkeling is</a></li><li class="tocline"><a class="tocxref" href="#api-beveiliging"><span class="secno">3. </span>API Beveiliging</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#authenticatie-en-autorisatie"><span class="secno">3.1 </span>Authenticatie en autorisatie</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#autorisatiefouten"><span class="secno">3.1.1 </span>Autorisatiefouten</a></li><li class="tocline"><a class="tocxref" href="#openbare-identifiers"><span class="secno">3.1.2 </span>Openbare identifiers</a></li><li class="tocline"><a class="tocxref" href="#blootstellen-api-key"><span class="secno">3.1.3 </span>Blootstellen API-key</a></li><li class="tocline"><a class="tocxref" href="#cors-policy"><span class="secno">3.1.4 </span>CORS-policy</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#versionering"><span class="secno">4. </span>Versionering</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#uitfaseren-van-een-major-api-versie"><span class="secno">4.1 </span>Uitfaseren van een major API versie</a></li><li class="tocline"><a class="tocxref" href="#de-warning-response-header"><span class="secno">4.2 </span>De Warning response header</a></li></ol></li><li class="tocline"><a class="tocxref" href="#json"><span class="secno">5. </span>JSON</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#veldnamen-in-snake_case-camelcase-uppercamelcase-of-kebab-case"><span class="secno">5.1 </span>Veldnamen in <code>snake_case</code>, <code>camelCase</code>, <code>UpperCamelCase</code> of <code>kebab-case</code>?</a></li><li class="tocline"><a class="tocxref" href="#pretty-print"><span class="secno">5.2 </span>Pretty print</a></li><li class="tocline"><a class="tocxref" href="#gebruik-geen-envelop"><span class="secno">5.3 </span>Gebruik geen envelop</a></li><li class="tocline"><a class="tocxref" href="#json-gecodeerde-post-put-en-patch-payloads"><span class="secno">5.4 </span>JSON gecodeerde <code>POST</code>, <code>PUT</code> en <code>PATCH</code> payloads</a></li></ol></li><li class="tocline"><a class="tocxref" href="#filteren"><span class="secno">6. </span>Filteren</a></li><li class="tocline"><a class="tocxref" href="#sorteren"><span class="secno">7. </span>Sorteren</a></li><li class="tocline"><a class="tocxref" href="#zoeken"><span class="secno">8. </span>Zoeken</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#wildcards"><span class="secno">8.1 </span>Wildcards</a></li><li class="tocline"><a class="tocxref" href="#aliassen-voor-terugkerende-queries"><span class="secno">8.2 </span>Aliassen voor terugkerende queries</a></li></ol></li><li class="tocline"><a class="tocxref" href="#tijdreizen"><span class="secno">9. </span>Tijdreizen</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#mate-van-ondersteuning"><span class="secno">9.1 </span>Mate van ondersteuning</a></li><li class="tocline"><a class="tocxref" href="#robuustheid"><span class="secno">9.2 </span>Robuustheid</a></li></ol></li><li class="tocline"><a class="tocxref" href="#geo-ondersteuning"><span class="secno">10. </span>GEO-ondersteuning</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#resultaat-response"><span class="secno">10.1 </span>Resultaat (response)</a></li><li class="tocline"><a class="tocxref" href="#aanroep-requests"><span class="secno">10.2 </span>Aanroep (requests)</a></li><li class="tocline"><a class="tocxref" href="#crs-negotiation"><span class="secno">10.3 </span>CRS-negotiation</a></li><li class="tocline"><a class="tocxref" href="#crs-transformatie"><span class="secno">10.4 </span>CRS-transformatie</a></li></ol></li><li class="tocline"><a class="tocxref" href="#paginering"><span class="secno">11. </span>Paginering</a></li><li class="tocline"><a class="tocxref" href="#caching"><span class="secno">12. </span>Caching</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#etag"><span class="secno">12.1 </span>ETag</a></li><li class="tocline"><a class="tocxref" href="#last-modified"><span class="secno">12.2 </span>Last-Modified</a></li></ol></li><li class="tocline"><a class="tocxref" href="#begrenzingen"><span class="secno">13. </span>Begrenzingen</a></li><li class="tocline"><a class="tocxref" href="#foutafhandeling"><span class="secno">14. </span>Foutafhandeling</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#http-statuscodes"><span class="secno">14.1 </span>HTTP statuscodes</a></li></ol></li><li class="tocline"><a class="tocxref" href="#supplements"><span class="secno">15. </span>Supplements</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#api-principles"><span class="secno">15.1 </span><span name="api-principes" class="formerLink"></span>API Principles</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#api-01-operations-are-safe-and-or-idempotent"><span class="secno">15.1.1 </span><span name="api-01" class="formerLink"></span>API-01: Operations are <em>Safe</em> and/or <em>Idempotent</em></a></li><li class="tocline"><a class="tocxref" href="#api-02-do-not-maintain-state-information-at-the-server"><span class="secno">15.1.2 </span><span name="api-02" class="formerLink"></span>API-02: Do not maintain state information at the server</a></li><li class="tocline"><a class="tocxref" href="#api-03-only-apply-default-http-operations"><span class="secno">15.1.3 </span><span name="api-03" class="formerLink"></span>API-03: Only apply default HTTP operations</a></li><li class="tocline"><a class="tocxref" href="#api-04-define-interfaces-in-dutch-unless-there-is-an-official-english-glossary"><span class="secno">15.1.4 </span><span name="api-04" class="formerLink"></span>API-04: Define interfaces in Dutch unless there is an official English glossary</a></li><li class="tocline"><a class="tocxref" href="#api-05-use-plural-nouns-to-indicate-resources"><span class="secno">15.1.5 </span><span name="api-05" class="formerLink"></span>API-05: Use plural nouns to indicate resources</a></li><li class="tocline"><a class="tocxref" href="#api-06-create-relations-of-nested-resources-within-the-endpoint"><span class="secno">15.1.6 </span><span name="api-06" class="formerLink"></span>API-06: Create relations of nested resources within the endpoint</a></li><li class="tocline"><a class="tocxref" href="#api-09-implement-custom-representation-if-supported"><span class="secno">15.1.7 </span><span name="api-09" class="formerLink"></span>API-09: Implement custom representation if supported</a></li><li class="tocline"><a class="tocxref" href="#api-10-implement-operations-that-do-not-fit-the-crud-model-as-sub-resources"><span class="secno">15.1.8 </span><span name="api-10" class="formerLink"></span>API-10: Implement operations that do not fit the CRUD model as sub-resources</a></li><li class="tocline"><a class="tocxref" href="#api-11-encrypt-connections-using-at-least-tls-v1-3"><span class="secno">15.1.9 </span><span name="api-11" class="formerLink"></span>API-11: Encrypt connections using at least TLS v1.3</a></li><li class="tocline"><a class="tocxref" href="#api-12-allow-access-to-an-api-only-if-an-api-key-is-provided"><span class="secno">15.1.10 </span><span name="api-12" class="formerLink"></span>API-12: Allow access to an API only if an API key is provided</a></li><li class="tocline"><a class="tocxref" href="#api-13-accept-tokens-as-http-headers-only"><span class="secno">15.1.11 </span><span name="api-13" class="formerLink"></span>API-13: Accept tokens as HTTP headers only</a></li><li class="tocline"><a class="tocxref" href="#api-14-use-oauth-2-0-for-authorisation"><span class="secno">15.1.12 </span><span name="api-14" class="formerLink"></span>API-14: Use OAuth 2.0 for authorisation</a></li><li class="tocline"><a class="tocxref" href="#api-15-use-pkioverheid-certificates-for-access-restricted-or-purpose-limited-api-authentication"><span class="secno">15.1.13 </span><span name="api-15" class="formerLink"></span>API-15: Use PKIoverheid certificates for access-restricted or purpose-limited API authentication</a></li><li class="tocline"><a class="tocxref" href="#api-16-use-oas-3-0-for-documentation"><span class="secno">15.1.14 </span><span name="api-16" class="formerLink"></span>API-16: Use OAS 3.0 for documentation</a></li><li class="tocline"><a class="tocxref" href="#api-17-publish-documentation-in-dutch-unless-there-is-existing-documentation-in-english-or-there-is-an-official-english-glossary-available"><span class="secno">15.1.15 </span><span name="api-17" class="formerLink"></span>API-17: Publish documentation in Dutch unless there is existing documentation in English or there is an official English glossary available</a></li><li class="tocline"><a class="tocxref" href="#api-18-include-a-deprecation-schedule-when-publishing-api-changes"><span class="secno">15.1.16 </span><span name="api-18" class="formerLink"></span>API-18: Include a deprecation schedule when publishing API changes</a></li><li class="tocline"><a class="tocxref" href="#api-19-allow-for-a-maximum-1-year-transition-period-to-a-new-api-version"><span class="secno">15.1.17 </span><span name="api-19" class="formerLink"></span>API-19: Allow for a maximum 1 year transition period to a new API version</a></li><li class="tocline"><a class="tocxref" href="#api-20-include-the-major-version-number-only-in-ihe-uri"><span class="secno">15.1.18 </span><span name="api-20" class="formerLink"></span>API-20: Include the major version number only in ihe URI</a></li><li class="tocline"><a class="tocxref" href="#api-21-inform-users-of-a-deprecated-api-actively"><span class="secno">15.1.19 </span><span name="api-21" class="formerLink"></span>API-21: Inform users of a deprecated API actively</a></li><li class="tocline"><a class="tocxref" href="#api-22-json-first-apis-receive-and-send-json"><span class="secno">15.1.20 </span><span name="api-22" class="formerLink"></span>API-22: JSON first - APIs receive and send JSON</a></li><li class="tocline"><a class="tocxref" href="#api-23-apis-may-provide-a-json-schema"><span class="secno">15.1.21 </span><span name="api-23" class="formerLink"></span>API-23: APIs may provide a JSON Schema</a></li><li class="tocline"><a class="tocxref" href="#api-24-support-content-negotiation"><span class="secno">15.1.22 </span><span name="api-24" class="formerLink"></span>API-24: Support content negotiation</a></li><li class="tocline"><a class="tocxref" href="#api-25-check-the-content-type-header-settings"><span class="secno">15.1.23 </span><span name="api-25" class="formerLink"></span>API-25: Check the Content-Type header settings</a></li><li class="tocline"><a class="tocxref" href="#api-26-define-field-names-in-in-camelcase"><span class="secno">15.1.24 </span><span name="api-26" class="formerLink"></span>API-26: Define field names in in <em>camelCase</em></a></li><li class="tocline"><a class="tocxref" href="#api-27-disable-pretty-print"><span class="secno">15.1.25 </span><span name="api-27" class="formerLink"></span>API-27: Disable pretty print</a></li><li class="tocline"><a class="tocxref" href="#api-28-send-a-json-response-without-enclosing-envelope"><span class="secno">15.1.26 </span><span name="api-28" class="formerLink"></span>API-28: Send a JSON-response without enclosing envelope</a></li><li class="tocline"><a class="tocxref" href="#api-29-support-json-encoded-post-put-and-patch-payloads"><span class="secno">15.1.27 </span><span name="api-29" class="formerLink"></span>API-29: Support JSON-encoded <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> payloads</a></li><li class="tocline"><a class="tocxref" href="#api-30-use-query-parameters-corresponding-to-the-queryable-fields"><span class="secno">15.1.28 </span><span name="api-30" class="formerLink"></span>API-30: Use query parameters corresponding to the queryable fields</a></li><li class="tocline"><a class="tocxref" href="#api-31-use-the-query-parameter-sorteer-to-sort"><span class="secno">15.1.29 </span><span name="api-31" class="formerLink"></span>API-31: Use the query parameter <code>sorteer</code> to sort</a></li><li class="tocline"><a class="tocxref" href="#api-32-use-the-query-parameter-zoek-for-full-text-search"><span class="secno">15.1.30 </span><span name="api-32" class="formerLink"></span>API-32: Use the query parameter <code>zoek</code> for full-text search</a></li><li class="tocline"><a class="tocxref" href="#api-33-support-both-and-wildcard-characters-for-full-text-search-apis"><span class="secno">15.1.31 </span><span name="api-33" class="formerLink"></span>API-33: Support both <code>*</code> and <code>?</code> wildcard characters for full-text search APIs</a></li><li class="tocline"><a class="tocxref" href="#api-34-support-geojson-for-geo-apis"><span class="secno">15.1.32 </span><span name="api-34" class="formerLink"></span>API-34: Support GeoJSON for GEO APIs</a></li><li class="tocline"><a class="tocxref" href="#api-35-include-geojson-as-part-of-the-embedded-resource-in-the-json-response"><span class="secno">15.1.33 </span><span name="api-35" class="formerLink"></span>API-35: Include GeoJSON as part of the embedded resource in the JSON response</a></li><li class="tocline"><a class="tocxref" href="#api-36-provide-a-post-endpoint-for-geo-queries"><span class="secno">15.1.34 </span><span name="api-36" class="formerLink"></span>API-36: Provide a <code>POST</code> endpoint for GEO queries</a></li><li class="tocline"><a class="tocxref" href="#api-37-support-mixed-queries-at-post-endpoints"><span class="secno">15.1.35 </span><span name="api-37" class="formerLink"></span>API-37: Support mixed queries at <code>POST</code> endpoints</a></li><li class="tocline"><a class="tocxref" href="#api-38-put-results-of-a-global-spatial-query-in-the-relevant-geometric-context"><span class="secno">15.1.36 </span><span name="api-38" class="formerLink"></span>API-38: Put results of a global spatial query in the relevant geometric context</a></li><li class="tocline"><a class="tocxref" href="#api-39-use-etrs89-as-the-preferred-coordinate-reference-system-crs"><span class="secno">15.1.37 </span><span name="api-39" class="formerLink"></span>API-39: Use ETRS89 as the preferred coordinate reference system (CRS)</a></li><li class="tocline"><a class="tocxref" href="#api-40-pass-the-coordinate-reference-system-crs-of-the-request-and-the-response-in-the-headers"><span class="secno">15.1.38 </span><span name="api-40" class="formerLink"></span>API-40: Pass the coordinate reference system (CRS) of the request and the response in the headers</a></li><li class="tocline"><a class="tocxref" href="#api-41-use-content-negotiation-to-serve-different-crss"><span class="secno">15.1.39 </span><span name="api-41" class="formerLink"></span>API-41: Use content negotiation to serve different CRSs</a></li><li class="tocline"><a class="tocxref" href="#api-42-use-json-hal-with-media-type-application-hal-json-for-pagination"><span class="secno">15.1.40 </span><span name="api-42" class="formerLink"></span>API-42: Use JSON+HAL with media type <code>application/hal+json</code> for pagination</a></li><li class="tocline"><a class="tocxref" href="#api-43-apply-caching-to-improve-performance"><span class="secno">15.1.41 </span><span name="api-43" class="formerLink"></span>API-43: Apply caching to improve performance</a></li><li class="tocline"><a class="tocxref" href="#api-44-apply-rate-limiting"><span class="secno">15.1.42 </span><span name="api-44" class="formerLink"></span>API-44: Apply rate limiting</a></li><li class="tocline"><a class="tocxref" href="#api-45-provide-rate-limiting-information"><span class="secno">15.1.43 </span><span name="api-45" class="formerLink"></span>API-45: Provide rate limiting information</a></li><li class="tocline"><a class="tocxref" href="#api-46-use-default-error-handling"><span class="secno">15.1.44 </span><span name="api-46" class="formerLink"></span>API-46: Use default error handling</a></li><li class="tocline"><a class="tocxref" href="#api-47-use-the-required-http-status-codes"><span class="secno">15.1.45 </span><span name="api-47" class="formerLink"></span>API-47: Use the required HTTP status codes</a></li><li class="tocline"><a class="tocxref" href="#api-48-leave-off-trailing-slashes-from-api-endpoints"><span class="secno">15.1.46 </span><span name="api-48" class="formerLink"></span>API-48: Leave off trailing slashes from API endpoints</a></li><li class="tocline"><a class="tocxref" href="#api-49-use-public-api-keys"><span class="secno">15.1.47 </span><span name="api-49" class="formerLink"></span>API-49: Use <em>public</em> API-keys</a></li><li class="tocline"><a class="tocxref" href="#api-50-use-cors-to-control-access"><span class="secno">15.1.48 </span><span name="api-50" class="formerLink"></span>API-50: Use CORS to control access</a></li><li class="tocline"><a class="tocxref" href="#api-51-publish-oas-at-the-base-uri-in-json-format"><span class="secno">15.1.49 </span><span name="api-51" class="formerLink"></span>API-51: Publish OAS at the base-URI in JSON-format</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><span class="secno">A. </span>Referenties</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#informatieve-referenties"><span class="secno">A.1 </span>Informatieve referenties</a></li></ol></li></ol></nav>
    <!-- vanaf hier per hoofdstuk een sectie of een div in het document ======================== -->
    <!-- Secties komen in de inhoudsopgave div's niet ========================================== -->
    <!-- Secties hebben verplicht <h2> tags, div's niet ======================================== -->
    <section class="informative" data-format="markdown" aria-busy="false" id="voorbeeld-een-stabiele-extensie"><!--OddPage--><h2 id="x1-voorbeeld-een-stabiele-extensie"><span class="secno">1. </span>Voorbeeld: een stabiele extensie</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Noot</span></div><p class="">Deze extensie is stabiel bevonden door de werkgroep.</p></div><p>Tekst van de extensie...</p></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="voorbeeld-een-extensie-die-nog-in-ontwikkeling-is"><!--OddPage--><h2 id="x2-voorbeeld-een-extensie-die-nog-in-ontwikkeling-is"><span class="secno">2. </span>Voorbeeld: een extensie die nog in ontwikkeling is</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-0"><div role="heading" class="warning-title marker" id="h-warning" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Tekst van de extensie...</p></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="api-beveiliging"><!--OddPage--><h2 id="x3-api-beveiliging"><span class="secno">3. </span>API Beveiliging</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-1"><div role="heading" class="warning-title marker" id="h-warning-0" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>API's zijn vanaf elke locatie vanaf het internet te benaderen. Om uitgewisselde informatie af te schermen wordt altijd gebruik gemaakt van een versleutelde verbinding op basis van TLS. Geen uitzonderingen, dus overal en altijd.</p><p>Doordat de verbinding altijd is versleuteld is het authenticatiemechanisme eenvoudiger. Hierdoor wordt het mogelijk om eenvoudige toegangstokens te gebruiken in plaats van toegangstokens met encryptie.</p><blockquote>
<p><a href="#api-11">API principe: Encrypt connections using at least TLS v1.3</a></p>
</blockquote><blockquote>
<p><a href="#api-12">API principe: Allow access to an API only if an API key is provided</a></p>
</blockquote><p>Voor meer informatie over beveiliging zie ook hoofdstuk 5.</p><section id="authenticatie-en-autorisatie"><h3 id="x3-1-authenticatie-en-autorisatie"><span class="secno">3.1 </span>Authenticatie en autorisatie</h3><p>Een REST API mag geen toestand (state) bijhouden. Dit betekent dat authenticatie en autorisatie van een verzoek niet mag afhangen van cookies of sessies. In plaats daarvan wordt elk verzoek voorzien van een token. Binnen het Kennisplatform APIs is gekozen voor OAuth 2.0 als de standaarden voor het autorisatiemechanisme waar dit nodig is, in hoofdstuk 5 is meer informatie te vinden over deze keuze en het gebruik van OAuth 2.0.</p><blockquote>
<p><a href="#api-13">API principe: Accept tokens as HTTP headers only</a></p>
</blockquote><p>Bij het gebruik van tokens wordt onderscheid gemaakt tussen geauthentiseerde en niet-geauthentiseerde services met de bijhorende headers:</p><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Geauthentiseerd</td>
<td><code>Authorization: Bearer &lt;token&gt;</code></td>
</tr>
<tr>
<td>Niet-geauthentiseerd</td>
<td><code>X-Api-Key: &lt;api-key&gt;</code></td>
</tr>
</tbody></table><p>Bij het ontbreken van de juiste headers zijn geen authenticatiedetails beschikbaar en dient de statuscode <code>403 Forbidden</code> terug te worden gegeven.</p><blockquote>
<p><a href="#api-14">API principe: Use OAuth 2.0 for authorisation</a></p>
</blockquote><p>Zie ook <a href="#Beveiliging">Het Nederlands profiel OAuth in het hoofdtuk beveiliging</a> voor een nadere uitwerking van de toepassing van OAuth.</p><blockquote>
<p><a href="#api-15">API principe: Use PKIoverheid certificates for access-restricted or purpose-limited API authentication</a></p>
</blockquote><section id="autorisatiefouten"><h4 id="x3-1-1-autorisatiefouten"><span class="secno">3.1.1 </span>Autorisatiefouten</h4><p>In een productieomgeving is het wenselijk om voor het (kunnen) autoriseren zo min mogelijk informatie weg te geven. Met dit in het achterhoofd is het advies om voor statuscode <code>401 Unauthorized</code>, <code>403 Forbidden</code> en <code>404 Not Found</code>, de volgende regels te hanteren:</p><table>
<thead>
<tr>
<th>Bestaat de resource?</th>
<th>Kan de autorisatie worden bepaald?</th>
<th>Geautoriseerd?</th>
<th>HTTP statuscode</th>
</tr>
</thead>
<tbody><tr>
<td>Ja</td>
<td>Ja</td>
<td>Ja</td>
<td><code>20x (200 OK)</code></td>
</tr>
<tr>
<td>Ja</td>
<td>Ja</td>
<td>Nee</td>
<td><code>401 Unauthorized</code></td>
</tr>
<tr>
<td>Ja</td>
<td>Nee</td>
<td>?</td>
<td><code>403 Forbidden</code></td>
</tr>
<tr>
<td>Nee</td>
<td>Ja</td>
<td>Ja</td>
<td><code>404 Not Found</code></td>
</tr>
<tr>
<td>Nee</td>
<td>Ja</td>
<td>Nee</td>
<td><code>403 Forbidden</code></td>
</tr>
<tr>
<td>Nee</td>
<td>Nee</td>
<td>?</td>
<td><code>403 Forbidden</code></td>
</tr>
</tbody></table><p>Het idee van deze regels is dat eerst wordt bepaald of de aanroeper (principal) gerechtigd is voor een resource. Is het antwoord ‘nee' of kan dat niet worden bepaald, bijvoorbeeld omdat de resource nodig is om deze beslissing te kunnen nemen en de resource niet bestaat, dan wordt 403 Forbidden teruggegeven. Op deze manier wordt geen informatie teruggegeven over het al dan niet bestaan van een resource aan een niet-geautoriseerde principal.</p><p>Een bijkomend voordeel van de strategie om eerst te bepalen of er toegang is, meer ruimte biedt om de access control logica te scheiden van de business code.</p></section><section id="openbare-identifiers"><h4 id="x3-1-2-openbare-identifiers"><span class="secno">3.1.2 </span>Openbare identifiers</h4><p>Openbaar zichtbare identifiers (ID's), zoals die veelal in URI's van RESTful API's voorkomen, zouden onderliggende mechanismen (zoals een nummergenerator) niet bloot moeten leggen en zeker geen zakelijke betekenis moeten hebben.</p><blockquote>
<p><strong>UUID</strong></p>
<p>Het wordt aanbevolen om voor resources die een vertrouwelijk karakter hebben het concept van een UUID (Universally-Unique IDentifier) te gebruiken. Dit is een 16-bytes (128-bits) binaire representatie, weergegeven als een reeks van 32 hexadecimale cijfers, in vijf groepen gescheiden door koppeltekens en in totaal 36 tekens (32 alfanumerieke tekens plus vier afbreekstreepjes):</p>
<p><code>550e8400-e29b-41d4-a716-446655440000</code></p>
<p>Om te zorgen dat de UUID's korter en gegarandeerd "web-veilig" zijn, is het advies om alleen de base64-gecodeerde variant van 22 tekens te gebruiken. De bovenstaande UUID ziet er dan als volgt uit:</p>
<p><code>abcdEFh4520juieUKHWgJQ</code></p>
</blockquote></section><section id="blootstellen-api-key"><h4 id="x3-1-3-blootstellen-api-key"><span class="secno">3.1.3 </span>Blootstellen API-key</h4><p>De API-key's die standaard worden uitgegeven zijn "unrestricted". Dat wil zeggen dat er geen gebruiksbeperkingen op zitten en ze niet blootgesteld mogen worden via een webapplicatie. Door API-key's zonder gebruiksbeperkingen toe te passen in JavaScript, is er een reële kans op misbruik en quotum-diefstal. Om dit te voorkomen dienen in dit geval zogenaamde "restricted" API-key's te worden uitgegeven en gebruikt.</p><blockquote>
<p><a href="#api-49">API principe: Use <em>public</em> API-keys</a></p>
</blockquote></section><section id="cors-policy"><h4 id="x3-1-4-cors-policy"><span class="secno">3.1.4 </span>CORS-policy</h4><p>Webbrowsers implementeren een zogenaamde "same origin policy", een belangrijk beveiligingsconcept om te voorkomen dat verzoeken naar een ander domein gaan dan waarop het is aangeboden. Hoewel dit beleid effectief is in het voorkomen van aanroepen in verschillende domeinen, voorkomt het ook legitieme interactie tussen een API's en clients van een bekende en vertrouwde oorsprong.</p><blockquote>
<p><a href="#api-50">API principe: Use CORS to control access</a>

</p>
</blockquote></section></section></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="versionering"><!--OddPage--><h2 id="x4-versionering"><span class="secno">4. </span>Versionering</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-2"><div role="heading" class="warning-title marker" id="h-warning-1" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><section id="uitfaseren-van-een-major-api-versie"><h3 id="x4-1-uitfaseren-van-een-major-api-versie"><span class="secno">4.1 </span>Uitfaseren van een major API versie</h3><p>Major releases van API's zijn altijd backward incompatible. Immers, als een nieuwe release van de API niet tot backward incompatibiliteit leidt, is er geen reden om een hele versie omhoog te gaan en spreken we van een minor release. Op het moment dat er een major release plaatsvindt, is het de bedoeling dat alle (potentiële) clients deze nieuwe versie implementeren.  </p><p>Omdat we geen clients willen breken kunnen we niet van de een op de andere dag overschakelen van de oude naar de nieuwe versie. Daarom is het noodzakelijk om na de livegang van de nieuwe versie óók de oude versie in de lucht te houden. Omdat we de oude versie niet tot in de eeuwigheid willen blijven onderhouden en juist iedereen willen stimuleren om de nieuwe versie te gaan gebruiken, communiceren we een periode waarin clients de gelegenheid krijgen om hun code aan te passen aan de nieuwe versie. Deze periode noemen we de deprecation periode. De lengte van deze periode kan verschillen per API, vaak is dit zes maanden, maar niet meer dan één jaar. Met het oog op beheersbaarheid is het ten zeerste aan te bevelen om maximaal twee major versies (waarvan één de deprecated variant) naast elkaar te draaien. In deze fase is communicatie met clients van de oude versie cruciaal. De volgende zaken moeten gecommuniceerd worden:</p><ul>
<li>Een link naar de (documentatie van de) nieuwe versie van de API;</li>
<li>Deprecation periode met exacte datum waarop de deprecated versie offline wordt gehaald;</li>
<li>Migratieplan om eenvoudig over te stappen naar de nieuwe versie;</li>
<li>Welke features er toegevoegd, gewijzigd of verwijderd worden;</li>
<li>Welke wijzigingen de huidige implementaties kunnen breken;</li>
<li>Contactmogelijkheid om een verlenging van de deprecation periode aan te vragen.</li>
</ul><p>Deze zaken dienen gecommuniceerd te worden via de volgende kanalen:</p><ul>
<li>Per e-mail van de clients (indien bekend);</li>
<li>Duidelijk leesbaar in de API documentatie van de oude versie;</li>
<li>Met een <code>Warning</code> response header in alle responses van de oude API.</li>
</ul><p>Stap voor stap betekent dit het volgende:</p><ol>
<li>Lanceren nieuwe versie;</li>
<li>Bepalen deprecation periode;</li>
<li>Schrijven migratieplan;</li>
<li>Communiceren in de API-documentatie van de oude versie;</li>
<li>Deprecation periode communiceren per e-mail, forum en eventuele andere kanalen;</li>
<li>Warning header toevoegen aan responses van de oude versie;</li>
<li>Logs checken om gebruik van de oude versie te monitoren gedurende deprecation periode;</li>
<li>End-point oude versie dichtzetten op geplande datum en feedback monitoren;</li>
<li>Indien er binnen twee weken geen feedback op de oude versie komt kan de oude versie (inclusief docs) verwijderd worden;</li>
</ol></section><section id="de-warning-response-header"><h3 id="x4-2-de-warning-response-header"><span class="secno">4.2 </span>De Warning response header</h3><p>De Warning header (zie: RFC 7234) die we hier gebruiken heeft warn-code 299 ("Miscellaneous Persistent Warning") en het API endpoint (inclusief versienummer) als de warn-agent van de warning, gevolgd door de warn-text met de human-readable waarschuwing. Voorbeeld:</p><p><code>Waarschuwing: 299 https://service.../api/.../v1 "Deze versie van de API is verouderd en zal uit dienst worden genomen op 2018-02-01. Raadpleeg voor meer informatie hier de documentatie: https://omgevingswet.../api/.../v1".</code></p><p>Gebruikers moeten voldoende tijd hebben om de oude API uit te faseren. Een periode van 6 tot 12 maanden wordt aanbevolen.</p><blockquote>
<p><a href="#api-21">API principe: Inform users of a deprecated API actively</a></p>
</blockquote></section></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="json"><!--OddPage--><h2 id="x5-json"><span class="secno">5. </span>JSON</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-3"><div role="heading" class="warning-title marker" id="h-warning-2" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>JavaScript Object Notation (JSON) is een formaat, net zoals XML, om gegevens te serialiseren, op te slaan en te versturen. JSON is het primaire representatieformaat voor API's. Voor meer informatie over JSON zie <a href="https://json.org">https://json.org</a>. In tegenstelling tot XML kent JSON een compacte notatie, bijvoorbeeld:</p><pre><code class="language-json hljs" aria-busy="false">{
"persoon": {
  "naam": "Jan",
  "geboortejaar": 1983
}
}</code></pre><blockquote>
<p><a href="#api-22">API principe: JSON first - APIs receive and send JSON</a></p>
</blockquote><blockquote>
<p><a href="#api-23">API principe: APIs may provide a JSON Schema</a></p>
</blockquote><blockquote>
<p><a href="#api-24">API principe: Support content negotiation</a></p>
</blockquote><blockquote>
<p><a href="#api-25">API principe: Check the Content-Type header settings</a></p>
</blockquote><section id="veldnamen-in-snake_case-camelcase-uppercamelcase-of-kebab-case"><h3 id="x5-1-veldnamen-in-snake_case-camelcase-uppercamelcase-of-kebab-case"><span class="secno">5.1 </span>Veldnamen in <code>snake_case</code>, <code>camelCase</code>, <code>UpperCamelCase</code> of <code>kebab-case</code>?</h3><p>Bij veldnamen wordt gebruik gemaakt van <code>camelCase</code>.</p><blockquote>
<p><a href="#api-26">API principe: Define field names in in <code>camelCase</code></a></p>
</blockquote></section><section id="pretty-print"><h3 id="x5-2-pretty-print"><span class="secno">5.2 </span>Pretty print</h3><p>De meeste REST clients en browsers (al dan niet met extensies) kunnen JSON netjes geformatteerd weergeven, ook als de response geen white-space bevat.</p><blockquote>
<p><a href="#api-27">API principe: Disable pretty print</a></p>
</blockquote></section><section id="gebruik-geen-envelop"><h3 id="x5-3-gebruik-geen-envelop"><span class="secno">5.3 </span>Gebruik geen envelop</h3><p>Veel API's wikkelen antwoorden in enveloppen zoals hieronder is weergegeven:</p><pre><code class="language-json hljs" aria-busy="false">{
"persoon": {
  "naam": "Jan",
  "geboortejaar": 1983
}
}</code></pre><p>Een toekomstbestendig API is vrij van enveloppen.</p><blockquote>
<p><a href="#api-28">API principe: Send a JSON-response without enclosing envelope</a></p>
</blockquote></section><section id="json-gecodeerde-post-put-en-patch-payloads"><h3 id="x5-4-json-gecodeerde-post-put-en-patch-payloads"><span class="secno">5.4 </span>JSON gecodeerde <code>POST</code>, <code>PUT</code> en <code>PATCH</code> payloads</h3><p>API's ondersteunen minimaal JSON gecodeerde <code>POST</code>, <code>PUT</code> en <code>PATCH</code> payloads. Encoded form data (<code>application/x-www-form-urlencoded</code>) payloads worden niet ondersteund. Wat is het verschil?</p><p><code>Content-Type: application/json</code> resulteert in:</p><pre><code class="language-json hljs" aria-busy="false">{
"Name": "John Smith",
"Age": 23
}</code></pre><p>en <code>Content-Type: application/x-www-form-urlencoded</code> resulteert in: <code>Name=John+Smith&amp;Age=23</code></p><blockquote>
<p><a href="#api-29">API principe: Support JSON-encoded <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> payloads</a></p>
</blockquote></section></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="filteren"><!--OddPage--><h2 id="x6-filteren"><span class="secno">6. </span>Filteren</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-4"><div role="heading" class="warning-title marker" id="h-warning-3" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Er wordt gekozen om de basis URL's van resources zo eenvoudig mogelijk te houden. Complexe resultaatfilters, sorteren en geavanceerd zoeken (wanneer dit beperkt blijft tot een enkele resource) worden geïmplementeerd als query-parameters bovenop de basis URL.  </p><p>Om te filteren wordt gebruik gemaakt van unieke query-parameters die gelijk zijn aan de velden waarop gefilterd kan worden. Als je bijvoorbeeld een lijst met aanvragen wilt opvragen van het eindpunt <code>/aanvragen</code> en deze wilt beperken tot open aanvragen, dan wordt het verzoek <code>GET /aanvragen?status=open</code> gebruikt. Hier is <code>status</code> een veld waarop gefilterd kan worden.</p><blockquote>
<p><a href="#api-30">API principe: Use query parameters corresponding to the queryable fields</a></p>
</blockquote><p>Dezelfde systematiek kan worden gehanteerd voor geneste properties. Zoals uitgewerkt met een voorbeeld op basis van de volgende collectie:</p><pre><code class="language-json hljs" aria-busy="false">[{
"id": 1,
"status": "actief",
"overheid": {
  "code": "0000",
  "naam": "Ministerie van BZK"
}
}, {
"id": 2,
"status": "inactief",
"overheid": {
  "code": "9901",
  "naam": "Provincie Gelderland"
}
}]</code></pre><p>Alle objecten met de status "actief" kunnen worden gefilterd met <code>/?status=actief</code>. Maar als daarnaast ook op objecten met code "0000" van de overheid gefilterd moeten worden, heeft dit betrekking op een geneste property. Hier kan dan de puntnotatie (zoals bij Javascript) voor worden gebruikt: <code>/?status=actief&amp;overheid.code=0000</code>.</p></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="sorteren"><!--OddPage--><h2 id="x7-sorteren"><span class="secno">7. </span>Sorteren</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-5"><div role="heading" class="warning-title marker" id="h-warning-4" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Voor sorteren wordt de query-parameter <code>sorteer</code> gebruikt. Deze query-parameter accepteert een lijst van velden waarop gesorteerd moet worden gescheiden door een komma. Door een minteken ("-") voor de veldnaam te zetten wordt het veld in aflopende sorteervolgorde gesorteerd. Een aantal voorbeelden:</p><table>
<thead>
<tr>
<th>Request</th>
<th>Toelichting</th>
</tr>
</thead>
<tbody><tr>
<td><code>GET /aanvragen?sorteer=-prio</code></td>
<td>Haalt een lijst van aanvragen op gesorteerd in aflopende volgorde van prioriteit.</td>
</tr>
<tr>
<td><code>GET /aanvragen?sorteer=-prio,aanvraagDatum</code></td>
<td>Haalt een lijst van aanvragen in aflopende volgorde van prioriteit op. Binnen een specifieke prioriteit, komen oudere aanvragen eerst.</td>
</tr>
</tbody></table><blockquote>
<p><a href="#api-31">API principe: Use the query parameter <code>sorteer</code> to sort</a></p>
</blockquote></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="zoeken"><!--OddPage--><h2 id="x8-zoeken"><span class="secno">8. </span>Zoeken</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-6"><div role="heading" class="warning-title marker" id="h-warning-5" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Soms zijn eenvoudige filters onvoldoende en is de kracht van vrije-tekst zoekmachines nodig. API's ondersteunen dit middels de query-parameter <code>zoek</code>. Het resultaat wordt in dezelfde representatie teruggegeven.</p><blockquote>
<p><a href="#api-32">API principe: Use the query parameter <code>zoek</code> for full-text search</a></p>
</blockquote><p>Voorbeelden van de combinatie filteren, sorteren en zoeken:</p><table>
<thead>
<tr>
<th>Request</th>
<th>Toelichting</th>
</tr>
</thead>
<tbody><tr>
<td><code>GET /aanvragen?sorteer=-wijzigingDatum</code></td>
<td>Haalt een lijst van recente aanvragen op</td>
</tr>
<tr>
<td><code>GET /aanvragen?status=gesloten&amp;sorteer=-wijzigingDatum</code></td>
<td>Haalt een lijst van recent gesloten aanvragen op</td>
</tr>
<tr>
<td><code>GET /aanvragen?zoek=urgent&amp;status=open&amp;sorteer=-prio,aanvraagDatum</code></td>
<td>Haalt een lijst van aanvragen op met de status 'open' en waarin het woord 'urgent' voorkomt, gesorteerd van hoogste naar laagste prioriteit, en daarbinnen op aanvraagdatum van oud naar nieuw</td>
</tr>
</tbody></table><section id="wildcards"><h3 id="x8-1-wildcards"><span class="secno">8.1 </span>Wildcards</h3><p>API's die vrije-tekst zoeken ondersteunen kunnen overweg met twee soorten wildcard karakters:</p><ul>
<li><code>*</code> Komt overeen met nul of meer (niet-spatie) karakters</li>
<li><code>?</code>  Komt precies overeen met één (niet-spatie) karakter</li>
</ul><p>Bijvoorbeeld, <code>he*</code> zal overeenkomen met elk woord dat begint met <code>he</code>, zoals <code>hek</code>, <code>hemelwaterafvoer</code>, enzovoort. In het geval van <code>he?</code> komt dit alleen overeen met drie letterwoorden die beginnen met <code>he</code>, zoals <code>hek</code>, <code>heg</code>, enzovoort.</p><blockquote>
<p><a href="#api-33">API principe: Support both <code>*</code> and <code>?</code> wildcard characters for full-text search APIs</a></p>
</blockquote><p>Hieronder volgen nog een aantal basisregels voor wildcards in zoekopdrachten:</p><ul>
<li>Er kan meer dan één wildcard in één zoekterm of zin voorkomen.</li>
<li>De twee wildcard karakters kunnen in combinatie worden gebruikt. Bijvoorbeeld <code>m*??</code> komt overeen met woorden die beginnen met <code>m</code> en drie of meer tekens hebben.</li>
<li>Spaties (URL-encoded als <code>%20</code>) worden gebruikt als woordscheiding en wildcardmatching werkt alleen binnen een enkel woord. Bijvoorbeeld, <code>r*te*</code> komt overeen met de <strong><code>r</code></strong><code>uim</code><strong><code>te</code></strong><code>lijk</code>, maar niet met <strong><code>r</code></strong><code>uimte</code> <strong><code>te</code></strong><code>kort</code>.</li>
<li>Wildcards werken alleen op JSON-velden met tekst (string) waarden.  </li>
</ul></section><section id="aliassen-voor-terugkerende-queries"><h3 id="x8-2-aliassen-voor-terugkerende-queries"><span class="secno">8.2 </span>Aliassen voor terugkerende queries</h3><p>Om de API ervaring verder te verbeteren is het mogelijk om terugkerende queries als endpoints aan te bieden. Zo kunnen onlangs gesloten aanvragen als volgt worden benaderd:</p><p><code>GET /aanvragen/recent-gesloten</code></p></section></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="tijdreizen"><!--OddPage--><h2 id="x9-tijdreizen"><span class="secno">9. </span>Tijdreizen</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-7"><div role="heading" class="warning-title marker" id="h-warning-6" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Informatie over een resource is onderhevig aan verandering. Tijdreizen is een mechanisme waarmee het mogelijk is om op standaard manier informatie op te vragen over een bepaald moment in de tijd. De drie belangrijkste tijdsmomenten vanuit het perspectief van tijdreizen via een API zijn:</p><table>
<thead>
<tr>
<th>Tijdsmoment</th>
<th>Omschrijving</th>
</tr>
</thead>
<tbody><tr>
<td>Geldig</td>
<td>Dit is een tijdstip waarop de teruggegeven gegevens in de werkelijkheid geldig zijn.</td>
</tr>
<tr>
<td>Beschikbaar</td>
<td>Dit is een tijdstip waarop geldt dat de teruggegeven gegevens beschikbaar waren via dezelfde API.</td>
</tr>
<tr>
<td>In werking (getreden op)</td>
<td>Dit is een tijdstip waarop een besluit (of delen daarvan), dan wel de daarvan afgeleide gegevens (zoals de definitie van een begrip) juridische werking krijgt.</td>
</tr>
</tbody></table><p>Het basisprincipe voor het tijdreizen is daarbij als volgt:</p><ul>
<li>Indien er geen specifieke datum wordt meegegeven, dan wordt de meest actueel geldige informatie teruggegeven, zoals gebruikelijk op het internet. Indien er nog geen enkele geldige versie bestaat, dan wordt de meest actueel bekende versie teruggegeven;</li>
<li>Indien een specifieke datum wordt meegegeven, wordt deze meegegeven als query-parameter die onderdeel is van de URI.</li>
<li>Bij het opgeven van een specifieke datum wordt onderscheid gemaakt tussen:</li>
<li>welke gegevens op die datum geldig waren(geldigOp);</li>
<li>welke gegevens op die datum beschikbaar waren (beschikbaarOp);</li>
<li>welke regels op die datum juridisch in werking waren getreden (inWerkingOp).</li>
</ul><p>De waarden van de drie query-parameters in de URI zijn als volgt opgebouwd (gebaseerd op RFC3339 / ISO 8601):</p><table>
<thead>
<tr>
<th>Parameter</th>
<th>Waarde</th>
</tr>
</thead>
<tbody><tr>
<td><code>geldigOp</code></td>
<td><code>YYYY-MM-DD</code></td>
</tr>
<tr>
<td><code>beschikbaarOp</code></td>
<td><code>YYYY-MM-DDThh:mm:ss.s</code></td>
</tr>
<tr>
<td><code>inWerkingOp</code></td>
<td><code>YYYY-MM-DD</code></td>
</tr>
</tbody></table><table>
<thead>
<tr>
<th>Waarde</th>
<th>Betekenis</th>
</tr>
</thead>
<tbody><tr>
<td><code>YYYY</code></td>
<td>Viercijferig jaar</td>
</tr>
<tr>
<td><code>MM</code></td>
<td>Tweecijferige maand (01 = januari, enz.)</td>
</tr>
<tr>
<td><code>DD</code></td>
<td>Tweecijferige dag van de maand (01 tot en met 31)</td>
</tr>
<tr>
<td><code>hh</code></td>
<td>Twee cijfers van het uur (00 tot 23) (am / pm niet toegestaan)</td>
</tr>
<tr>
<td><code>mm</code></td>
<td>Twee cijfers van de minuut (00 tot en met 59)</td>
</tr>
<tr>
<td><code>ss</code></td>
<td>twee cijfers van de seconden (00 tot en met 59)</td>
</tr>
<tr>
<td><code>s</code></td>
<td>Eén of meer cijfers die een decimale fractie van een seconde vertegenwoordigen</td>
</tr>
</tbody></table><section id="mate-van-ondersteuning"><h3 id="x9-1-mate-van-ondersteuning"><span class="secno">9.1 </span>Mate van ondersteuning</h3><p>Tijdreizen is een optioneel mechanisme met optionele features. Het kan dus voorkomen dat:</p><ul>
<li>tijdreizen in het geheel niet wordt ondersteund;</li>
<li>het begrip inwerkingtreding niet wordt ondersteund;</li>
<li>tijdreizen naar de toekomst niet wordt ondersteund.</li>
</ul><p>Bij de verwerking van tijdreisvragen dient de afnemer geïnformeerd te worden over ongeldige/niet ondersteunde verzoeken. In de volgende specifieke gevallen wordt de bijbehorende statuscode en toelichting teruggegeven:</p><table>
<thead>
<tr>
<th>Wat wordt niet ondersteund?</th>
<th>HTTP statuscode en toelichting</th>
</tr>
</thead>
<tbody><tr>
<td>Tijdreizen</td>
<td><code>HTTP/1.1 403 Content-Type: application/problem+json Content-Language: nl { "type": ".../id/&lt;c&gt;/parameter/TijdreizenNietOndersteund", "title": "{Het verzoek is begrepen, maar de tijdreisparameters worden niet ondersteund}", "status": 403, "detail": "{Tijdreizen wordt niet ondersteund, verwijder alle tijdreisparameters}", "instance": "/resource/#id"}</code></td>
</tr>
<tr>
<td>Inwerkingtreding</td>
<td><code>HTTP/1.1 403 Content-Type: application/problem+json Content-Language: nl { "type":".../id/&lt;c&gt;/parameter/InWerkingTredingNietOndersteund’", "title": "{Het verzoek is begrepen, maar de tijdreisparameter ‘inWerkingOp’ wordt niet ondersteund}", "status": 403, "detail": "{Tijdreizen met een inwerkingstredingsmoment wordt niet ondersteund, verwijder de parameter ‘inWerkingOp’}", "instance": "/resource/#id"}</code></td>
</tr>
<tr>
<td>Toekomst</td>
<td><code>HTTP/1.1 403 Content-Type: application/problem+json Content-Language: nl { "type": ".../id/&lt;c&gt;/parameter/ToekomstNietOndersteund", "title": "{Het verzoek is begrepen, maar tijdreisparameters mogen geen tijdstip in de toekomst bevatten” }", "status": 403, "detail": "{Tijdreizen naar de toekomst wordt niet ondersteund, verwijder de tijdreisparameters of gebruik een tijdstip in het verleden}", "instance": "/resource/#id"}</code></td>
</tr>
</tbody></table></section><section id="robuustheid"><h3 id="x9-2-robuustheid"><span class="secno">9.2 </span>Robuustheid</h3><p>Bij de verwerking van tijdreisvragen dient ook rekening te worden gehouden met het ontbreken van historie en globale vragen in een resource-collectie. In volgende specifieke gevallen wordt de bijbehorende statuscode en toelichting teruggegeven:</p><table>
<thead>
<tr>
<th>Soort verzoek</th>
<th>HTTP statuscode en toelichting</th>
</tr>
</thead>
<tbody><tr>
<td>Specifieke resource</td>
<td><code>HTTP/1.1 404 Content-Type: application/problem+json Content-Language: nl {"type": ".../id/&lt;c&gt;/BestaatNiet", "title": "De gevraagde versie bestaat niet.", "status": 404, "detail": "Versie 2017-01-01 van regeling 123 bestaat niet.", "instance": "/regelingen/v1/123?geldigOp=2017-01-01"}</code></td>
</tr>
<tr>
<td>Resource-collectie</td>
<td><code>GET .../regelingen/v1?beschikbaarOp=2017-01-01T00:00:00 HTTP/1.1 200 Content-Type: application/json+hal {"_links": {"self": {"href": "/r-n/v1/123?beschikbaarOp=2017-01-01T00:00:00" }, "items": [ { "href": "/r-n/v1/123?beschikbaarOp=2017-01-01T00:00:00" }, { "href": "/r-n/v1/456?beschikbaarOp=2017-01-01T00:00:00" }, { "href": "/r-n/v1/789?beschikbaarOp=2017-01-01T00:00:00" }] } }</code></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table></section></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="geo-ondersteuning"><!--OddPage--><h2 id="x10-geo-ondersteuning"><span class="secno">10. </span>GEO-ondersteuning</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-8"><div role="heading" class="warning-title marker" id="h-warning-7" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>REST API's voor het werken met geometrieën kunnen een filter aanbieden op basis van geografische gegevens. Het is hierbij belangrijk om een onderscheid te maken tussen een geometrie in het resultaat (response) en een geografische filter in de aanroep (request). Het is immers niet vanzelfsprekend dat als iemand wil weten in welk perceel ik hij/zij zich momenteel bevindt, dat ook de geometrie in de response wordt teruggegeven; een naam of nummer kan dan al voldoende zijn.</p><blockquote>
<p><a href="#api-34">API principe: Support GeoJSON for GEO APIs</a></p>
</blockquote><p>Voor GEO API's wordt bij voorkeur de standaard GeoJSON [<cite><a class="bibref" href="#bib-rfc8142">rfc8142</a></cite>] gebruikt.</p><section id="resultaat-response"><h3 id="x10-1-resultaat-response"><span class="secno">10.1 </span>Resultaat (response)</h3><p>In een JSON API wordt een geometrie teruggegeven als GeoJSON. We kiezen er voor om dit binnen de <code>application/json</code> te ‘wrappen' in een apart GeoJSON object.</p><blockquote>
<p><a href="#api-35">API principe: Include GeoJSON as part of the embedded resource in the JSON response</a></p>
</blockquote></section><section id="aanroep-requests"><h3 id="x10-2-aanroep-requests"><span class="secno">10.2 </span>Aanroep (requests)</h3><p>Een geografisch filter kan erg complex en groot zijn. Het is daarom een best practice om dergelijke complexe vragen niet in de request URI, maar in de body mee te sturen. Omdat <code>GET</code> geen payload mag hebben (hoewel sommige clients dit wel ondersteunen) moet hier dus een andere methode voor gebruikt worden.</p><p>In analogie met API's zoals die van Elasticsearch, is een <code>POST</code> naar een apart endpoint de juiste weg om te bewandelen. Het onderstaande voorbeeld doet een zogenaamde GEO-query naar alle panden waarin het veld <code>_geo</code> (er kunnen ook andere velden zijn, zoals <code>hoofdgeometrie</code>, <code>binnenOmtrek</code>, <code>buitenOmtrek</code>, etc.) het GeoJSON object (in dit geval een <code>Point</code>, dus één coördinaat) bevat:</p><pre><code class="language-json hljs" aria-busy="false">// POST /api/v1/panden/_zoek met request body:
{
"_geo": {
  "contains": {
    "type": "Point",
    "coordinates": [5.9623762, 52.2118093]
  }
}
}</code></pre><blockquote>
<p><a href="#api-36">API principe: Provide a <code>POST</code> endpoint for GEO queries</a></p>
</blockquote><p>Omdat we ons met het geo endpoint beperken tot een GEO-query en we wellicht ook gecombineerde queries willen doen is het sterk aan te bevelen om een generiek query endpoint in te richten:</p><pre><code class="language-json hljs" aria-busy="false">// POST /api/v1/panden/_zoek met request body:
{
"_geo": {
  "contains": {
    "type": "Point",
    "coordinates": [5.9623762, 52.2118093]
  }
},
"status": "Actief"
}</code></pre><blockquote>
<p><a href="#api-37">API principe: Support mixed queries at <code>POST</code> endpoints</a></p>
</blockquote><p>Naast contains kan er ook <code>intersects</code> (snijdt) of <code>within</code> (valt binnen) als operators gebruikt worden. De benamingen van deze operators komen uit de GEO-wereld en die willen we niet opnieuw uitvinden. Zie voor meer details: <a href="https://www.w3.org/TR/sdw-bp/#entity-level-links">https://www.w3.org/TR/sdw-bp/#entity-level-links</a>  </p><p>Omdat we voor de geometrie een GeoJSON object gebruiken hoeven we hier geen syntax meer voor te verzinnen.</p><blockquote>
<p><a href="#api-38">API principe: Put results of a global spatial query in the relevant geometric context</a></p>
</blockquote><p>In het volgende voorbeeld wordt aangegeven hoe dit kan worden gerealiseerd:</p><pre><code class="language-json hljs" aria-busy="false">// POST /api/v1/_zoek:
{
"_embedded": {
  "results": [{
    "type": "enkelbestemming",
    "_links": {
      "self": {
        "title": "Enkelbestemming 1234",
        "href": "/enkelbestemmingen/1234"
      }
    }
  }, {
    "type": "dubbelbestemming",
    "_links": {
      "self": {
        "title": "Dubbelbestemming 8765",
        "href": "/dubbelbestemmingen/8765"
      }
    }
  }]
}
}</code></pre></section><section id="crs-negotiation"><h3 id="x10-3-crs-negotiation"><span class="secno">10.3 </span>CRS-negotiation</h3><p>Het default CRS (Coordinate Reference System) van GeoJSON is WGS84. Dit is het globale coördinatenstelsel dat overal ter wereld redelijk goed bruikbaar is, maar vanwege het gebruikte model van de aarde en de verschuiving van de tektonische platen minder nauwkeurig is dan lokale coördinatenstelsels zoals ETRS89 (EPSG:4258, Europees) of RD (EPSG:28992, Nederlands).</p><p>Omdat de meeste client-bibliotheken met WGS84 werken, schrijft de W3C/OGC werkgroep "Spatial Data on the Web" voor om dit standaard te ontsluiten. Dit kan direct op een kaart geplot worden zonder moeilijke transformaties. De API-strategie voorziet hierin door naast ETRS89 en RD ook WGS84 of Web Mercator (EPSG:3857, voor rasterdata) te ondersteunen.</p><blockquote>
<p><a href="#api-39">API principe: Use ETRS89 as the preferred coordinate reference system (CRS)</a></p>
</blockquote><p>Het is mogelijk om het CRS voor vraag en antwoord via headers afzonderlijk te specificeren. Hierin zijn vervolgens drie opties (met voorgeschreven projecties) voorhanden: RD, ETRS89 en WGS84.</p><p>Een nadere opsomming van de uitgangspunten voor het CRS:</p><ul>
<li>Leg als bronsysteem binnenkomende formaat vast (juridische context);</li>
<li>Coördinatenstelsels API-strategie: vraag/antwoord in RD; ETRS89; WGS84;</li>
<li>Overweeg no-regret: vastleggen in ETRS89 én RD i.p.v. realtime bepalen;</li>
<li>Hanteer RDNAPTRANS™ 2018 bij transformatie RD versus ETRS89 (correctiegrid);</li>
<li>Presentatie afhankelijk van context (o.a. gebruikerswensen);</li>
<li>Uitwisselingsformaat (notatie) ETRS89 en WGS84 X Y in decimale graden: DD.ddddddddd (voorbeeld: <code>52.255023450</code>)</li>
<li>Uitwisselingsformaat (notatie) RD X Y in meters (niet afgerond): <code>195427.5200 311611.8400</code></li>
</ul><blockquote>
<p><a href="#api-40">API principe: Pass the coordinate reference system (CRS) of the request and the response in the headers</a></p>
</blockquote><p>De hier genoemde headers zijn puur bedoeld voor de onderhandeling tussen de client en de server. Afhankelijk van de toepassing zal naast de geometrieën ook specifieke metadata onderdeel vormen van het antwoord, bijvoorbeeld de oorspronkelijke realisatie inclusief een inwindatum.</p><p>Vraag en antwoord kunnen op een ander coördinatensysteem zijn gebaseerd. Hiervoor wordt het HTTP-mechanisme voor content negotiation gebruikt. Het CRS van de geometrie in de vraag (request body) wordt aangeduid met de header <code>Content-Crs</code>.</p><table>
<thead>
<tr>
<th>HTTP header</th>
<th>Waarde</th>
<th>Toelichting</th>
</tr>
</thead>
<tbody><tr>
<td><code>Content-Crs</code></td>
<td>EPSG:3856</td>
<td>WGS84, Wereld (Web-Mercator-projectie)</td>
</tr>
<tr>
<td><code>Content-Crs</code></td>
<td>EPSG:4258</td>
<td>ETRS89, Europees</td>
</tr>
<tr>
<td><code>Content-Crs</code></td>
<td>EPSG:28992</td>
<td>RD, Nederlands</td>
</tr>
</tbody></table><p>Het gewenste CRS voor de geometrie in het antwoord (response body) wordt aangeduid met de header <code>Accept-Crs</code>.  </p><table>
<thead>
<tr>
<th>HTTP header</th>
<th>Waarde</th>
<th>Toelichting</th>
</tr>
</thead>
<tbody><tr>
<td><code>Accept-Crs</code></td>
<td>EPSG:3856</td>
<td>WGS84, Wereld (Web-Mercator-projectie)</td>
</tr>
<tr>
<td><code>Accept-Crs</code></td>
<td>EPSG:4258</td>
<td>ETRS89, Europees</td>
</tr>
<tr>
<td><code>Accept-Crs</code></td>
<td>EPSG:28992</td>
<td>RD, Nederlands</td>
</tr>
</tbody></table></section><section id="crs-transformatie"><h3 id="x10-4-crs-transformatie"><span class="secno">10.4 </span>CRS-transformatie</h3><p>Voor het transformeren tussen coördinaatreferentiesystemen is binnen de Rijksoverheid software met een keurmerk beschikbaar.</p><blockquote>
<p><a href="#api-41">API principe: Use content negotiation to serve different CRSs</a></p>
</blockquote></section></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="paginering"><!--OddPage--><h2 id="x11-paginering"><span class="secno">11. </span>Paginering</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-9"><div role="heading" class="warning-title marker" id="h-warning-8" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Voor paginering wordt voor het media type 'application/hal+json' aangesloten op Hypertext Application Language (HAL). Aan geretourneerde objecten worden twee gereserveerde velden <code>_links</code> (verplicht) en <code>_embedded</code> (optioneel) toegevoegd. Deze velden vertegenwoordigen respectievelijk hyperlinks en embedded resources.  </p><p>Hier is een voorbeeld van een JSON+HAL representatie:</p><pre><code class="language-json hljs" aria-busy="false">{
"_links": {
  "self": {
    "href": "https://.../api/registratie/v1/aanvragen?pagina=3"
  },
  "first": {
    "href": "https://.../api/registratie/v1/aanvragen"
  },
  "prev": {
    "href": "https://.../api/registratie/v1/aanvragen?pagina=2"
  },
  "next": {
    "href": "https://.../api/registratie/v1/aanvragen?pagina=4"
  },
  "last": {
    "href": "https://.../api/registratie/v1/aanvragen?pagina=5"
  }
},
"id": "https://.../api/registratie/v1/aanvragen/12",
"naam": "Mijn dakkapel",
"samenvatting": "Ik wil een dakkapel bouwen!",
"_embedded": {
  "aanvrager": {
    "naam": "Bob"
  }
}
}</code></pre><p>Indien het "plain" JSON, GeoJSON of iets anders dan HAL betreft zijn er geen <code>_links</code>. Deze kunnen dan opgenomen worden in de link response headers. Naast de representatie wordt de volgende metadata teruggegeven als HTTP headers.</p><table>
<thead>
<tr>
<th>HTTP header</th>
<th>Toelichting</th>
</tr>
</thead>
<tbody><tr>
<td><code>X-Total-Count</code> (optioneel)</td>
<td>Totaal aantal resultaten</td>
</tr>
<tr>
<td><code>X-Pagination-Count</code> (optioneel)</td>
<td>Totaal aantal pagina's</td>
</tr>
<tr>
<td><code>X-Pagination-Page</code> (optioneel)</td>
<td>Huidige pagina</td>
</tr>
<tr>
<td><code>X-Pagination-Limit</code> (optioneel)</td>
<td>Aantal resultaten per pagina</td>
</tr>
</tbody></table><p>Bij grote datasets kunnen de berekeningen voor X-Total-Count en X-Pagination-Count behoorlijke impact hebben op de performance, voornamelijk als er niet of nauwelijks gefilterd wordt.</p><blockquote>
<p><a href="#api-42">API principe: Use JSON+HAL with media type <code>application/hal+json</code> for pagination</a></p>
</blockquote><p>Alle links in HAL zijn absoluut. Dit in verband met mogelijke externe links (naar andere endpoints, linked-data resources, etc.) en eenvoudigere navigatie door clients die dan niet zelf de URL hoeven op te bouwen.</p></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="caching"><!--OddPage--><h2 id="x12-caching"><span class="secno">12. </span>Caching</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-10"><div role="heading" class="warning-title marker" id="h-warning-9" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Voor sommige resources kan het nuttig zijn om caching toe te passen. HTTP biedt voor caching standaard mechanismes. Door deze mechanismes te gebruiken wordt gebruik gemaakt van standaard caching oplossingen van de client en in de infrastructuur.  </p><p>Het enige wat nodig is om hiervan gebruik te maken is:</p><ul>
<li>Een aantal extra uitgaande HTTP headers toevoegen;</li>
<li>Functionaliteit om een aantal specifieke inkomende HTTP headers af te handelen.</li>
</ul><p>Er zijn 2 manieren om caching te realiseren: ETag en Last-Modified.</p><section id="etag"><h3 id="x12-1-etag"><span class="secno">12.1 </span>ETag</h3><p>Een ETag (Entity Tag) is een hashcode of checksum van een resource. Als de resource wijzigt ontstaat een andere ETag. Een ETag is dus uniek voor een bepaalde versie van een resource. De ETag wordt als de HTTP header <code>ETag</code> teruggegeven met de resource. De afnemer cached de resource en de ETag. Als de afnemer dezelfde resource opvraagt dan stuurt deze de ETag mee in de HTTP header <code>If-None-Match</code>. De server controleert of de ETag in de HTTP header <code>If-None-Match</code> gelijk is aan de eigen ETag. Indien dit het geval geeft de server een HTTP statuscode <code>304 Not Modified</code> terug. De afnemer laadt dan de resource uit de eigen cache. Dit gaat alleen op over clientside caching, dus is alleen van toepassing als de client ook daadwerkelijk de request headers meestuurt, anders altijd een <code>200 OK</code>.</p></section><section id="last-modified"><h3 id="x12-2-last-modified"><span class="secno">12.2 </span>Last-Modified</h3><p>Dit werkt in principe net als ETag, behalve dat het gebruik maakt van tijdstempels. De HTTP header <code>Last-Modified</code> bevat een tijdstempel in het RFC 1123 formaat die wordt gevalideerd tegen de HTTP header <code>If-Modified-Since</code>. De server controleert of de resource gewijzigd is sinds het aangegeven tijdstip. Indien dit niet het geval is dan geeft de server een HTTP statuscode <code>304 Not Modified</code> terug. De afnemer laadt dan de resource uit de eigen cache. Dit gaat alleen op over client-side caching, dus is alleen van toepassing als de client ook daadwerkelijk de request headers meestuurt, anders altijd een <code>200 OK</code>.</p><blockquote>
<p><a href="#api-43">API principe: Apply caching to improve performance</a></p>
</blockquote></section></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="begrenzingen"><!--OddPage--><h2 id="x13-begrenzingen"><span class="secno">13. </span>Begrenzingen</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-11"><div role="heading" class="warning-title marker" id="h-warning-10" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>API's beperken het aantal verzoeken dat per tijdsperiode gedaan kan worden, om te voorkomen dat de servers overbelast worden om een hoog serviceniveau te garanderen. API's kunnen een bevragingslimiet (quota) per maand bijhouden en die wordt afgedwongen per tijdsperiode van 60 seconden.</p><p>HTTP headers worden gebruikt om de bevragingslimit naar de gebruiker te communiceren.</p><table>
<thead>
<tr>
<th>HTTP header</th>
<th>Toelichting</th>
</tr>
</thead>
<tbody><tr>
<td><code>X-Rate-Limit-Limit</code></td>
<td>Geeft aan hoeveel verzoeken een applicatie mag doen per tijdsperiode</td>
</tr>
<tr>
<td><code>X-Rate-Limit-Remaining</code></td>
<td>Geeft aan hoeveel verzoeken nog gedaan kunnen worden in de huidige tijdsperiode</td>
</tr>
<tr>
<td><code>X-Rate-Limit-Reset</code></td>
<td>Geeft aan hoeveel seconden over zijn in de huidige tijdsperiode</td>
</tr>
</tbody></table><blockquote>
<p><a href="#api-44">API principe: Apply rate limiting</a></p>
</blockquote><p>[<cite><a class="bibref" href="#bib-rfc6585">rfc6585</a></cite>] introduceert een HTTP statuscode <code>429 Too Many Requests</code> die wordt gebruikt om het overschrijden van het aantal verzoeken te melden aan de gebruiker.</p><blockquote>
<p><a href="#api-45">API principe: Provide rate limiting information</a></p>
</blockquote></section>
    <section class="informative" data-format="markdown" aria-busy="false" id="foutafhandeling"><!--OddPage--><h2 id="x14-foutafhandeling"><span class="secno">14. </span>Foutafhandeling</h2><p><em>Dit onderdeel is niet normatief.</em></p><div class="warning" id="issue-container-generatedID-12"><div role="heading" class="warning-title marker" id="h-warning-11" aria-level="3"><span>Waarschuwing</span></div><p class="">Deze extensie is nog in ontwikkeling en kan elk moment wijzigen.</p></div><p>Net als een webpagina een bruikbare foutmelding toont aan bezoekers als een fout optreedt, moet een API een bruikbare foutmelding in een bekend en verwerkbaar formaat teruggeven. De representatie van een fout is niet anders dan de representatie van een willekeurige resource alleen met een eigen set van velden.</p><p>De API moet altijd zinvolle HTTP statuscodes teruggeven. HTTP statuscodes zijn opgesplitst in twee categorieën:</p><ul>
<li>400 reeks: voor inhoudelijke fouten</li>
<li>500 reeks: voor server problemen</li>
</ul><p>Een JSON representatie van een fout moet een aantal zaken bevatten om een ontwikkelaar, beheerder en eindgebruiker te helpen:  </p><ul>
<li>Een uniek fouttype in de vorm van een URI die verwijst naar informatie in externe (HTML) documentatie;</li>
<li>Een korte maar nuttig foutmelding;</li>
<li>Een gedetailleerde beschrijving van de fout (die helpt bij het oplossen);</li>
<li>Een unieke identificatie in de vorm van een URI die hoort bij het specifieke voorkomen van de fout (de fout-instantie). Het strekt de voorkeur om een URN te gebruiken waarmee alleen daartoe gerechtigde gebruikers details kunnen opzoeken in de fout-log.  </li>
</ul><p>De basis voor deze standaardformaten is [<cite><a class="bibref" href="#bib-rfc7807">rfc7807</a></cite>]. Een JSON-representatie van een fout ziet er als volgt uit:</p><pre><code class="language-json hljs" aria-busy="false">{
"type": "URI: https://content.omgevingswet.overheid.nl/id/&lt;c&gt;[/{categorie}]/{fout}",
"title": "Hier staat wat er is misgegaan",
"status": 401,
"detail": "Meer details over de fout staan hier",
"instance": "urn:uuid:ebd2e7f0-1b27-11e8-accf-0ed5f89f718b" // De fout-instantie  
}</code></pre><p>Validatiefouten voor <code>POST</code>, <code>PUT</code> en <code>PATCH</code> verzoeken worden per veld gespecificeerd. De volledige lijst met fouten wordt in één keer teruggegeven. Dit wordt opgezet met een vast hoofdniveau en foutcode voor validatiefouten en extra foutvelden met gedetailleerde fouten per veld.  </p><p>Dit ziet er dan als volgt uit:</p><pre><code class="language-json hljs" aria-busy="false">{
"type": "https://content.omgevingswet.overheid.nl/id/&lt;c&gt;/ValidatieFout",
"title": "Hier staat wat er is misgegaan…",
"status": 400,
"invalid-params": [{
  "type": "https://content.omgevingswet.overheid.nl/id/&lt;c&gt;/validatie/Voornaam",
"name": "voornaam",
"reason": "De voornaam mag geen speciale karakters bevatten."
}, {
"type": " https://content.../&lt;c&gt;/fouten/validatie/Wachtwoord",
"name": "wachtwoord",
"reason": "Het wachtwoord is verplicht."
}],
"instance": "urn:uuid:4017fabc-1b28-11e8-accf-0ed5f89f718b" // De fout-instantie
}</code></pre><blockquote>
<p><a href="#api-46">API principe: Use default error handling</a></p>
</blockquote><section id="http-statuscodes"><h3 id="x14-1-http-statuscodes"><span class="secno">14.1 </span>HTTP statuscodes</h3><p>HTTP definieert een hele reeks gestandaardiseerde statuscodes die gebruikt dienen te worden door API's. Deze helpen de gebruikers van de API's bij het afhandelen van fouten.  </p><blockquote>
<p><a href="#api-47">API principe: Use the required HTTP status codes</a></p>
</blockquote><p>Samenvatting HTTP-operaties in combinatie met de primaire HTTP statuscodes:</p><table>
<thead>
<tr>
<th>Operatie</th>
<th>CRUD</th>
<th>Gehele collectie (bijvoorbeeld /resource)<br>Specifieke item (bijvoorbeeld <code>/resource/\&lt;id&gt;</code>)</th>
</tr>
</thead>
<tbody><tr>
<td><code>POST</code></td>
<td>Create</td>
<td>201 (Created), HTTP header <code>Location</code> met de URI van de nieuwe resource (<code>/resource/\&lt;id&gt;</code>)<br>405 (Method Not Allowed), 409 (Conflict) als de resource al bestaat</td>
</tr>
<tr>
<td><code>GET</code></td>
<td>Read</td>
<td>200 (OK), lijst van resources. Gebruik pagineren, filteren en sorteren om het werken met grote lijsten te vereenvoudigen<br>200 (OK) enkele resource, 404 (Not Found) als ID niet bestaat of ongeldig is</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td>Update</td>
<td>405 (Method Not Allowed), behalve als het de bedoeling is om elke resource in een collectie te wijzigen of vervangen<br>409 als een wijziging niet mogelijk is vanwege de huidige toestand van de instantie<br>200 (OK) of 204 (No Content), 404 (Not Found) als ID niet bestaat of ongeldig is</td>
</tr>
<tr>
<td><code>PATCH</code></td>
<td>Update</td>
<td>405 (Method Not Allowed), behalve als het de bedoeling is de gehele collectie te vervangen. <br>409 als een wijziging niet mogelijk is vanwege de huidige toestand van de instantie.<br>200 (OK) of 204 (No Content), 404 (Not Found) als ID niet bestaat of ongeldig is</td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td>Delete</td>
<td>405 (Method Not Allowed), behalve als het de bedoeling is de gehele collectie te verwijderen<br>200 (OK) of 404 (Not Found) als ID niet bestaat of ongeldig is</td>
</tr>
</tbody></table><p>Hieronder een korte lijst met een beschrijving van de HTTP statuscodes die minimaal worden toegepast:</p><table>
<thead>
<tr>
<th>HTTP statuscode</th>
<th>Toelichting</th>
</tr>
</thead>
<tbody><tr>
<td>200 OK</td>
<td>Reactie op een succesvolle <code>GET</code>, <code>PUT</code>, patch of <code>DELETE</code>. Ook geschikt voor <code>POST</code> die niet resulteert in een creatie</td>
</tr>
<tr>
<td>201 Created</td>
<td>Reactie op een <code>POST</code> die resulteert in een creatie. Moet worden gecombineerd met een locatie-header die wijst naar de locatie van de nieuwe resource</td>
</tr>
<tr>
<td>204 No Content</td>
<td>Reactie op een succesvol verzoek die geen inhoud zal teruggeven (zoals een <code>DELETE</code>)</td>
</tr>
<tr>
<td>304 Not Modified</td>
<td>Gebruikt wanneer HTTP caching headers worden toegepast</td>
</tr>
<tr>
<td>400 Bad Request</td>
<td>Het verzoek is onjuist, bijvoorbeeld als het verzoek (body) niet kan worden geïnterpreteerd</td>
</tr>
<tr>
<td>401 Unauthorized</td>
<td>Als er geen of ongeldige authenticatie details worden verstrekt. Ook handig om een authenticatie-venster te tonen als de API wordt gebruikt vanuit een browser</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>Als de authenticatie gelukt is maar de geverifieerde gebruiker geen toegangsrechten heeft voor de resource</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>Wanneer een niet-bestaande resource is opgevraagd</td>
</tr>
<tr>
<td>405 Method Not Allowed</td>
<td>Wanneer een HTTP-methode wordt gebruikt die niet is toegestaan voor de geauthentiseerde gebruiker</td>
</tr>
<tr>
<td>406 Not Acceptable</td>
<td>Wordt teruggegeven als het gevraagde formaat niet ondersteund wordt (onderdeel van content negotiation)</td>
</tr>
<tr>
<td>409 Conflict</td>
<td>Het verzoek kon ik niet worden verwerkt als het gevolg van een conflict met de huidige toestand van de resource</td>
</tr>
<tr>
<td>410 Gone</td>
<td>Geeft aan dat de resource niet langer op het eindpunt beschikbaar is. Nuttig als een overkoepelend antwoord voor oude API versies</td>
</tr>
<tr>
<td>412 Precondition Failed</td>
<td>De preconditie die wordt gegeven door één of meer velden in de request-header, ontbraken of zijn na validatie op de server afgekeurd</td>
</tr>
<tr>
<td>415 Unsupported Media Type</td>
<td>Als een verkeerd content-type als onderdeel van het verzoek werd meegegeven</td>
</tr>
<tr>
<td>422 Unprocessable Entity</td>
<td>Gebruikt voor een verzoek (body) dat correct is maar dat de server niet kan verwerken</td>
</tr>
<tr>
<td>429 Too Many Requests</td>
<td>Wanneer een aanvraag wordt afgewezen als het aantal verzoeken per tijdsperiode is overschreden</td>
</tr>
<tr>
<td>500 Internal Server Error</td>
<td>Wanneer een onverwachte fout optreedt en het beantwoorden van het verzoek wordt verhinderd</td>
</tr>
<tr>
<td>503 Service Unavailable</td>
<td>Wordt gebruikt als de API niet beschikbaar is (bijv. door gepland onderhoud)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table></section></section>--&gt;
    <section class="informative" data-format="markdown" aria-busy="false" id="supplements"><!--OddPage--><h2 id="x15-supplements"><span class="secno">15. </span>Supplements</h2><p><em>Dit onderdeel is niet normatief.</em></p><section id="api-principles"><h3 id="x15-1-api-principles"><span class="secno">15.1 </span><a name="api-principes"></a>API Principles</h3><section id="api-01-operations-are-safe-and-or-idempotent"><h4 id="x15-1-1-api-01-operations-are-safe-and-or-idempotent"><span class="secno">15.1.1 </span><a name="api-01"></a>API-01: Operations are <em>Safe</em> and/or <em>Idempotent</em></h4><p>Operations of an API are guaranteed to be <em>safe</em> and/or <em>idempotent</em> if that has
been specified.</p></section><section id="api-02-do-not-maintain-state-information-at-the-server"><h4 id="x15-1-2-api-02-do-not-maintain-state-information-at-the-server"><span class="secno">15.1.2 </span><a name="api-02"></a>API-02: Do not maintain state information at the server</h4><p>The client state is tracked fully at the client.</p></section><section id="api-03-only-apply-default-http-operations"><h4 id="x15-1-3-api-03-only-apply-default-http-operations"><span class="secno">15.1.3 </span><a name="api-03"></a>API-03: Only apply default HTTP operations</h4><p>A RESTful API is an application programming interface that supports the default
HTTP operations GET, PUT, POST, PATCH and DELETE.</p></section><section id="api-04-define-interfaces-in-dutch-unless-there-is-an-official-english-glossary"><h4 id="x15-1-4-api-04-define-interfaces-in-dutch-unless-there-is-an-official-english-glossary"><span class="secno">15.1.4 </span><a name="api-04"></a>API-04: Define interfaces in Dutch unless there is an official English glossary</h4><p>Define resources and the underlying entities, fields and so on (the information
model ad the external interface) in Dutch. English is allowed in case there is
an official English glossary.</p></section><section id="api-05-use-plural-nouns-to-indicate-resources"><h4 id="x15-1-5-api-05-use-plural-nouns-to-indicate-resources"><span class="secno">15.1.5 </span><a name="api-05"></a>API-05: Use plural nouns to indicate resources</h4><p>Names of resources are nouns and always in the plural form, e.g. <em>aanvragen</em> ,
<em>activiteiten</em>, <em>vergunningen</em>, even when it applies to single resources.</p></section><section id="api-06-create-relations-of-nested-resources-within-the-endpoint"><h4 id="x15-1-6-api-06-create-relations-of-nested-resources-within-the-endpoint"><span class="secno">15.1.6 </span><a name="api-06"></a>API-06: Create relations of nested resources within the endpoint</h4><p>Preferrably, create relation within the endpoint if a relation can only exist
with another resource (nested resource). In that case, the dependent resource
does not have its own endpoint.</p></section><section id="api-09-implement-custom-representation-if-supported"><h4 id="x15-1-7-api-09-implement-custom-representation-if-supported"><span class="secno">15.1.7 </span><a name="api-09"></a>API-09: Implement custom representation if supported</h4><p>Provide a comma-separated list of field names using the query parameter <code>fields</code>
te retrieve a custom representation. In case non-existent field names are
passed, a 404 Bad Request error message is returned.</p></section><section id="api-10-implement-operations-that-do-not-fit-the-crud-model-as-sub-resources"><h4 id="x15-1-8-api-10-implement-operations-that-do-not-fit-the-crud-model-as-sub-resources"><span class="secno">15.1.8 </span><a name="api-10"></a>API-10: Implement operations that do not fit the CRUD model as sub-resources</h4><p>"Operations that do not fit the CRUD model are implemented as follows:</p><ul>
<li><p>Treat an operation as a sub-resource.</p>
</li>
<li><p>Only in exceptional cases, an operator is implemented as an endpoint."</p>
</li>
</ul></section><section id="api-11-encrypt-connections-using-at-least-tls-v1-3"><h4 id="x15-1-9-api-11-encrypt-connections-using-at-least-tls-v1-3"><span class="secno">15.1.9 </span><a name="api-11"></a>API-11: Encrypt connections using at least TLS v1.3</h4><p>Encrypt connections using at least TLS v1.3. Use TLS v1.2 as a fall-back option
only. In case of access restrictions use two-way TLD. Since the connection is
always encrypted, the authentication method is straightforward. This allows the
application of basic authentication tokens instead of encrypted authentication
tokens.</p></section><section id="api-12-allow-access-to-an-api-only-if-an-api-key-is-provided"><h4 id="x15-1-10-api-12-allow-access-to-an-api-only-if-an-api-key-is-provided"><span class="secno">15.1.10 </span><a name="api-12"></a>API-12: Allow access to an API only if an API key is provided</h4><p>Preferrably, APIs should require at least a sign-up process that involves
accepting its fair use policy before an API key is issued.</p></section><section id="api-13-accept-tokens-as-http-headers-only"><h4 id="x15-1-11-api-13-accept-tokens-as-http-headers-only"><span class="secno">15.1.11 </span><a name="api-13"></a>API-13: Accept tokens as HTTP headers only</h4><p>There is an inherent security issue when passing tokens as a query parameter,
because most Web servers store query parameters in the server logs.</p></section><section id="api-14-use-oauth-2-0-for-authorisation"><h4 id="x15-1-12-api-14-use-oauth-2-0-for-authorisation"><span class="secno">15.1.12 </span><a name="api-14"></a>API-14: Use OAuth 2.0 for authorisation</h4><p>A RESTful API should not maintain state. A token has to be sent for each
request. OAuth 2.0 is the recommended standard. Chapter <em>Beveiliging</em> contains
further information.</p></section><section id="api-15-use-pkioverheid-certificates-for-access-restricted-or-purpose-limited-api-authentication"><h4 id="x15-1-13-api-15-use-pkioverheid-certificates-for-access-restricted-or-purpose-limited-api-authentication"><span class="secno">15.1.13 </span><a name="api-15"></a>API-15: Use PKIoverheid certificates for access-restricted or purpose-limited API authentication</h4><p>In the case of APIs that have access-restrictions or purpose-limitations,
additional authentication based on PKIoverheid certificates and mutual TLS
authentication should be provided.</p></section><section id="api-16-use-oas-3-0-for-documentation"><h4 id="x15-1-14-api-16-use-oas-3-0-for-documentation"><span class="secno">15.1.14 </span><a name="api-16"></a>API-16: Use OAS 3.0 for documentation</h4><p>Publish specifications (documentation) as Open API Specification (OAS) 3.0 or
higher.</p></section><section id="api-17-publish-documentation-in-dutch-unless-there-is-existing-documentation-in-english-or-there-is-an-official-english-glossary-available"><h4 id="x15-1-15-api-17-publish-documentation-in-dutch-unless-there-is-existing-documentation-in-english-or-there-is-an-official-english-glossary-available"><span class="secno">15.1.15 </span><a name="api-17"></a>API-17: Publish documentation in Dutch unless there is existing documentation in English or there is an official English glossary available</h4><p>Publish API documentation in Dutch. You may refer to existing documentation in
Engelish and in case there is an official English glossary avaialble.</p></section><section id="api-18-include-a-deprecation-schedule-when-publishing-api-changes"><h4 id="x15-1-16-api-18-include-a-deprecation-schedule-when-publishing-api-changes"><span class="secno">15.1.16 </span><a name="api-18"></a>API-18: Include a deprecation schedule when publishing API changes</h4><p>API changes and a deprecation schedule should be published not only as a
changelog on a publicly available blog but also through a mailing list.</p></section><section id="api-19-allow-for-a-maximum-1-year-transition-period-to-a-new-api-version"><h4 id="x15-1-17-api-19-allow-for-a-maximum-1-year-transition-period-to-a-new-api-version"><span class="secno">15.1.17 </span><a name="api-19"></a>API-19: Allow for a maximum 1 year transition period to a new API version</h4><p>Old and new versions (maximum 3) of an API should be provided concurrently for a
limited, maximum 1 year transition period.</p></section><section id="api-20-include-the-major-version-number-only-in-ihe-uri"><h4 id="x15-1-18-api-20-include-the-major-version-number-only-in-ihe-uri"><span class="secno">15.1.18 </span><a name="api-20"></a>API-20: Include the major version number only in ihe URI</h4><p>The URI of an API should include the major version number only. The minor and
patch version numbers are in the response header of the message. Minor and patch
versions have no impact on existing code, but major version do.</p></section><section id="api-21-inform-users-of-a-deprecated-api-actively"><h4 id="x15-1-19-api-21-inform-users-of-a-deprecated-api-actively"><span class="secno">15.1.19 </span><a name="api-21"></a>API-21: Inform users of a deprecated API actively</h4><p>Using the <code>Warning</code> response header in all responses of the deprecated APIs,
users are informed of the deprecation and upcoming removal date.</p></section><section id="api-22-json-first-apis-receive-and-send-json"><h4 id="x15-1-20-api-22-json-first-apis-receive-and-send-json"><span class="secno">15.1.20 </span><a name="api-22"></a>API-22: JSON first - APIs receive and send JSON</h4><p>APIs receive and send JSON.</p></section><section id="api-23-apis-may-provide-a-json-schema"><h4 id="x15-1-21-api-23-apis-may-provide-a-json-schema"><span class="secno">15.1.21 </span><a name="api-23"></a>API-23: APIs may provide a JSON Schema</h4><p>APIs may support JSON Schema (&lt;http: json-schema.org)=""&gt;to allow and facilitate
validation.</p></section><section id="api-24-support-content-negotiation"><h4 id="x15-1-22-api-24-support-content-negotiation"><span class="secno">15.1.22 </span><a name="api-24"></a>API-24: Support content negotiation</h4><p>Besides JSON, APIs should support other representations as XML and RDF using the
default HTTP content negotiation mechanism. In case the requested format cannot
be provided, a <code>406 ot Acceptable</code> response is sent.</p></section><section id="api-25-check-the-content-type-header-settings"><h4 id="x15-1-23-api-25-check-the-content-type-header-settings"><span class="secno">15.1.23 </span><a name="api-25"></a>API-25: Check the Content-Type header settings</h4><p>Check the <code>Content-Type</code> header is <code>application/json</code> or another supported
content types, otherwise send the HTTP status code <code>415 Unsupported Media Type</code>.</p></section><section id="api-26-define-field-names-in-in-camelcase"><h4 id="x15-1-24-api-26-define-field-names-in-in-camelcase"><span class="secno">15.1.24 </span><a name="api-26"></a>API-26: Define field names in in <em>camelCase</em></h4><p>Define field names in a such a way that the first word starts with a lower case
and subsequent words start with a capital letter, with no intervening spaces or
punctiation.</p></section><section id="api-27-disable-pretty-print"><h4 id="x15-1-25-api-27-disable-pretty-print"><span class="secno">15.1.25 </span><a name="api-27"></a>API-27: Disable pretty print</h4><p>The assumption is that REST clients and Web browsers (either with or without
add-ons or extensions) can pretty print JSON.</p></section><section id="api-28-send-a-json-response-without-enclosing-envelope"><h4 id="x15-1-26-api-28-send-a-json-response-without-enclosing-envelope"><span class="secno">15.1.26 </span><a name="api-28"></a>API-28: Send a JSON-response without enclosing envelope</h4><p>By default, don't apply an envelope.</p></section><section id="api-29-support-json-encoded-post-put-and-patch-payloads"><h4 id="x15-1-27-api-29-support-json-encoded-post-put-and-patch-payloads"><span class="secno">15.1.27 </span><a name="api-29"></a>API-29: Support JSON-encoded <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> payloads</h4><p>APIs support at least JSON-encoded <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> payloads. Encoded
form data (<code>application/x-www-form-urlencoded</code>) is not supported.</p></section><section id="api-30-use-query-parameters-corresponding-to-the-queryable-fields"><h4 id="x15-1-28-api-30-use-query-parameters-corresponding-to-the-queryable-fields"><span class="secno">15.1.28 </span><a name="api-30"></a>API-30: Use query parameters corresponding to the queryable fields</h4><p>Use uniqe query parameters that correspond to the fields that can be queried.</p></section><section id="api-31-use-the-query-parameter-sorteer-to-sort"><h4 id="x15-1-29-api-31-use-the-query-parameter-sorteer-to-sort"><span class="secno">15.1.29 </span><a name="api-31"></a>API-31: Use the query parameter <code>sorteer</code> to sort</h4><p>Specify the comma-separated field to sort using the generic query parameter
<code>sorteer</code>. Placing a minus sign (<code>-</code>) in front of a field name, the field is
sorted in descending order.</p></section><section id="api-32-use-the-query-parameter-zoek-for-full-text-search"><h4 id="x15-1-30-api-32-use-the-query-parameter-zoek-for-full-text-search"><span class="secno">15.1.30 </span><a name="api-32"></a>API-32: Use the query parameter <code>zoek</code> for full-text search</h4><p>APIs support full-text searching using the query parameter <code>zoek</code>.</p></section><section id="api-33-support-both-and-wildcard-characters-for-full-text-search-apis"><h4 id="x15-1-31-api-33-support-both-and-wildcard-characters-for-full-text-search-apis"><span class="secno">15.1.31 </span><a name="api-33"></a>API-33: Support both <code>*</code> and <code>?</code> wildcard characters for full-text search APIs</h4><p>Full-text search APIs should support two wildcard characters:</p><ul>
<li><p><code>*</code> Matches zero or more (non-space) characters</p>
</li>
<li><p><code>?</code> Matches exactly one (non-space) character</p>
</li>
</ul></section><section id="api-34-support-geojson-for-geo-apis"><h4 id="x15-1-32-api-34-support-geojson-for-geo-apis"><span class="secno">15.1.32 </span><a name="api-34"></a>API-34: Support GeoJSON for GEO APIs</h4><p>Preferrably, GEO APIs should support the GeoJSON standard
(<a href="https://tools.ietf.org/html/rfc7946">RFC-7946</a>).</p></section><section id="api-35-include-geojson-as-part-of-the-embedded-resource-in-the-json-response"><h4 id="x15-1-33-api-35-include-geojson-as-part-of-the-embedded-resource-in-the-json-response"><span class="secno">15.1.33 </span><a name="api-35"></a>API-35: Include GeoJSON as part of the embedded resource in the JSON response</h4><p>In case a JSON (<code>application/json</code>) response contains a geometry, represent it
in the same way as the <code>geometry</code> object of GeoJSON
(<a href="https://tools.ietf.org/html/rfc7946">RFC-7946</a>):</p><pre><code aria-busy="false" class="hljs json">{
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Point"</span>,
 <span class="hljs-attr">"coordinates"</span>: [<span class="hljs-number">125.6</span>, <span class="hljs-number">10.1</span>]
}</code></pre></section><section id="api-36-provide-a-post-endpoint-for-geo-queries"><h4 id="x15-1-34-api-36-provide-a-post-endpoint-for-geo-queries"><span class="secno">15.1.34 </span><a name="api-36"></a>API-36: Provide a <code>POST</code> endpoint for GEO queries</h4><p>Spatial queries are sent in a <code>POST</code> to a dedicated endpoint.</p></section><section id="api-37-support-mixed-queries-at-post-endpoints"><h4 id="x15-1-35-api-37-support-mixed-queries-at-post-endpoints"><span class="secno">15.1.35 </span><a name="api-37"></a>API-37: Support mixed queries at <code>POST</code> endpoints</h4><p>Mixed queries may include both spatial and property queries.</p></section><section id="api-38-put-results-of-a-global-spatial-query-in-the-relevant-geometric-context"><h4 id="x15-1-36-api-38-put-results-of-a-global-spatial-query-in-the-relevant-geometric-context"><span class="secno">15.1.36 </span><a name="api-38"></a>API-38: Put results of a global spatial query in the relevant geometric context</h4><p>In case of a global query <code>/api/v1/_zoek</code>, results should be placed in the
relevant geometric context, because results from different collections are
retrieved. Express the name of the collection to which the results belongs in
the singular form using the property <code>type</code>.</p></section><section id="api-39-use-etrs89-as-the-preferred-coordinate-reference-system-crs"><h4 id="x15-1-37-api-39-use-etrs89-as-the-preferred-coordinate-reference-system-crs"><span class="secno">15.1.37 </span><a name="api-39"></a>API-39: Use ETRS89 as the preferred coordinate reference system (CRS)</h4><p>General usage of the European ETRS89 coordinate reference system (CRS) is
preferable, but is not necessarily the default CRS. Hence, the CRS has to be
explicitly included in each request.</p></section><section id="api-40-pass-the-coordinate-reference-system-crs-of-the-request-and-the-response-in-the-headers"><h4 id="x15-1-38-api-40-pass-the-coordinate-reference-system-crs-of-the-request-and-the-response-in-the-headers"><span class="secno">15.1.38 </span><a name="api-40"></a>API-40: Pass the coordinate reference system (CRS) of the request and the response in the headers</h4><p>The coordinate reference system (CRS) for both the request and the response are
passed as part of the request headers and reponse headers. In case this header
is missing, send the HTTP status code <code>412 Precondition Failed</code>.</p></section><section id="api-41-use-content-negotiation-to-serve-different-crss"><h4 id="x15-1-39-api-41-use-content-negotiation-to-serve-different-crss"><span class="secno">15.1.39 </span><a name="api-41"></a>API-41: Use content negotiation to serve different CRSs</h4><p>The CRS for the geometry in the response body is defined using the <code>Accept-Crs</code>
header. In case the API does not support the requested CRS, send the HTTP status
code <code>406 Not Acceptable</code>.</p></section><section id="api-42-use-json-hal-with-media-type-application-hal-json-for-pagination"><h4 id="x15-1-40-api-42-use-json-hal-with-media-type-application-hal-json-for-pagination"><span class="secno">15.1.40 </span><a name="api-42"></a>API-42: Use JSON+HAL with media type <code>application/hal+json</code> for pagination</h4><p>Add two reserved fields <code>_links</code> (required) and <code>_embedded</code> (optional) to the
representation. Pass pagination meta data as HTTP headers.</p></section><section id="api-43-apply-caching-to-improve-performance"><h4 id="x15-1-41-api-43-apply-caching-to-improve-performance"><span class="secno">15.1.41 </span><a name="api-43"></a>API-43: Apply caching to improve performance</h4><p>For caching apply the default HTTP caching mechanisms using a few additional
HTTP headers (<code>ETag</code> or <code>Last-Modified</code>) and functionality to determine wether
a few specific HTTP headers are supplied (<code>If-None-Match</code> or
<code>If-Modified-Since</code>).</p></section><section id="api-44-apply-rate-limiting"><h4 id="x15-1-42-api-44-apply-rate-limiting"><span class="secno">15.1.42 </span><a name="api-44"></a>API-44: Apply rate limiting</h4><p>To prevent server overload and the guarantee a high service level, apply rate
limiting to API requests.</p></section><section id="api-45-provide-rate-limiting-information"><h4 id="x15-1-43-api-45-provide-rate-limiting-information"><span class="secno">15.1.43 </span><a name="api-45"></a>API-45: Provide rate limiting information</h4><p>Use the HTTP header <code>X-Rate-Limit</code> to inform users of rate limits. In case the
rate limits are exceeded, send the HTTP status code <code>429 Too Many Requests</code>.</p></section><section id="api-46-use-default-error-handling"><h4 id="x15-1-44-api-46-use-default-error-handling"><span class="secno">15.1.44 </span><a name="api-46"></a>API-46: Use default error handling</h4><p>API support the default error messages of the HTTP 400 and 500 status code
ranges, including the parsable JSON representation
(<a href="https://tools.ietf.org/html/rfc7807">RFC-7807</a>).</p></section><section id="api-47-use-the-required-http-status-codes"><h4 id="x15-1-45-api-47-use-the-required-http-status-codes"><span class="secno">15.1.45 </span><a name="api-47"></a>API-47: Use the required HTTP status codes</h4><p>APIs should at least support the following HTTP status codes: 200, 201, 204,
304, 400, 401, 403, 405, 406, 409, 410, 415, 422, 429, 500, and 503.</p></section><section id="api-48-leave-off-trailing-slashes-from-api-endpoints"><h4 id="x15-1-46-api-48-leave-off-trailing-slashes-from-api-endpoints"><span class="secno">15.1.46 </span><a name="api-48"></a>API-48: Leave off trailing slashes from API endpoints</h4><p>URIs to retrieve collections of resources or individual resources don't include
a trailing slash. A resource is only available at one endpoint/path. Resource
paths end without a slash.</p></section><section id="api-49-use-public-api-keys"><h4 id="x15-1-47-api-49-use-public-api-keys"><span class="secno">15.1.47 </span><a name="api-49"></a>API-49: Use <em>public</em> API-keys</h4><p>In JavaScript, only use <em>restricted</em> API-keys, linked to specific
characteristics of the client-application (web application or mobile
application), e.g. a clientId and/or referring URL.</p></section><section id="api-50-use-cors-to-control-access"><h4 id="x15-1-48-api-50-use-cors-to-control-access"><span class="secno">15.1.48 </span><a name="api-50"></a>API-50: Use CORS to control access</h4><p>Check the domain of the incoming request and generate the response header
depending on whether this domain may send requests or not (whitelist). In that
case, only add this particular domain to the response header
<code>Access-Control-Allow-Origin</code>.</p><p>**NOTE: It is technically possible to pass a wildcard ("*") in the response
header <code>Access-Control-Allow-Origin</code> to allow all sources. However, this is
malpractice!**</p></section><section id="api-51-publish-oas-at-the-base-uri-in-json-format"><h4 id="x15-1-49-api-51-publish-oas-at-the-base-uri-in-json-format"><span class="secno">15.1.49 </span><a name="api-51"></a>API-51: Publish OAS at the base-URI in JSON-format</h4><p>Publish up-to-date documentation in the Open API Specification (OAS) at the
publicly accessible root endpoint of the API in JSON format:</p><p><code>https://service.omgevingswet.overheid.nl/publiek/catalogus/api/raadplegen/v1</code></p><p>Makes the OAS relevant to v1 of the API available.</p><p>Thus, the up-to-date documentation is linked to a unique location (that is
always concurrent with the features available in the API).
</p></section></section></section>
  
<section id="references" class="appendix">
      <!--OddPage--><h2 id="a-referenties"><span class="secno">A. </span>Referenties</h2>
      
    <section id="informatieve-referenties">
        <h3 id="a-1-informatieve-referenties"><span class="secno">A.1 </span>Informatieve referenties</h3>
      <dl class="bibliography">
        <dt id="bib-rfc6585">[rfc6585]</dt><dd><a href="https://httpwg.org/specs/rfc6585.html"><cite>Additional HTTP Status Codes</cite></a>. M. Nottingham; R. Fielding. IETF. April 2012. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc6585.html">https://httpwg.org/specs/rfc6585.html</a></dd><dt id="bib-rfc7807">[rfc7807]</dt><dd><a href="https://tools.ietf.org/html/rfc7807"><cite>Problem Details for HTTP APIs</cite></a>. M. Nottingham; E. Wilde. IETF. March 2016. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc7807">https://tools.ietf.org/html/rfc7807</a></dd><dt id="bib-rfc8142">[rfc8142]</dt><dd><a href="https://tools.ietf.org/html/rfc8142"><cite>GeoJSON Text Sequences</cite></a>. S. Gillies. IETF. April 2017. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc8142">https://tools.ietf.org/html/rfc8142</a></dd>
      </dl></section></section><p role="navigation" id="back-to-top"><a href="#title"><abbr title="Naar begin">↑</abbr></a></p><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>