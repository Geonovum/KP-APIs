<!DOCTYPE html><html lang="nl"><!-- HTML-Header ============================================================================== --><head><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta content="text/html; charset=utf-8" http-equiv="content-type"><meta name="generator" content="ReSpec 24.5.2">
    
    
    <!-- Invullen: de titel van de standaard of het document ==================================== -->
    <title>API strategie voor de Nederlandse overheid</title>
    <!-- Invullen: de naam van de lokale CSS file =============================================== -->
    <link rel="stylesheet" type="text/css" href="./media/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.ico">
    
    
<!-- ============================================================================================ -->
<!-- File. . . :  index.html                                                                      -->
<!-- Bevat . . :  Template voor de index.html die verplicht is voor respec                        -->
<!--              Gebaseerd op https://github.com/Geonovum/respec/wiki                            -->
<!--              Deze file moet worden neergezet in de root-directory van de                     -->
<!--              betreffende standaard.                                                          -->
<!-- Door. . . :  Jan van Gelder                                                                  -->
<!-- ============================================================================================ -->
<!-- ============================================================================================ -->
<!-- Log . . . :  20181015 - JvG - Initiele versie                                                -->
<!-- 
====================================================================================================
0        1         2         3         4         5         6         7         8         9         0
1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890
================================================================================================= -->
  
  <style id="respec-mainstyle">/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* Override code highlighter background */
.hljs {
  background: transparent !important;
}

/* --- INLINES --- */
h1 abbr,
h2 abbr,
h3 abbr,
h4 abbr,
h5 abbr,
h6 abbr,
a abbr {
  border: none;
}

dfn {
  font-weight: bold;
}

a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
}

a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
}

a.bibref {
  text-decoration: none;
}

#references :target {
  background: #eaf3ff;
}

cite .bibref {
  font-style: normal;
}

code {
  color: #c83500;
}

th code {
  color: inherit;
}

/* --- TOC --- */

.toc a,
.tof a {
  text-decoration: none;
}

a .secno,
a .figno {
  color: #000;
}

ul.tof,
ol.tof {
  list-style: none outside none;
}

.caption {
  margin-top: 0.5em;
  font-style: italic;
}

/* --- TABLE --- */

table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
}

.simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
}

.simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
}

.simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
  background: #f0f6ff;
}

/* --- DL --- */

.section dd>p:first-child {
  margin-top: 0;
}

.section dd>p:last-child {
  margin-bottom: 0;
}

.section dd {
  margin-bottom: 1em;
}

.section dl.attrs dd,
.section dl.eldef dd {
  margin-bottom: 0;
}

#issue-summary>ul,
.respec-dfn-list {
  column-count: 2;
}

#issue-summary li,
.respec-dfn-list li {
  list-style: none;
}

details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
}

details.respec-tests-details>* {
  padding-right: 2em;
}

details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: 0.3em;
  background-color: white;
  padding-bottom: 0.5em;
}

details.respec-tests-details[open]>summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
}

details.respec-tests-details>ul {
  width: 100%;
  margin-top: -0.3em;
}

details.respec-tests-details>li {
  padding-left: 1em;
}

a[href].self-link:hover {
  opacity: 1;
  text-decoration: none;
  background-color: transparent;
}

h2,
h3,
h4,
h5,
h6 {
  position: relative;
}

aside.example .marker > a.self-link {
  color: inherit;
}

h2>a.self-link,
h3>a.self-link,
h4>a.self-link,
h5>a.self-link,
h6>a.self-link {
  border: none;
  color: inherit;
  font-size: 83%;
  height: 2em;
  left: -1.6em;
  opacity: .5;
  position: absolute;
  text-align: center;
  text-decoration: none;
  top: 0;
  transition: opacity .2s;
  width: 2em;
}

h2>a.self-link::before,
h3>a.self-link::before,
h4>a.self-link::before,
h5>a.self-link::before,
h6>a.self-link::before {
  content: "§";
  display: block;
}

@media (max-width: 767px) {
  dd {
    margin-left: 0;
  }

  /* Don't position self-link in headings off-screen */
  h2>a.self-link,
  h3>a.self-link,
  h4>a.self-link,
  h5>a.self-link,
  h6>a.self-link {
    left: auto;
    top: auto;
  }
}

@media print {
  .removeOnSave {
    display: none;
  }
}
</style><link rel="stylesheet" href="https://tools.geostandaarden.nl/respec/style/GN-VV.css"><link rel="shortcut icon" type="image/x-icon" href="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.ico"><style>/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style><script id="initialUserConfig" type="application/json">{
  "specStatus": "GN-VV",
  "specType": "HR",
  "pubDomain": "api",
  "publishDate": "2019-07-05",
  "previousPublishDate": "2019-02-13",
  "previousMaturity": "GN-CV",
  "editors": [
    {
      "name": "Frank Terpstra",
      "company": "Geonovum",
      "companyURL": "http://www.geonovum.nl/"
    },
    {
      "name": "Jan van Gelder",
      "company": "Geonovum",
      "companyURL": "http://www.Geonovum.nl/"
    }
  ],
  "authors": [
    {
      "name": "Lancelot Schellevis",
      "company": "Forum Standaardisatie",
      "companyURL": "http://www.forumstandaardisatie.nl/"
    },
    {
      "name": "Han Zuidweg",
      "company": "Forum Standaardisatie",
      "companyURL": "http://www.forumstandaardisatie.nl/"
    },
    {
      "name": "Friso Penninga",
      "company": "Geonovum",
      "companyURL": "http://geonovum.nl/"
    },
    {
      "name": "Matthias Snoei",
      "company": "Swis",
      "companyURL": "http://swis.nl/"
    },
    {
      "name": "Jasper Roes",
      "company": "Het Kadaster",
      "companyURL": "http://www.kadaster.nl/"
    },
    {
      "name": "Peter Haasnoot",
      "company": "Logius",
      "companyURL": "www.logius.nl"
    }
  ],
  "shortName": "API-Strategie",
  "github": "https://github.com/geonovum/KP-APIs",
  "issueBase": "https://github.com/geonovum/KP-APIs/issues/",
  "localBiblio": {
    "OAuth2": {
      "href": "https://tools.ietf.org/html/rfc6749",
      "title": "The OAuth 2.0 Authorization Framework",
      "authors": [
        "D. Hardt"
      ],
      "date": "October 2012",
      "publisher": "The Internet Engineering Task Force"
    },
    "Expert": {
      "href": "https://www.forumstandaardisatie.nl/sites/bfs/files/Expertadvies%20OAuth%202.0.pdf",
      "title": "Expertadvies OAuth 2.0",
      "authors": [
        "P. Dam"
      ],
      "date": "24 februari 2017",
      "publisher": "Forum Standaardisatie",
      "id": "expert"
    },
    "JWT": {
      "href": "https://tools.ietf.org/html/rfc7519",
      "title": "JSON Web Token (JWT)",
      "authors": [
        "M. Jones, J. Bradley, N. Sakimura"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWS": {
      "href": "https://tools.ietf.org/html/rfc7515",
      "title": "JSON Web Signature (JWS)",
      "authors": [
        "M. Jones, J. Bradley, N. Sakimura"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWE": {
      "href": "https://tools.ietf.org/html/rfc7516",
      "title": "JSON Web Encryption (JWE)",
      "authors": [
        "M. Jones, J. Hildebrand"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWK": {
      "href": "https://tools.ietf.org/html/rfc7517",
      "title": "JSON Web Key (JWK))",
      "authors": [
        "M. Jones"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "JWA": {
      "href": "https://tools.ietf.org/html/rfc7518",
      "title": "JSON Web Algorithms (JWA)",
      "authors": [
        "M. Jones"
      ],
      "date": "may 2015",
      "publisher": "IETF"
    },
    "PKCE": {
      "href": "https://tools.ietf.org/html/rfc7636",
      "title": "Proof Key for Code Exchange by OAuth Public Clients",
      "authors": [
        "N. Sakimura, J. Bradley, N. Agarwal"
      ],
      "date": "september 2015",
      "publisher": "IETF"
    },
    "Introspection": {
      "href": "https://tools.ietf.org/html/rfc7662",
      "title": "OAuth 2.0 Token Introspection",
      "authors": [
        "J. Richer"
      ],
      "date": "October 2015",
      "publisher": "IETF"
    },
    "OpenID.Core": {
      "href": "https://openid.net/specs/openid-connect-core-1_0.html",
      "title": "OpenID Connect Core 1.0",
      "authors": [
        "N. Sakimura, J. Bradley, M. Jones, B. de Medeiros, C. Mortimore"
      ],
      "date": "November 8 2014",
      "publisher": "OpenID foundation"
    },
    "iGOV.OpenID": {
      "href": "https://openid.net/specs/openid-igov-openid-connect-1_0.html",
      "title": "International Government Assurance Profile (iGov) for OpenID Connect 1.0 - draft 3",
      "authors": [
        "M. Varley, P. Grassi"
      ],
      "date": "October 5 2018",
      "publisher": "OpenID foundation",
      "id": "igov.openid"
    },
    "iGOV.OAuth2": {
      "href": "https://openid.net/specs/openid-igov-oauth2-1_0.html",
      "title": "International Government Assurance Profile (iGov) for OAuth 2.0",
      "authors": [
        "J. Richer, M. Varley, P. Grassi"
      ],
      "date": "October 5 2018",
      "publisher": "OpenID foundation",
      "id": "igov.oauth2"
    },
    "OpenID.Discovery": {
      "href": "https://openid.net/specs/openid-connect-discovery-1_0.html",
      "title": "OpenID Connect Discovery 1.0",
      "authors": [
        "N. Sakimura, J. Bradley, M. Jones, E. Jay"
      ],
      "date": "November 8 2014",
      "publisher": "OpenID foundation"
    },
    "I-D.ietf-oauth-pop-architecture": {
      "href": "https://tools.ietf.org/html/draft-ietf-oauth-pop-architecture-08",
      "title": "OAuth 2.0 Proof-of-Possession (PoP) Security Architecture",
      "authors": [
        "P. Hunt, J. Richer, W. Mills, P. Mishra, H. Tschofenig"
      ],
      "date": "July 8, 2016",
      "publisher": "IETF"
    },
    "HEART.OAuth2": {
      "href": "https://openid.net/specs/openid-heart-oauth2-1_0.html",
      "title": "Health Relationship Trust Profile for OAuth 2.0",
      "authors": [
        "J. Richer"
      ],
      "date": "April 25, 2017",
      "publisher": "OpenID foundation"
    },
    "JWS.JWE.Algs": {
      "href": "https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms",
      "title": "IANA JSON Web Signatures and Encryption Algorithms registry",
      "authors": [
        "Jim Schaad, Jeff Hodges, Joe Hildebrand, Sean Turner"
      ],
      "date": "",
      "publisher": "IANA"
    },
    "BCP195": {
      "href": "https://tools.ietf.org/html/bcp195",
      "title": "Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)",
      "authors": [
        "Y. Sheffer, R. Holz, P. Saint-Andre"
      ],
      "date": "May 2015",
      "publisher": "IETF"
    },
    "HAL": {
      "href": "http://stateless.co/hal_specification.html",
      "title": "HAL - Hypertext Application Language",
      "authors": [
        "Mike Kelly"
      ],
      "date": " 2013-09-18"
    }
  },
  "publishISODate": "2019-07-05T00:00:00.000Z",
  "generatedSubtitle": "Versie ter vaststelling 05 juli 2019"
}</script><meta name="description" content="Dit document beschrijft een API strategie voor de Nederlandse overheid."><script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "nl",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-20190705/",
  "type": [
    "TechArticle"
  ],
  "name": "API strategie voor de Nederlandse overheid",
  "inLanguage": "nl",
  "license": "https://creativecommons.org/licenses/by/4.0/legalcode",
  "datePublished": "2019-07-05",
  "copyrightHolder": {
    "name": "Geonovum",
    "url": "https://www.geonovum.nl/"
  },
  "discussionUrl": "https://github.com/geonovum/KP-APIs/issues/",
  "alternativeHeadline": "",
  "isBasedOn": "https://docs.geostandaarden.nl/api/cv-hr-API-Strategie-20190213/",
  "description": "Dit document beschrijft een API strategie voor de Nederlandse overheid.",
  "editor": [
    {
      "type": "Person",
      "name": "Frank Terpstra",
      "worksFor": {
        "name": "Geonovum",
        "url": "http://www.geonovum.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Jan van Gelder",
      "worksFor": {
        "name": "Geonovum",
        "url": "http://www.Geonovum.nl/"
      }
    }
  ],
  "contributor": [
    {
      "type": "Person",
      "name": "Lancelot Schellevis",
      "worksFor": {
        "name": "Forum Standaardisatie",
        "url": "http://www.forumstandaardisatie.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Han Zuidweg",
      "worksFor": {
        "name": "Forum Standaardisatie",
        "url": "http://www.forumstandaardisatie.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Friso Penninga",
      "worksFor": {
        "name": "Geonovum",
        "url": "http://geonovum.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Matthias Snoei",
      "worksFor": {
        "name": "Swis",
        "url": "http://swis.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Jasper Roes",
      "worksFor": {
        "name": "Het Kadaster",
        "url": "http://www.kadaster.nl/"
      }
    },
    {
      "type": "Person",
      "name": "Peter Haasnoot",
      "worksFor": {
        "name": "Logius",
        "url": "www.logius.nl"
      }
    }
  ],
  "citation": [
    {
      "id": "https://www.forumstandaardisatie.nl/sites/bfs/files/Expertadvies%20OAuth%202.0.pdf",
      "type": "TechArticle",
      "name": "Expertadvies OAuth 2.0",
      "url": "https://www.forumstandaardisatie.nl/sites/bfs/files/Expertadvies%20OAuth%202.0.pdf"
    },
    {
      "id": "https://openid.net/specs/openid-igov-oauth2-1_0.html",
      "type": "TechArticle",
      "name": "International Government Assurance Profile (iGov) for OAuth 2.0",
      "url": "https://openid.net/specs/openid-igov-oauth2-1_0.html"
    },
    {
      "id": "https://openid.net/specs/openid-igov-openid-connect-1_0.html",
      "type": "TechArticle",
      "name": "International Government Assurance Profile (iGov) for OpenID Connect 1.0 - draft 3",
      "url": "https://openid.net/specs/openid-igov-openid-connect-1_0.html"
    }
  ]
}</script></head>  
  <!-- HTML-Body ================================================================================ -->
  <body class="h-entry"><div class="head">
  <a href="https://www.geonovum.nl/" class="logo"><img id="Geonovum" alt="Geonovum" src="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.svg" width="132" height="67"></a>
  <h1 class="title p-name" id="title">API strategie voor de Nederlandse overheid</h1>
  
  <h2>Geonovum Handreiking<br>
  Versie ter vaststelling <time class="dt-published" datetime="2019-07-05">05 juli 2019</time></h2>
  <dl>
    <dt>Deze versie:</dt><dd><a class="u-url" href="https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-20190705/">https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-20190705/</a></dd><dt>Laatst gepubliceerde versie:</dt><dd><a href="https://docs.geostandaarden.nl/api/API-Strategie/">https://docs.geostandaarden.nl/api/API-Strategie/</a></dd>
    
    <dt>Vorige versie:</dt><dd><a href="https://docs.geostandaarden.nl/api/cv-hr-API-Strategie-20190213/">https://docs.geostandaarden.nl/api/cv-hr-API-Strategie-20190213/</a></dd>
    <dt>Laatste werkversie:</dt><dd><a href="https://geonovum.github.io/KP-APIs/">https://geonovum.github.io/KP-APIs/</a></dd>
    <dt>Redacteurs:</dt>
    <dd class="p-author h-card vcard"><span class="p-name fn">Frank Terpstra</span>, <a class="p-org org h-org h-card" href="http://www.geonovum.nl/">Geonovum</a></dd><dd class="p-author h-card vcard"><span class="p-name fn">Jan van Gelder</span>, <a class="p-org org h-org h-card" href="http://www.Geonovum.nl/">Geonovum</a></dd>
    <dt>Auteurs:</dt><dd class="p-author h-card vcard"><span class="p-name fn">Lancelot Schellevis</span>, <a class="p-org org h-org h-card" href="http://www.forumstandaardisatie.nl/">Forum Standaardisatie</a></dd><dd class="p-author h-card vcard"><span class="p-name fn">Han Zuidweg</span>, <a class="p-org org h-org h-card" href="http://www.forumstandaardisatie.nl/">Forum Standaardisatie</a></dd><dd class="p-author h-card vcard"><span class="p-name fn">Friso Penninga</span>, <a class="p-org org h-org h-card" href="http://geonovum.nl/">Geonovum</a></dd><dd class="p-author h-card vcard"><span class="p-name fn">Matthias Snoei</span>, <a class="p-org org h-org h-card" href="http://swis.nl/">Swis</a></dd><dd class="p-author h-card vcard"><span class="p-name fn">Jasper Roes</span>, <a class="p-org org h-org h-card" href="http://www.kadaster.nl/">Het Kadaster</a></dd><dd class="p-author h-card vcard"><span class="p-name fn">Peter Haasnoot</span>, <a class="p-org org h-org h-card" href="www.logius.nl">Logius</a></dd>
    <dt>Doe mee:</dt><dd>
      <a href="https://github.com/geonovum/KP-APIs/">GitHub geonovum/KP-APIs</a>
    </dd><dd>
      <a href="https://github.com/geonovum/KP-APIs/issues/">Dien een melding in</a>
    </dd><dd>
      <a href="https://github.com/geonovum/KP-APIs/commits/gh-pages">Revisiehistorie</a>
    </dd><dd>
      <a href="https://github.com/geonovum/KP-APIs/pulls/">Pull requests</a>
    </dd>
  </dl>
  
  
    <dl>
          <dt>Rechtenbeleid:</dt>
          <dd>
            <div class="copyright" style="margin: 0.25em 0;">
              <abbr title="Creative Commons Attribution 4.0 International Public License">
              <a href="https://creativecommons.org/licenses/by/4.0/legalcode"><img src="https://tools.geostandaarden.nl/respec/style/logos/cc-by.svg" alt="Creative Commons Attribution 4.0 International Public License" width="115" height="40"></a>
            </abbr>
              <div style="display:inline-block; vertical-align:top">
                <p style="font-size: small;">Creative Commons Attribution 4.0 International Public License<br>(CC-BY)</p>
              </div>
            </div>
          </dd>
        </dl>
  <hr title="Separator for header">
</div>
    <section id="abstract" data-format="markdown" aria-busy="false" class="introductory"><h2>Samenvatting</h2><p>Dit document beschrijft een API strategie voor de Nederlandse overheid.</p></section>        
    <section id="sotd" class="introductory"><h2>Status van dit document</h2><p>
    <em>Deze paragraaf beschrijft de status van dit document ten tijde van publicatie. Het is mogelijk dat er actuelere versies van dit document bestaan. Een lijst van Geonovum publicaties en de laatste gepubliceerde versie van dit document zijn te vinden op <a href="https://www.geonovum.nl/geo-standaarden/alle-standaarden">https://www.geonovum.nl/geo-standaarden/alle-standaarden</a>.</em>
  </p><p>




  Dit is een definitief concept van de nieuwe versie van de handreiking. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.





</p><p></p></section><nav id="toc"><h2 class="introductory" id="inhoudsopgave">Inhoudsopgave</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#inleiding"><span class="secno">1. </span>Inleiding</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#status-van-de-api-strategie"><span class="secno">1.1 </span>Status van de API strategie</a></li><li class="tocline"><a class="tocxref" href="#auteurs"><span class="secno">1.2 </span>Auteurs</a></li><li class="tocline"><a class="tocxref" href="#leeswijzer"><span class="secno">1.3 </span>Leeswijzer</a></li></ol></li><li class="tocline"><a class="tocxref" href="#communicatie-en-beleid"><span class="secno">2. </span>Communicatie en beleid</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#de-digitale-overheid-heeft-een-probleem"><span class="secno">2.1 </span>De digitale overheid heeft een probleem</a></li><li class="tocline"><a class="tocxref" href="#wat-is-een-api"><span class="secno">2.2 </span>Wat is een API?</a></li><li class="tocline"><a class="tocxref" href="#wat-betekenen-apis-voor-mijn-organisatie"><span class="secno">2.3 </span>Wat betekenen APIs voor mijn organisatie?</a></li><li class="tocline"><a class="tocxref" href="#nederland-heeft-al-schitterende-voorbeelden"><span class="secno">2.4 </span>Nederland heeft al schitterende voorbeelden</a></li></ol></li><li class="tocline"><a class="tocxref" href="#inspelen-op-gebruikerswensen-de-sleutel-tot-gebruik"><span class="secno">3. </span>Inspelen op gebruikerswensen: dé sleutel tot gebruik</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#inleiding-0"><span class="secno">3.1 </span>Inleiding</a></li><li class="tocline"><a class="tocxref" href="#overkoepelende-aanbeveling-biedt-een-goede-developer-experience-dx"><span class="secno">3.2 </span>Overkoepelende aanbeveling: biedt een goede ‘developer experience (DX)’</a></li><li class="tocline"><a class="tocxref" href="#gebruik-van-onboarding-tot-in-productie"><span class="secno">3.3 </span>Gebruik: van ‘onboarding’ tot ‘in productie’</a></li><li class="tocline"><a class="tocxref" href="#specifieke-aanbevelingen-voor-een-goede-dx"><span class="secno">3.4 </span>Specifieke aanbevelingen voor een goede DX</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#aanbeveling-1-werk-met-meerdere-persona-s"><span class="secno">3.4.1 </span>Aanbeveling 1: werk met (meerdere) persona’s</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-2-analyseer-welke-api-s-je-aan-moet-bieden-welke-informatievragen-wil-je-beantwoorden"><span class="secno">3.4.2 </span>Aanbeveling 2: analyseer welke API’s je aan moet bieden: welke informatievragen wil je beantwoorden?</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-3-documenteer-gericht-op-de-gebruiker-biedt-snel-inzicht-en-gebruik-oas-3"><span class="secno">3.4.3 </span>Aanbeveling 3: documenteer gericht op de gebruiker, biedt snel inzicht en gebruik OAS 3</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-4-minimaliseer-time-to-first-call-met-een-goede-sandbox"><span class="secno">3.4.4 </span>Aanbeveling 4: minimaliseer Time to First Call met een goede Sandbox</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-5-borg-ontwikkeling-en-beheer"><span class="secno">3.4.5 </span>Aanbeveling 5: borg ontwikkeling en beheer</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#aanbeveling-5-1-stel-een-sla-op"><span class="secno">3.4.5.1 </span>Aanbeveling 5.1 Stel een SLA op</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-5-2-biedt-een-roadmap-aan"><span class="secno">3.4.5.2 </span>Aanbeveling 5.2 Biedt een roadmap aan</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-5-3-doe-aan-versiebeheer"><span class="secno">3.4.5.3 </span>Aanbeveling 5.3 Doe aan versiebeheer</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-5-4-sluit-de-feedback-loop-betrek-de-community"><span class="secno">3.4.5.4 </span>Aanbeveling 5.4 Sluit de feedback-loop: betrek de community</a></li></ol></li><li class="tocline"><a class="tocxref" href="#aanbeveling-6-maak-duidelijk-wat-je-data-betekent"><span class="secno">3.4.6 </span>Aanbeveling 6: maak duidelijk wat je data betekent</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-7-wees-vindbaar-voor-developers"><span class="secno">3.4.7 </span>Aanbeveling 7: wees vindbaar voor developers</a></li><li class="tocline"><a class="tocxref" href="#aanbeveling-8-niet-alles-is-een-api"><span class="secno">3.4.8 </span>Aanbeveling 8: niet alles is een API!</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#api-designrules"><span class="secno">4. </span>API designrules</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#introduction"><span class="secno">4.1 </span>Introduction</a></li><li class="tocline"><a class="tocxref" href="#restful-principles"><span class="secno">4.2 </span>RESTful principles</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#what-are-resources"><span class="secno">4.2.1 </span>What are resources?</a></li><li class="tocline"><a class="tocxref" href="#language-usage"><span class="secno">4.2.2 </span>Language usage</a></li><li class="tocline"><a class="tocxref" href="#interface-nomenclature-singular-or-plural"><span class="secno">4.2.3 </span>Interface nomenclature: singular or plural?</a></li><li class="tocline"><a class="tocxref" href="#how-to-go-deal-with-relations"><span class="secno">4.2.4 </span>How to go deal with relations?</a></li><li class="tocline"><a class="tocxref" href="#custom-representation"><span class="secno">4.2.5 </span>Custom representation</a></li><li class="tocline"><a class="tocxref" href="#how-to-implement-operations-that-do-not-fit-the-crud-model"><span class="secno">4.2.6 </span>How to implement operations that do not fit the CRUD model?</a></li></ol></li><li class="tocline"><a class="tocxref" href="#documentation"><span class="secno">4.3 </span>Documentation</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#best-practice-s"><span class="secno">4.3.1 </span>Best practice(s)</a></li></ol></li><li class="tocline"><a class="tocxref" href="#versioning"><span class="secno">4.4 </span>Versioning</a></li><li class="tocline"><a class="tocxref" href="#extensions"><span class="secno">4.5 </span>Extensions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#beveiliging"><span class="secno">5. </span>Beveiliging</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#nederlands-profiel-oauth"><span class="secno">5.1 </span>Nederlands profiel OAuth</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#expert-advies-oauth-forum-standaardisatie"><span class="secno">5.1.1 </span>Expert advies OAuth forum standaardisatie</a></li><li class="tocline"><a class="tocxref" href="#werkingsgebied-standaard"><span class="secno">5.1.2 </span>Werkingsgebied standaard</a></li><li class="tocline"><a class="tocxref" href="#toepassingsgebied-standaard"><span class="secno">5.1.3 </span>Toepassingsgebied standaard</a></li><li class="tocline"><a class="tocxref" href="#openid-connect-buiten-scope"><span class="secno">5.1.4 </span>OpenID connect buiten scope</a></li><li class="tocline"><a class="tocxref" href="#aansluiting-op-internationale-standaard-igov"><span class="secno">5.1.5 </span>Aansluiting op internationale standaard iGov</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#architectuur"><span class="secno">6. </span>Architectuur</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#inleiding-1"><span class="secno">6.1 </span>Inleiding</a></li><li class="tocline"><a class="tocxref" href="#diensten-toegang-api-management"><span class="secno">6.2 </span>Diensten toegang &amp; API management</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#api-gateway"><span class="secno">6.2.1 </span>API-Gateway</a></li><li class="tocline"><a class="tocxref" href="#api-management"><span class="secno">6.2.2 </span>API Management</a></li><li class="tocline"><a class="tocxref" href="#developer-portal"><span class="secno">6.2.3 </span>Developer Portal</a></li><li class="tocline"><a class="tocxref" href="#applicaties-afnemer-applicaties-aanbieder"><span class="secno">6.2.4 </span>Applicaties Afnemer &amp; Applicaties Aanbieder</a></li><li class="tocline"><a class="tocxref" href="#identity-management"><span class="secno">6.2.5 </span>Identity Management</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#supplements"><span class="secno">7. </span>Supplements</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#api-principles"><span class="secno">7.1 </span><span name="api-principes" class="formerLink"></span>API Principles</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#api-01-operations-are-safe-and-or-idempotent"><span class="secno">7.1.1 </span><span name="api-01" class="formerLink"></span>API-01: Operations are <em>Safe</em> and/or <em>Idempotent</em></a></li><li class="tocline"><a class="tocxref" href="#api-02-do-not-maintain-state-information-at-the-server"><span class="secno">7.1.2 </span><span name="api-02" class="formerLink"></span>API-02: Do not maintain state information at the server</a></li><li class="tocline"><a class="tocxref" href="#api-03-only-apply-default-http-operations"><span class="secno">7.1.3 </span><span name="api-03" class="formerLink"></span>API-03: Only apply default HTTP operations</a></li><li class="tocline"><a class="tocxref" href="#api-04-define-interfaces-in-dutch-unless-there-is-an-official-english-glossary"><span class="secno">7.1.4 </span><span name="api-04" class="formerLink"></span>API-04: Define interfaces in Dutch unless there is an official English glossary</a></li><li class="tocline"><a class="tocxref" href="#api-05-use-plural-nouns-to-indicate-resources"><span class="secno">7.1.5 </span><span name="api-05" class="formerLink"></span>API-05: Use plural nouns to indicate resources</a></li><li class="tocline"><a class="tocxref" href="#api-06-create-relations-of-nested-resources-within-the-endpoint"><span class="secno">7.1.6 </span><span name="api-06" class="formerLink"></span>API-06: Create relations of nested resources within the endpoint</a></li><li class="tocline"><a class="tocxref" href="#api-09-implement-custom-representation-if-supported"><span class="secno">7.1.7 </span><span name="api-09" class="formerLink"></span>API-09: Implement custom representation if supported</a></li><li class="tocline"><a class="tocxref" href="#api-10-implement-operations-that-do-not-fit-the-crud-model-as-sub-resources"><span class="secno">7.1.8 </span><span name="api-10" class="formerLink"></span>API-10: Implement operations that do not fit the CRUD model as sub-resources</a></li><li class="tocline"><a class="tocxref" href="#api-11-encrypt-connections-using-at-least-tls-v1-3"><span class="secno">7.1.9 </span><span name="api-11" class="formerLink"></span>API-11: Encrypt connections using at least TLS v1.3</a></li><li class="tocline"><a class="tocxref" href="#api-12-allow-access-to-an-api-only-if-an-api-key-is-provided"><span class="secno">7.1.10 </span><span name="api-12" class="formerLink"></span>API-12: Allow access to an API only if an API key is provided</a></li><li class="tocline"><a class="tocxref" href="#api-13-accept-tokens-as-http-headers-only"><span class="secno">7.1.11 </span><span name="api-13" class="formerLink"></span>API-13: Accept tokens as HTTP headers only</a></li><li class="tocline"><a class="tocxref" href="#api-14-use-oauth-2-0-for-authorisation"><span class="secno">7.1.12 </span><span name="api-14" class="formerLink"></span>API-14: Use OAuth 2.0 for authorisation</a></li><li class="tocline"><a class="tocxref" href="#api-15-use-pkioverheid-certificates-for-access-restricted-or-purpose-limited-api-authentication"><span class="secno">7.1.13 </span><span name="api-15" class="formerLink"></span>API-15: Use PKIoverheid certificates for access-restricted or purpose-limited API authentication</a></li><li class="tocline"><a class="tocxref" href="#api-16-use-oas-3-0-for-documentation"><span class="secno">7.1.14 </span><span name="api-16" class="formerLink"></span>API-16: Use OAS 3.0 for documentation</a></li><li class="tocline"><a class="tocxref" href="#api-17-publish-documentation-in-dutch-unless-there-is-existing-documentation-in-english-or-there-is-an-official-english-glossary-available"><span class="secno">7.1.15 </span><span name="api-17" class="formerLink"></span>API-17: Publish documentation in Dutch unless there is existing documentation in English or there is an official English glossary available</a></li><li class="tocline"><a class="tocxref" href="#api-18-include-a-deprecation-schedule-when-publishing-api-changes"><span class="secno">7.1.16 </span><span name="api-18" class="formerLink"></span>API-18: Include a deprecation schedule when publishing API changes</a></li><li class="tocline"><a class="tocxref" href="#api-19-allow-for-a-maximum-1-year-transition-period-to-a-new-api-version"><span class="secno">7.1.17 </span><span name="api-19" class="formerLink"></span>API-19: Allow for a maximum 1 year transition period to a new API version</a></li><li class="tocline"><a class="tocxref" href="#api-20-include-the-major-version-number-only-in-ihe-uri"><span class="secno">7.1.18 </span><span name="api-20" class="formerLink"></span>API-20: Include the major version number only in ihe URI</a></li><li class="tocline"><a class="tocxref" href="#api-21-inform-users-of-a-deprecated-api-actively"><span class="secno">7.1.19 </span><span name="api-21" class="formerLink"></span>API-21: Inform users of a deprecated API actively</a></li><li class="tocline"><a class="tocxref" href="#api-22-json-first-apis-receive-and-send-json"><span class="secno">7.1.20 </span><span name="api-22" class="formerLink"></span>API-22: JSON first - APIs receive and send JSON</a></li><li class="tocline"><a class="tocxref" href="#api-23-apis-may-provide-a-json-schema"><span class="secno">7.1.21 </span><span name="api-23" class="formerLink"></span>API-23: APIs may provide a JSON Schema</a></li><li class="tocline"><a class="tocxref" href="#api-24-support-content-negotiation"><span class="secno">7.1.22 </span><span name="api-24" class="formerLink"></span>API-24: Support content negotiation</a></li><li class="tocline"><a class="tocxref" href="#api-25-check-the-content-type-header-settings"><span class="secno">7.1.23 </span><span name="api-25" class="formerLink"></span>API-25: Check the Content-Type header settings</a></li><li class="tocline"><a class="tocxref" href="#api-26-define-field-names-in-in-camelcase"><span class="secno">7.1.24 </span><span name="api-26" class="formerLink"></span>API-26: Define field names in in <em>camelCase</em></a></li><li class="tocline"><a class="tocxref" href="#api-27-disable-pretty-print"><span class="secno">7.1.25 </span><span name="api-27" class="formerLink"></span>API-27: Disable pretty print</a></li><li class="tocline"><a class="tocxref" href="#api-28-send-a-json-response-without-enclosing-envelope"><span class="secno">7.1.26 </span><span name="api-28" class="formerLink"></span>API-28: Send a JSON-response without enclosing envelope</a></li><li class="tocline"><a class="tocxref" href="#api-29-support-json-encoded-post-put-and-patch-payloads"><span class="secno">7.1.27 </span><span name="api-29" class="formerLink"></span>API-29: Support JSON-encoded <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> payloads</a></li><li class="tocline"><a class="tocxref" href="#api-30-use-query-parameters-corresponding-to-the-queryable-fields"><span class="secno">7.1.28 </span><span name="api-30" class="formerLink"></span>API-30: Use query parameters corresponding to the queryable fields</a></li><li class="tocline"><a class="tocxref" href="#api-31-use-the-query-parameter-sorteer-to-sort"><span class="secno">7.1.29 </span><span name="api-31" class="formerLink"></span>API-31: Use the query parameter <code>sorteer</code> to sort</a></li><li class="tocline"><a class="tocxref" href="#api-32-use-the-query-parameter-zoek-for-full-text-search"><span class="secno">7.1.30 </span><span name="api-32" class="formerLink"></span>API-32: Use the query parameter <code>zoek</code> for full-text search</a></li><li class="tocline"><a class="tocxref" href="#api-33-support-both-and-wildcard-characters-for-full-text-search-apis"><span class="secno">7.1.31 </span><span name="api-33" class="formerLink"></span>API-33: Support both <code>*</code> and <code>?</code> wildcard characters for full-text search APIs</a></li><li class="tocline"><a class="tocxref" href="#api-34-support-geojson-for-geo-apis"><span class="secno">7.1.32 </span><span name="api-34" class="formerLink"></span>API-34: Support GeoJSON for GEO APIs</a></li><li class="tocline"><a class="tocxref" href="#api-35-include-geojson-as-part-of-the-embedded-resource-in-the-json-response"><span class="secno">7.1.33 </span><span name="api-35" class="formerLink"></span>API-35: Include GeoJSON as part of the embedded resource in the JSON response</a></li><li class="tocline"><a class="tocxref" href="#api-36-provide-a-post-endpoint-for-geo-queries"><span class="secno">7.1.34 </span><span name="api-36" class="formerLink"></span>API-36: Provide a <code>POST</code> endpoint for GEO queries</a></li><li class="tocline"><a class="tocxref" href="#api-37-support-mixed-queries-at-post-endpoints"><span class="secno">7.1.35 </span><span name="api-37" class="formerLink"></span>API-37: Support mixed queries at <code>POST</code> endpoints</a></li><li class="tocline"><a class="tocxref" href="#api-38-put-results-of-a-global-spatial-query-in-the-relevant-geometric-context"><span class="secno">7.1.36 </span><span name="api-38" class="formerLink"></span>API-38: Put results of a global spatial query in the relevant geometric context</a></li><li class="tocline"><a class="tocxref" href="#api-39-use-etrs89-as-the-preferred-coordinate-reference-system-crs"><span class="secno">7.1.37 </span><span name="api-39" class="formerLink"></span>API-39: Use ETRS89 as the preferred coordinate reference system (CRS)</a></li><li class="tocline"><a class="tocxref" href="#api-40-pass-the-coordinate-reference-system-crs-of-the-request-and-the-response-in-the-headers"><span class="secno">7.1.38 </span><span name="api-40" class="formerLink"></span>API-40: Pass the coordinate reference system (CRS) of the request and the response in the headers</a></li><li class="tocline"><a class="tocxref" href="#api-41-use-content-negotiation-to-serve-different-crss"><span class="secno">7.1.39 </span><span name="api-41" class="formerLink"></span>API-41: Use content negotiation to serve different CRSs</a></li><li class="tocline"><a class="tocxref" href="#api-42-use-json-hal-with-media-type-application-hal-json-for-pagination"><span class="secno">7.1.40 </span><span name="api-42" class="formerLink"></span>API-42: Use JSON+HAL with media type <code>application/hal+json</code> for pagination</a></li><li class="tocline"><a class="tocxref" href="#api-43-apply-caching-to-improve-performance"><span class="secno">7.1.41 </span><span name="api-43" class="formerLink"></span>API-43: Apply caching to improve performance</a></li><li class="tocline"><a class="tocxref" href="#api-44-apply-rate-limiting"><span class="secno">7.1.42 </span><span name="api-44" class="formerLink"></span>API-44: Apply rate limiting</a></li><li class="tocline"><a class="tocxref" href="#api-45-provide-rate-limiting-information"><span class="secno">7.1.43 </span><span name="api-45" class="formerLink"></span>API-45: Provide rate limiting information</a></li><li class="tocline"><a class="tocxref" href="#api-46-use-default-error-handling"><span class="secno">7.1.44 </span><span name="api-46" class="formerLink"></span>API-46: Use default error handling</a></li><li class="tocline"><a class="tocxref" href="#api-47-use-the-required-http-status-codes"><span class="secno">7.1.45 </span><span name="api-47" class="formerLink"></span>API-47: Use the required HTTP status codes</a></li><li class="tocline"><a class="tocxref" href="#api-48-leave-off-trailing-slashes-from-api-endpoints"><span class="secno">7.1.46 </span><span name="api-48" class="formerLink"></span>API-48: Leave off trailing slashes from API endpoints</a></li><li class="tocline"><a class="tocxref" href="#api-49-use-public-api-keys"><span class="secno">7.1.47 </span><span name="api-49" class="formerLink"></span>API-49: Use <em>public</em> API-keys</a></li><li class="tocline"><a class="tocxref" href="#api-50-use-cors-to-control-access"><span class="secno">7.1.48 </span><span name="api-50" class="formerLink"></span>API-50: Use CORS to control access</a></li><li class="tocline"><a class="tocxref" href="#api-51-publish-oas-at-the-base-uri-in-json-format"><span class="secno">7.1.49 </span><span name="api-51" class="formerLink"></span>API-51: Publish OAS at the base-URI in JSON-format</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><span class="secno">A. </span>Referenties</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#informatieve-referenties"><span class="secno">A.1 </span>Informatieve referenties</a></li></ol></li></ol></nav>  
    <!-- vanaf hier per hoofdstuk een sectie of een div in het document ======================== -->
    <!-- Secties komen in de inhoudsopgave div's niet ========================================== -->
    <!-- Secties hebben verplicht <h2> tags, div's niet ======================================== -->
    <section data-format="markdown" class="informative" aria-busy="false" id="inleiding"><!--OddPage--><h2 id="x1-inleiding"><span class="secno">1. </span>Inleiding</h2><p><em>Dit onderdeel is niet normatief.</em></p><p>Dit hoofdstuk geeft een inleiding op de Nederlandse API strategie</p><section id="status-van-de-api-strategie"><h3 id="x1-1-status-van-de-api-strategie"><span class="secno">1.1 </span>Status van de API strategie</h3><p>In deze versie van de API strategie zijn de op en aanmerkingen uit de consultatie verwerkt. 
Op <a href="https://github.com/geonovum/KP-APIs/issues">GitHub</a> kan bekeken worden wat er precies is 
gedaan met de op en aanmerkingen. </p></section><section id="auteurs"><h3 id="x1-2-auteurs"><span class="secno">1.2 </span>Auteurs</h3><p>Er worden slechts 6 auteurs genoemd, echter aan deze strategie is door veel meer mensen gewerkt.
De genoemde auteurs zijn de 6 trekkers van de 5 werkgroepen API Strategie, 
Architectuur, Authenticatie en Autorisatie, Communicatie en Beleid, en Gebruikerswensen</p></section><section id="leeswijzer"><h3 id="x1-3-leeswijzer"><span class="secno">1.3 </span>Leeswijzer</h3><p>Dit document bevat twee delen, waarbij het eerste deel "niet-technisch" en het tweede deel "technisch" van aard is.
In het eerste deel zitten de hoofdstukken <a href="#communicatie-en-beleid">Communicatie en Beleid</a> 
en <a href="#inspelen-op-gebruikerswensen-de-sleutel-tot-gebruik">Gebruikerswensen</a>.</p><p>Het tweede deel bevat de hoofdstukken <a href="#api-designrules">API designrules</a>, 
<a href="#beveiliging">Beveiliging</a> en <a href="#architectuur">Architectuur</a>, waarin een technische uitwerking 
van de eerste twee hoofdstukken staat.  </p><p>De hoofdstukken <a href="#api-designrules">API designrules</a> en de <a href="#api-principes">API Principes</a> zijn <em>Engelstalig</em>, 
want deze zijn gericht op de (internationale) developer community. 
In paragraaf <a href="#extensions">Extensies</a> in het hoofdstuk <a href="#api-designrules">API designrules</a> staan links naar de
gepubliceerde en werkversie van het aparte document met extensies. </p></section></section>
    <section data-format="markdown" class="informative" aria-busy="false" id="communicatie-en-beleid"><!--OddPage--><h2 id="x2-communicatie-en-beleid"><span class="secno">2. </span>Communicatie en beleid</h2><p><em>Dit onderdeel is niet normatief.</em></p><blockquote>
<p><em>Dit hoofdstuk geeft een niet-technische inleiding voor bestuurders en managers. In dit hoofdstuk bekijken we:</em><br><em>- welk probleem willen we oplossen?</em><br><em>- wat zijn APIs en hoe helpen ze bij dit probleem?</em><br><em>- wanneer zijn APIs relevant voor mijn organisatie?</em>
<em>- voorbeelden van het gebruik van APIs in Nederland</em></p>
</blockquote><p>Larissa gaat verhuizen van Den Haag naar Amsterdam. Ze gaat naar het gemeentehuis in Amsterdam om zich in te schrijven. Achter de schermen komt er een ingewikkelde gegevensstroom op gang.</p><p>Amsterdam en Den Haag houden elk hun eigen registratie van personen bij. De ICT systemen van Amsterdam moeten daarom de persoonsgegevens van Larissa opvragen bij de ICT systemen van Den Haag. Daarna kan Amsterdam Larissa in z’n eigen basisregistratie personen registreren. De gemeente Den Haag moet weten dat Larissa nu in Amsterdam staat ingeschreven. Dus stuurt  Amsterdam verwijsgegevens voor Larissa naar Den Haag. Den Haag verwerkt de verwijsgegevens voor Larissa in z’n lokale basisregistratie personen. Zowel Amsterdam als Den Haag moeten de mutaties van hun lokale basisregistratie personen ook nog doorgeven aan de <a href="https://www.autoriteitpersoonsgegevens.nl/nl/onderwerpen/gemeente/basisregistratie-personen-brp?qa=brp">centrale basisregistratie personen van de Autoriteit Persoonsgegevens</a>. Zo kan het drie werkdagen kosten om een eenvoudige verhuizing volledig te registreren.</p><p>Is het niet efficiënter om één basisregistratie personen bij te houden, in plaats van gegevens heen en weer te schuiven van de ene lokale registratie naar de andere?</p><img src="../media/visualisatie-data-bij-de-bron.png" alt="Visualisatie van de voordelen van het bij de bron houden van data met APIs" width="700"><section id="de-digitale-overheid-heeft-een-probleem"><h3 id="x2-1-de-digitale-overheid-heeft-een-probleem"><span class="secno">2.1 </span>De digitale overheid heeft een probleem</h3><p>Bij veel ICT systemen van de overheid zitten de gegevens (de data) helemaal verweven in de applicatie. Ieder systeem heeft z'n eigen database en kopieert data van en naar andere systemen. Zo werken veel systemen bij gemeenten met kopieën van de landelijke basisregistraties. Met de jaren ontstaat daardoor een wirwar aan koppelingen tussen systemen.</p><img src="../media/visualisatie-probleem.jpg" alt="Visualisatie van de ongestructureerde datakoppelingen tussen ICT systemen van de overheid" width="700"><p>De huidige situatie brengt een aantal problemen met zich mee:</p><ol>
<li>De kans op fouten en datalekken neemt toe bij het veelvuldig kopiëren en gedupliceerd opslaan van gegevens.</li>
<li>Het kopiëren en synchroniseren van gegevens tussen systemen kost tijd, resources en geld.</li>
<li>Personen of bedrijven hebben geen regie over hun gegevens als deze overal verspreid staan.</li>
<li>Veel van de systemen en koppelingen werken afhankelijkheid van leveranciers in de hand.</li>
</ol><p>We kunnen de digitale overheid veiliger, efficiënter en beter beheersbaar maken door applicaties beter te scheiden van de gegevens en de gegevens alleen bij de bron te bewaren. Door de gegevens alleen door de bronhouder te laten beheren, hoeven ze niet meer op grote schaal gekopieerd, gedupliceerd en gesynchroniseerd te worden. Dit idee zit achter het <a href="https://www.gemmaonline.nl/images/gemmaonline/8/8b/Gemeentelijk_Gegevenslandschap_-_Beschrijving_informatiearchitectuur_v0_6.pdf">nieuwe gegevenslandschap</a> met als onderdelen <a href="https://github.com/VNG-Realisatie/Haal-Centraal-BRP-bevragen">Haal Centraal</a> en <a href="https://vng.nl/samen-organiseren/common-ground">Common Ground</a>.</p><p>Dit vraagt om technologie waarmee je gegevens op een betrouwbare en schaalbare manier kan ontsluiten bij de bron. Dat kan met APIs.</p></section><section id="wat-is-een-api"><h3 id="x2-2-wat-is-een-api"><span class="secno">2.2 </span>Wat is een API?</h3><p>Een <a href="https://www.ensie.nl/dimitri-van-hees/api"><em>application programming interface</em> (API)</a> is een gestructureerd en gedocumenteerd koppelvlak voor communicatie tussen applicaties. Je kan een API zien als een digitale stekkerdoos die applicaties met elkaar verbindt. APIs bestaan al zo lang er computers zijn.</p><p>Hier hebben wij het in het bijzonder over APIs waarmee je applicaties over het Internet kan koppelen. Zogenaamde <a href="../Werkgroep%20API%20strategie/Designrules.md#restful-principes">REST</a> APIs doen voor applicaties wat websites voor mensen doen. Websites presenteren informatie aan mensen, REST APIs maken applicaties en gegevens over het Internet beschikbaar voor andere applicaties. De technologie achter websites en REST APIs heeft daarom veel gemeen.</p><p>De meeste applicaties gebruiken APIs onder de motorkap zonder dat de eindgebruiker dat ziet. Als je een app opent voor het weer, dan merk je niet dat deze app gegevens ophaalt bij het <a href="https://meteoserver.nl/real-time-KNMI-weer-API.php">KNMI via een API</a>. Degene die het meest direct met een API te maken krijgt is de ontwikkelaar van de applicatie die de API gebruikt. Zij moet begrijpen hoe de API werkt en hoe je deze vanuit de applicatie moet bevragen.</p><p>Hier verschillen APIs dus van websites. Een website bouw je voor de eindgebruiker die hem bezoekt. Een API maak je voor programmeurs die er applicaties mee bouwen. Daarom is het gewoonte om APIs aan te bieden op het <em>developer</em> subdomein van een website, zoals <a href="https://developer.overheid.nl/">developer.overheid.nl</a> voor APIs van de overheid.</p></section><section id="wat-betekenen-apis-voor-mijn-organisatie"><h3 id="x2-3-wat-betekenen-apis-voor-mijn-organisatie"><span class="secno">2.3 </span>Wat betekenen APIs voor mijn organisatie?</h3><p>APIs zijn een middel, geen doel. De missie van een organisatie bepaalt of APIs toegevoegde waarde hebben in de ICT processen. Dat kan het geval zijn als de organisatie een dienstverlenende taak heeft en gegevens beheert die andere organisaties gebruiken. Of als de organisatie deel uit maakt van een of meer ketens.</p><p>Een aantal zaken om te overwegen:</p><ol>
<li><strong>Gegevens bij de bron beheren.</strong> Voorkom het dupliceren en lokaal bewerken van centrale gegevensverzamelingen. Dit maakt processen efficiënter en voorkomt dat kopieën van gegevensverzamelingen uit de pas lopen.</li>
<li><strong>Processen en gegevens losser koppelen.</strong> Vaste ketens maken steeds vaker plaats voor lossere koppelingen met een kortere levensduur, zoals in de visie van <a href="https://vng.nl/samen-organiseren/common-ground">Common Ground</a>. Of in <a href="https://ec.europa.eu/digital-single-market/en/smart-cities"><em>smart cities</em></a> als  <a href="https://amsterdamsmartcity.com/projects/dataamsterdamnl">Amsterdam</a> waar een wisselende groep publieke en private organisaties dynamisch gegevens uitwisselt.</li>
<li><strong>Specifieke vragen bedienen.</strong> Afnemers hebben meestal niet alle gegevens uit je gegevensverzameling nodig. Voorbeeld: een applicatie die in de <a href="https://bag.basisregistraties.overheid.nl/">Basisregistratie Adressen en Gebouwen</a> het adres opzoekt dat hoort bij een postcode en huisnummer hoeft niet het bouwjaar, oppervlakte en gebruiksdoel van het pand te krijgen.</li>
<li><strong>ICT projecten 'Agile' uitvoeren.</strong> Steeds meer organisaties zoals <a href="https://logius.nl/onze-organisatie/safe-bij-logius">Logius</a> ontwikkelen systemen volgens <a href="https://www.agilealliance.org/agile101/">Agile principes</a>. Dit betekent dat je snel in moet kunnen spelen op veranderende vragen van de gebruikers aan je gegevensbronnen. </li>
<li><strong>Afhankelijkheid van leveranciers verminderen.</strong> Voorkom dat koppelingen maatwerk vereisen of afhankelijk zijn van producten of kennis van een specifieke leverancier. Gebruik waar mogelijk <a href="https://www.forumstandaardisatie.nl/thema/open-standaarden">open standaarden</a>.</li>
<li><strong>Innovatie stimuleren.</strong> Door gegevens openbaar aan te bieden kunnen zowel publieke als private ondernemingen ermee aan de slag. Zij gebruiken de gegevens soms op verrassende manieren die nieuwe kansen creëren.</li>
</ol><p>Inventariseer welke gegevens je organisatie voortbrengt en welke gegevens je gebruikt van andere organisaties. Bekijk hoe de bestaande ICT koppelingen ingericht zijn. Is je organisatie daarbij afhankelijk van bepaalde producten of leveranciers? Kan het  efficiënter, flexibeler, veiliger en meer open met APIs?</p><p>Deze <a href="https://docs.geostandaarden.nl/api/API-Strategie/">API strategie</a>  beschrijft de standaarden, ontwerpprincipes en veiligheidsmaatregelen die ervoor zorgen dat alle overheden hun APIs op een inzichtelijke, gebruikersvriendelijke, veilige en geharmoniseerde manier aanbieden. Door deel te nemen in het <a href="https://www.geonovum.nl/themas/kennisplatform-apis">Kennisplatform APIs</a> krijgt je organisatie meer inzicht in de toegevoegde waarde die APIs voor jouw toepassing al dan niet kunnen bieden.</p></section><section id="nederland-heeft-al-schitterende-voorbeelden"><h3 id="x2-4-nederland-heeft-al-schitterende-voorbeelden"><span class="secno">2.4 </span>Nederland heeft al schitterende voorbeelden</h3><p>Veel publieke organisaties in Nederland bieden hun gegevens met APIs aan. De <a href="https://www.ns.nl/reisinformatie/ns-api">Nederlandse Spoorwegen</a> bijvoorbeeld, die met APIs actuele vertrektijden, prijzen, storingen en reisadviezen publiceren om in apps te gebruiken. En de Rijksdienst voor het Wegverkeer die de <a href="https://opendata.rdw.nl/resource/m9d7-ebf2.json">kentekenregistratie voor voertuigen</a> met een API aanbiedt.</p><p>In februari 2019 won de <a href="https://zakelijk.kadaster.nl/-/bag-api">Basisregistratie Adressen en Gebouwen (BAG) API</a> van Kadaster de <a href="https://www.geonovum.nl/over-geonovum/actueel/kadaster-wint-prijs-beste-api-van-de-overheid">Gouden API</a> die het <a href="https://www.geonovum.nl/themas/kennisplatform-apis">Kennisplatform APIs</a> uitloofde voor de beste API van de overheid. De <a href="https://zakelijk.kadaster.nl/bag">BAG</a> registreert voor elk adres in Nederland gegevens als de geografische coördinaten, het bouwjaar van het pand, de oppervlakte en het vergunde gebruiksdoel. Verzekeraars, hypotheekverstrekkers, hulpdiensten, milieudiensten en vele anderen gebruiken informatie uit de BAG. Dat de BAG API voldoet aan een behoefte blijkt wel uit de 300 miljoen consultaties die de BAG API in 2018 verwerkte.</p><p>De APIs van <a href="https://api-docs.luchtmeetnet.nl/">Luchtmeetnet</a> en van de <a href="https://www.kvk.nl/producten-bestellen/koppeling-handelsregister/kvk-api/?msclkid=ec7b5b3fe30a10cb537907f53d6cd07f&amp;utm_source=bing&amp;utm_medium=cpc&amp;utm_campaign=0.%20Brand%20-%20Combinaties&amp;utm_term=%2bkvk%20%2bapi&amp;utm_content=KVK%20-%20API%20%28bmm%29">Kamer van Koophandel</a> kregen bij de <a href="https://www.geonovum.nl/over-geonovum/actueel/kadaster-wint-prijs-beste-api-van-de-overheid">Gouden API</a> eervolle vermeldingen vanwege hun relevantie en gebruiksgemak. De API van de Kamer van Koophandel geeft applicaties  toegang tot de gegevens van het handelsregister. Hiermee kunnen bijvoorbeeld bedrijven en gemeenten CRM systemen, zaaksystemen en factureringssystemen aan het handelsregister koppelen. De API van Luchtmeetnet geeft bijvoorbeeld <a href="https://www.buienradar.nl/nederland/gezondheid/luchtkwaliteit/index">weer-apps</a> de mogelijkheid om ook informatie over luchtkwaliteit voor astmatici te geven.</p><p>Het portal developer.overheid.nl geeft een overzicht van APIs die Nederlandse overheidsorganisaties aanbieden. Heeft jouw organisatie gegevens waar bedrijven, burgers of andere overheden iets mee kunnen?</p></section></section>
    <section data-format="markdown" class="informative" aria-busy="false" id="inspelen-op-gebruikerswensen-de-sleutel-tot-gebruik"><!--OddPage--><h2 id="x3-inspelen-op-gebruikerswensen-de-sleutel-tot-gebruik"><span class="secno">3. </span>Inspelen op gebruikerswensen: dé sleutel tot gebruik</h2><p><em>Dit onderdeel is niet normatief.</em></p><section id="inleiding-0"><h3 id="x3-1-inleiding"><span class="secno">3.1 </span>Inleiding</h3><p>Overheden bezitten kwalitatief hoogwaardige data en bieden deze aan via API’s.
Vanuit het open data-perspectief maken overheden het hiermee mogelijk dat
anderen -binnen én buiten de overheid- zinvolle toepassingen kunnen ontwikkelen,
die maatschappelijke meerwaarde bieden. Maar de overheid gaat nog verder: bij
initiatieven als Common Ground is het gebruik van API’s zelfs randvoorwaardelijk
om werkprocessen zodanig in te richten, dat data altijd bij de bron bevraagd en
gewijzigd kan worden. Een belangrijke succesfactor in deze ontwikkelingen is de
mate waarin overheden erin slagen om drempels voor het gebruik van hun API’s weg
te nemen. Om het gebruik zo laagdrempelig mogelijk te maken, is het essentieel
dat er aandacht is voor de wensen van gebruikers. En om te begrijpen welke wensen ze hebben, is het essentieel om te begrijpen wie die gebruikers zijn. In generieke zin zijn de gebruikers van API's developers: mensen die toepassingen ontwikkelen. Deze developers fungeren als intermediair tussen de data- of dienstaanbieder enerzijds en de eindgebruiker anderzijds. Neem bijvoorbeeld een gemeente die het mogelijk wil maken dat burgers makkelijk melding kunnen maken van een defecte lantarenpaal, losliggende stoeptegel of zwerfvuil, De burger is dan de eindgebruiker, maar de ontwikkelaar van de Melding Openbare Ruimte app is de gebruiker van de API's die de gemeente aanbiedt om bijvoorbeeld een kaartondergrond op te halen of een melding aan te bieden aan de gemeente.
De gebruikerswensen liggen niet alleen op het “wat” (wat voor data krijg ik?), maar zeker ook op het “hoe” (hoe
makkelijk kan ik aan de slag met deze API?). Bij de eerste kennismaking met de
API moet de gebruiker verleidt worden om de API te gaan gebruiken en in alle
volgende fases van gebruik (implementeren, in productie nemen en in productie
houden) moet de gebruikerservaring zodanig zijn, dat de gebruiker geen enkele
reden heeft om af te haken. Sterker nog: idealiter wordt de gebruiker zó
enthousiast over de API en de bijbehorende ondersteuning, dat de gebruiker
onderdeel wordt van de gebruikerscommunity en actief gaat bijdragen aan verdere
ontwikkeling en promotie van die API. Merk op dat dit effect alleen bereikt kan
worden, wanneer de totaalbeleving klopt: ook al is het product (de data) zelf
nog zo goed, als de gebruikservaring belabberd is, dan zul je niet veel
potentiële gebruikers verleiden om met je data zinvolle toepassingen te gaan
ontwikkelen. En nog erger: gebruikers die tóch met de API aan de slag gaan,
zullen de helpdesk van de aanbieder zwaar gaan belasten, de data mogelijk
verkeerd gaan interpreteren en de ICT-infrastructuur onnodig zwaar belasten,
wanneer zij slechts omslachtig (met veel API-calls) de gewenste gegevens kunnen
krijgen.</p></section><section id="overkoepelende-aanbeveling-biedt-een-goede-developer-experience-dx"><h3 id="x3-2-overkoepelende-aanbeveling-biedt-een-goede-developer-experience-dx"><span class="secno">3.2 </span>Overkoepelende aanbeveling: biedt een goede ‘developer experience (DX)’</h3><p>De belangrijkste aanbeveling aan aanbieders van API’s is om zich te richten op
die gebruikservaring; op een goede ‘developer experience (DX)’. Goede DX komt
voort uit stapeling van aandacht voor <em>functionality</em> (functionaliteit - wat
moet de API doen?), voor <em>usability</em> (hoe bruikbaar is de API voor de
developer?) en daar bovenop voor de <em>experience</em> (hoe voelt de developer zich
als die de API gebruikt?). Dat laatste aspect -hoe voelt de developer zich-
klinkt wellicht wat vaag, maar het is in essentie de optelsom van ervaringen in
de interactie tussen een developer en een API aanbieder. Stel: een developer,
Johan (26 jaar – ZZP-er), heeft moeite om een bepaalde API te vinden, vervolgens
blijkt het registratieproces lastig en krijgt hij de API key pas een week later,
daarna blijkt de documentatie in voor Johan deels onbegrijpelijk jargon
geschreven (én is het ook nog eens een PDF van 352 pagina’s), dan heeft Johan
meerdere calls nodig om de gewenste data te krijgen en uiteindelijk is data
helemaal niet in het door Johan gewenst formaat. Elke kleine irritatie is op
zichzelf niet onoverkomelijk, maar de optelsom maakt dat Johan concludeert: “Dit
is niet te doen, ik zoek wel wat anders!”.</p></section><section id="gebruik-van-onboarding-tot-in-productie"><h3 id="x3-3-gebruik-van-onboarding-tot-in-productie"><span class="secno">3.3 </span>Gebruik: van ‘onboarding’ tot ‘in productie’</h3><p>De zwakte van veel teksten over ‘developer experience’ is dat men zich vaak
alleen richt op de use case van een technische developer die een API wil
implementeren - denk aan Johan in de vorige paragraaf. Gebruik begint echter
niet bij de poging tot implementatie; hier gaan nog stappen aan vooraf. Johan
heeft zich al een aantal vragen gesteld, voordat hij besloot om die poging te
wagen. Die vragen -en daarmee de stappen die hij doorloopt- zijn beter te
introduceren aan de hand van het voorbeeld van een grotere softwareleverancier.
Stel: Anne (43 jaar) werkt als product manager bij een commerciële
softwareleverancier en heeft een aantal applicaties voor de gemeentelijke markt
in haar portfolio. Ze ziet een API op een ontwikkelaarsportaal en beoordeelt aan
de hand van de functionele specificaties of implementatie van de API meerwaarde
biedt voor één van haar applicaties. Eén API trekt haar aandacht en Anne vraagt
Steven (56 jaar, architect bij hetzelfde bedrijf) om te beoordelen of de API
past binnen de software stack van het bedrijf en kritisch te kijken naar eventuele security en privacy issues. Steven ziet mogelijkheden en
vervolgens krijgt Jeffrey (37 jaar, software engineer bij hetzelfde bedrijf) de
opdracht om binnen een dag te beoordelen of hij de API succesvol kan integreren
in de nieuwe versie van het product uit Anne’s portfolio. Na Jeffrey’s positieve
oordeel besluit Gea, de manager, om tijd en geld vrij te maken voor
implementatie. Zo komt de API uiteindelijk in de productieversie terecht: *"developer tries, business buys"*.</p><p>Dit eindresultaat is bereikt, doordat in alle fases de ‘onboarding’ -het proces
dat Anne, Steven en Jeffrey doorliepen toen zij voor de eerste keer gebruik
maakten van een digitale service (het aanbieden van de API)- prettig verliep.
Uit marketingonderzoeken blijkt een prettige eerste gebruikerservaring van een
online platform (bijvoorbeeld het ontwikkelaarsportaal waarop Anne de API
ontdekte en zij vervolgens samen met Steven en Jeffrey de API beoordeelde) veel
invloed heeft op het verdere gebruik ervan. Oftewel: de kans is groot dat dit
bedrijf vervolgens ook andere API’s op dit ontwikkelaarsportaal gaat gebruiken.</p><p>De kern van dit verhaal is dat een API technisch gezien weliswaar een machine tot machine koppeling is, maar strategisch juist gezien moet worden als een product. En dat product moet gebruikers (zie ze als potentiële klanten!) verleiden tot gebruik. Dan zijn aspecten als de winkelervaring (in een API store of ontwikkelaarsportaal), de geboden service en de kwaliteit van het product de doorslaggevende factoren in de beslissing om tot gebruik over te gaan.</p></section><section id="specifieke-aanbevelingen-voor-een-goede-dx"><h3 id="x3-4-specifieke-aanbevelingen-voor-een-goede-dx"><span class="secno">3.4 </span>Specifieke aanbevelingen voor een goede DX</h3><section id="aanbeveling-1-werk-met-meerdere-persona-s"><h4 id="x3-4-1-aanbeveling-1-werk-met-meerdere-persona-s"><span class="secno">3.4.1 </span>Aanbeveling 1: werk met (meerdere) persona’s</h4><p>Een API is weliswaar een machine tot machine koppeling, maar onthoud: API's ontwerp en bouw je niet voor een machine, maar voor een gebruiker: een
mens! Om een goede DX te bieden, moet je dus eerst weten voor wie je ontwerpt en
bouwt, voordat je dat goed kunt doen. Persona’s zijn dan belangrijk, er is niet
maar één type developer! Redeneer van buiten naar binnen: wie zijn mijn
gebruikers, wat willen zij kunnen doen en wat moet ik doen om dat zo goed
mogelijk te faciliteren. Het typeren van gebruikers en analyseren welke
behoeften zij hebben, doe je op basis van persona’s.</p><p>Belangrijk hierbij is om te onderkennen dat er verschillende niveaus of typen
gebruik zijn. Onderscheid daarom -met de fases van ‘onboarding’ tot ‘in
productie’ in het achterhoofd- minimaal de volgende persona’s:</p><ul>
<li><p>een product manager / business developer: focus op het kunnen beoordelen van
functionaliteit (“Is dit relevant voor mijn product / mijn doel?”)</p>
</li>
<li><p>een architect: focus op het beoordelen van het informatiemodel (“Hoe
integreert dit met de rest van onze software?”) en security- en privacy-aspecten.</p>
</li>
<li><p>een technische developer: focus op het daadwerkelijk kunnen gebruiken (“Hoe
krijg ik dit werkend?”).</p>
</li>
</ul></section><section id="aanbeveling-2-analyseer-welke-api-s-je-aan-moet-bieden-welke-informatievragen-wil-je-beantwoorden"><h4 id="x3-4-2-aanbeveling-2-analyseer-welke-api-s-je-aan-moet-bieden-welke-informatievragen-wil-je-beantwoorden"><span class="secno">3.4.2 </span>Aanbeveling 2: analyseer welke API’s je aan moet bieden: welke informatievragen wil je beantwoorden?</h4><p>De ene API is de andere niet. In veel modellen worden API’s in drie categorieën
onderverdeeld: de System API (die werkt op het niveau van de databron), de
Process API (die doet aan <em>orchestration</em> door één of meerdere System API’s aan
te roepen) en de Convenience of Experience API (die één specifieke
gebruikersvraag beantwoord). Vraag je altijd af welke informatievragen de
gebruiker heeft – in veel gevallen hangen deze vragen niet 1:1 samen met het
datamodel.</p><p>Stel dat je de Basisregistratie Adressen en Gebouwen wil ontsluiten. De
informatievraag “Geef me het volledige adres bij deze postcode” is alleen te
beantwoorden door intern bij een Verblijfsobject de Openbare Ruimte naam,
Nummeraanduiding en Woonplaats op te vragen en te combineren tot één
adressering. Bij een System API moet je meerdere calls doen om dit adres op te
bouwen, terwijl een Convenience API deze gangbare (maar complexe) vraag in één
call kan beantwoorden. Het aanbieden van Convenience API’s naast System API’s is
dus erg gebruiksvriendelijk: de 80% gebruikers die hiermee geholpen zijn,
confronteer je met slechts 20% van de complexiteit. Vergelijk dit met de
Toptaken-aanpak bij de websites van veel gemeenten: de meest aangevraagde
producten (bijv. nieuw paspoort en rijbewijs) staan pontificaal op de homepage,
terwijl de minder vaak gevraagde diensten op vervolgpagina’s staan. Zo reduceer
je de complexiteit voor een zo groot mogelijk deel van je gebruikers.</p></section><section id="aanbeveling-3-documenteer-gericht-op-de-gebruiker-biedt-snel-inzicht-en-gebruik-oas-3"><h4 id="x3-4-3-aanbeveling-3-documenteer-gericht-op-de-gebruiker-biedt-snel-inzicht-en-gebruik-oas-3"><span class="secno">3.4.3 </span>Aanbeveling 3: documenteer gericht op de gebruiker, biedt snel inzicht en gebruik OAS 3</h4><p>Elk type gebruiker dat in aanbeveling 1 wordt genoemd (business developer,
architect, technische developer) verdient zijn eigen ‘Getting started’
documentatie, gericht op het snel kunnen beoordelen en/of toepassen.
Documentatie is nooit een lijvig document (wanneer veel documentatie nodig
lijkt, is de functionaliteit vermoedelijk te complex) én nooit een PDF: laat je
gebruikers makkelijk klikken naar relevante onderdelen binnen én buiten de
documentatie! Referentie-implementaties kunnen ook zinvol zijn om snel een
indruk te bieden van functionaliteit. Voor de technische developer is de
documentatie conform de Open API Specifiction 3.0 (OAS 3); deze staat in
Nederland op de ‘Pas toe of leg uit-lijst’ van het Forum Standaardisatie.</p></section><section id="aanbeveling-4-minimaliseer-time-to-first-call-met-een-goede-sandbox"><h4 id="x3-4-4-aanbeveling-4-minimaliseer-time-to-first-call-met-een-goede-sandbox"><span class="secno">3.4.4 </span>Aanbeveling 4: minimaliseer Time to First Call met een goede Sandbox</h4><p>Zorg dat een developer snel een werkend voorbeeld heeft. Dit vraagt om een goed
gedocumenteerde, realistische Sandbox: een experimenteeromgeving met testdata. Deze Sandbox dient alle aspecten van de
API te ondersteunen en identiek gedrag aan de productieversie van de API te
vertonen, bijvoorbeeld rond authenticatie. Daar waar mogelijk is het zeer
wenselijk dat meerdere API’s dezelfde dataset bieden als Sandbox, zodat ook het
samenspel tussen verschillende API’s getest kan worden.</p></section><section id="aanbeveling-5-borg-ontwikkeling-en-beheer"><h4 id="x3-4-5-aanbeveling-5-borg-ontwikkeling-en-beheer"><span class="secno">3.4.5 </span>Aanbeveling 5: borg ontwikkeling en beheer</h4><p>Ook al is een API nog zo goed ontwikkeld, wanneer doorontwikkeling en beheer
niet goed geregeld is, zal die API niet succesvol zijn. Essentieel hierin is dat
je gebruikers duidelijkheid biedt:</p><section id="aanbeveling-5-1-stel-een-sla-op"><h5 id="x3-4-5-1-aanbeveling-5-1-stel-een-sla-op"><span class="secno">3.4.5.1 </span>Aanbeveling 5.1 Stel een SLA op</h5><blockquote>
<p>  Maak duidelijk welke verwachtingen een gebruiker mag hebben qua uptime,
  service window, beprijzing etc.</p>
</blockquote></section><section id="aanbeveling-5-2-biedt-een-roadmap-aan"><h5 id="x3-4-5-2-aanbeveling-5-2-biedt-een-roadmap-aan"><span class="secno">3.4.5.2 </span>Aanbeveling 5.2 Biedt een roadmap aan</h5><blockquote>
<p>  Maak duidelijk of en zo ja, wanneer er eventuele wijzigingen te verwachten
  zijn en hoe lang de API minimaal beschikbaar blijft.</p>
</blockquote></section><section id="aanbeveling-5-3-doe-aan-versiebeheer"><h5 id="x3-4-5-3-aanbeveling-5-3-doe-aan-versiebeheer"><span class="secno">3.4.5.3 </span>Aanbeveling 5.3 Doe aan versiebeheer</h5><blockquote>
<p>  Borg dat de toepassing van de gebruiker blijft werken, door te zorgen voor
  backward compatability. Grotere updates kunnen als nieuwe versie worden
  uitgebracht, waarbij oudere versies nog een gegarandeerde periode
  beschikbaar blijven. Het versienummer kan in elke call staan, bijv. GET
  /api/v1.0/... En versiebeheer slaat niet alleen op de API zelf, maar ook op de bijbehorende documentatie, Sandbox, etc.</p>
</blockquote></section><section id="aanbeveling-5-4-sluit-de-feedback-loop-betrek-de-community"><h5 id="x3-4-5-4-aanbeveling-5-4-sluit-de-feedback-loop-betrek-de-community"><span class="secno">3.4.5.4 </span>Aanbeveling 5.4 Sluit de feedback-loop: betrek de community</h5><blockquote>
<p>  Om echt van buiten naar binnen te kunnen werken, is het betrekken van de
  community van gebruikers onmisbaar. De community kan vertellen hoe de
  developer experience tot nu toe is, welke verbeteringen wenselijk zijn,
  welke gebruikersvragen er sterk leven, maar nog onvoldoende ondersteund
  worden, etc., etc. Daarnaast wil je de community ook actief informeren over
  voorgenomen wijzigingen e.d. Het gebruik van API keys is een manier om je
  gebruikers te kennen.</p>
</blockquote></section></section><section id="aanbeveling-6-maak-duidelijk-wat-je-data-betekent"><h4 id="x3-4-6-aanbeveling-6-maak-duidelijk-wat-je-data-betekent"><span class="secno">3.4.6 </span>Aanbeveling 6: maak duidelijk wat je data betekent</h4><p>Wanneer je data openstelt voor derden, inclusief niet-specialisten, is het
essentieel om eenduidig vast te leggen wat de data betekent, waarbij deze
betekenis ook voor niet-specialisten begrijpelijk is. Het vastleggen van
semantiek kan o.a. door definities en informatiemodellen goed online te ontsluiten (zoals bijvoorbeeld in de Stelselcatalogus Omgevingswet),
maar ook door praktischere zaken als heldere naamgeving van variabelen etc.</p></section><section id="aanbeveling-7-wees-vindbaar-voor-developers"><h4 id="x3-4-7-aanbeveling-7-wees-vindbaar-voor-developers"><span class="secno">3.4.7 </span>Aanbeveling 7: wees vindbaar voor developers</h4><p>Een goede, gebruiksgerichte API, die bovendien actief wordt beheerd en
doorontwikkeld, kan nog steeds weinig gebruikt worden wanneer deze API niet goed
vindbaar is. Zorg daarom dat je een goed developersportaal hebt, nationaal idealiter bij developer.overheid.nl.
Als een API een product is, hoort dat product ook in een goede winkel te staan. En in een succesvolle winkel is altijd goed nagedacht over productpresentatie: presenteer breed toepasbare API’s en
datasets prominenter dan specifiekere API’s en obscure datasets, wederom te
vergelijken met de toptaken-aanpak bij gemeentelijke websites. Een goed
developersportaal informeert niet alleen over beschikbare API’s, maar inspireert
en verleidt zelfs developers om bepaalde API’s te gebruiken. Het vullen van het
developersportaal mag daarom nooit sluitpost van een project zijn.
Formuleer hierbij ook goed het ambitieniveau:</p><ul>
<li><p>API store: de one-stop-shop, waarin je niet alleen (het bestaan van) de API ontdekt, maar ook de documentatie vindt, de API kunt uitproberen, etc. Het runnen van een API store
kan zelfs zover gaan, dat er centraal proxy's worden ontwikkeld op API's van andere aanbieders en documentatie geredigeerd, om zo voor de eigen gebruikers een zo uniform mogelijke gebruikerservaring te garanderen.</p>
</li>
<li><p>API catalogus: uitsluitend gericht op het ontdekken van API's, waarna doorverwezen wordt naar de API store van de desbetreffende aanbieder.</p>
</li>
<li><p>hybride oplossing: een combinatie van een catalogus en een store. Alle API's staan in de catalogus, een kleine subset (de high-value API's) wordt volledig aangeboden. Deze hybride oplossing zou
een mooi ambitieniveau voor developer.overheid.nl kunnen zijn: alle overheids-API's zijn vindbaar en voor de meest generieke en populaire API's ben je direct op de juiste plaats.</p>
</li>
</ul><p>Een bijzondere categorie die de overheid ook nodig gaat hebben, o.a. door de ontwikkelingen in Common Ground, is de API spec store: een plaats waarin API specificaties gepubliceerd kunnen worden. Leveranciers kunnen op basis van die specificaties zelf hun specificatie-conforme API's ontwikkelen, waarmee de interoperabiliteit van gegevens binnen het gemeentelijke applicatielandschap wordt vergroot.</p><p>In de context van API stores en API catalogi is het belangrijk om te realiseren dat developer experience niet alleen een externe focus heeft (gericht op laten ontdekken, evalueren, testen en gebruiken van API's), maar ook een interne focus, gericht op het activeren van potentiële API-aanbieders. Zij moeten getriggerd worden om API's te ontwikkelen, te ontsluiten in je API store of catalogus, te beschrijven conform bepaalde kwaliteitseisen, etc.</p></section><section id="aanbeveling-8-niet-alles-is-een-api"><h4 id="x3-4-8-aanbeveling-8-niet-alles-is-een-api"><span class="secno">3.4.8 </span>Aanbeveling 8: niet alles is een API!</h4><p>Bedenkt altijd goed of een API de juiste oplossing is. In sommige gevallen is
een bulk download nog steeds praktischer voor een gebruiker. Wanneer een API
zinvol is? Hoe hoger de mutatiefrequentie van de data, hoe zinvoller een API
wordt. En bij hoge mutatiefrequenties, is een API die was-wordt leveringen kan
bieden zinvol. Denk hierbij weer aan 'API als een product': ga niet blind data ontsluiten, maar begin bij de vraag welke propositie je neer wil zetten.</p></section></section></section>
    <section data-format="markdown" aria-busy="false" id="api-designrules"><!--OddPage--><h2 id="x4-api-designrules"><span class="secno">4. </span>API designrules</h2><blockquote>
<p><em>This chapter aims to describe a set of design rules for the unambiguous provision of RESTful APIs (henceforth abbreviated as APIs). This achieves a predictable governments so developers can easily start consuming and combining APIs. Until now, this chapter does not include rules for other types of APIs, e.g. SOAP. In the addendum *API-principles</em>, the set of rules has been condensed into a number of core principles to keep in mind for the design and creation of APIs.*</p>
</blockquote><section id="introduction"><h3 id="x4-1-introduction"><span class="secno">4.1 </span>Introduction</h3><p>More and more government organisations implement and provide RESTful APIs. In many cases, these APIs provide access to data sets complementary to existing interfaces, e.g. SOAP and WFS. These APIs aim to be developer-friendly (see also paragraph 2.6 and chapter 3) and quick to implement. While this is a commendable aim, it does not shield a developer from a steep learning curve getting to know every new API. A developer has to understand how every API can be used, but there should have to not be a difference in the technical implementation. The Knowlegde Platform APIs aims to provide a set of design rules or prinicples for APIs to align their technical operation across government organisations and to facilitate their implementation. This chapter describes the widely applicable set of design rules. Hopefully, government organisations will adopt these design rules in their own API strategies and provide feedback about exceptions and additions to subsequently improve these design rules.</p><p>Keep in mind, these design rules should be applied in the creation of an API only if the functionality described is desirable.</p><p>All paragraphs in this chapter, except for paragraph 4.5 are <strong>Normative</strong>. Paragraph 4.5 is <strong>Informative</strong>.</p></section><section id="restful-principles"><h3 id="x4-2-restful-principles"><span class="secno">4.2 </span>RESTful principles</h3><p>The most important prinicple of REST is the seperation of the API in logical resources (<em>things</em>). The resources describe the information of the <em>thing</em>. These resources are manipulated using HTTP-requests and HTTP-operations. Each operation (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, <code>DELETE</code>) has a specific meaning.</p><blockquote>
<p>HTTP also defines operations, e.g. <code>HEAD</code>, <code>TRACE</code>, <code>OPTIONS</code> en <code>CONNECT</code>. In the context of REST, these operations are hardly ever used and have been excluded from the rest of this chapter.</p>
</blockquote><table>
<thead>
<tr>
<th>Operation</th>
<th>CRUD</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>POST</code></td>
<td>Create</td>
<td>Create resources that represent collections (i.e. <code>POST</code> adds a resource to a collection).</td>
</tr>
<tr>
<td><code>GET</code></td>
<td>Read</td>
<td>Retrieve a resource from the server. Data is only retrieved and not altered.</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td>Update</td>
<td>Replace a specific resource. Is also used as a <em>create</em> " if the resource at the indicated identifier/URI does not exist yet.</td>
</tr>
<tr>
<td><code>PATCH</code></td>
<td>Update</td>
<td>Partially modify an existing resource. The request contains the data that have to be changed and the operations that modify the resource in the designated JSON merge patch format (RFC 7386).</td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td>Delete</td>
<td>Remove the specific resource.</td>
</tr>
</tbody></table><p>For each operation one has to specify whether it has to be <em>safe</em> and/or <em>idempotent</em>. This is important, because clients and middelware rely on this.</p><blockquote>
<p><strong>Safe (read-only)</strong></p>
<p>Safe (read-only) in this case means that the semantics has been defined as read-only. THis is important, because clients and middelware like to use caching.</p>
</blockquote><blockquote>
<p><strong>Idempotent</strong></p>
<p>Idempotent means that multiple, identical requests have the same effect as one request.</p>
</blockquote><table>
<thead>
<tr>
<th>Operation</th>
<th>Safe</th>
<th>Idempotent</th>
</tr>
</thead>
<tbody><tr>
<td><code>POST</code></td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td><code>GET</code>, <code>OPTIONS</code>, <code>HEAD</code></td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td><code>PATCH</code></td>
<td>No</td>
<td>Optional</td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td>No</td>
<td>Yes</td>
</tr>
</tbody></table><blockquote>
<p><a href="#api-01">API principle: operations are <em>Safe</em> and/or <em>Idempotent</em></a></p>
</blockquote><p>REST makes use of the client stateless server design principle derived from client server with the additional constraint that it is not allowed to maintain the state at the server. Each request from the client to the server has to contain all information required to process the request without the need to use state-information at the server.</p><blockquote>
<p><a href="#api-02">API principle: do not maintain state information at the server</a></p>
</blockquote><section id="what-are-resources"><h4 id="x4-2-1-what-are-resources"><span class="secno">4.2.1 </span>What are resources?</h4><p>A fundamental concept in every RESTful API is the resource. A resource is an object with a type, attributes, relation with other resources and a number of operations to modify them. Resources are referred to using nouns (not verbs) that are relevant from the perspective of the user of the API. Operations are actions applied to these resources. Operations are referred to using verbs that are relevant from the perspectie of the user of the API.</p><p>One can translate internal data models as-is to resources, but not by definition. The point is to not hide all relevant implementation details. Some example resources are: <em>aanvragen</em> (applications), <em>activiteiten</em> (activities), <em>panden</em> (buildings), <em>rijksmonumenten</em> (national monuments), and <em>vergunningen</em> (permits).</p><p>Once the resources have been identified, one determines the operation that are applicable and how the API supports them. RESTful APIs perform CRUD (Create, Read, Update, Delete) operations using HTTP operations:</p><table>
<thead>
<tr>
<th>Request</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>GET /rijksmonumenten</code></td>
<td>Retrieves a list of national monuments</td>
</tr>
<tr>
<td><code>GET /rijksmonumenten/12</code></td>
<td>Retrieves a specific national monument</td>
</tr>
<tr>
<td><code>POST /rijksmonumenten</code></td>
<td>Creates a new national monument</td>
</tr>
<tr>
<td><code>PUT /rijksmonumenten/12</code></td>
<td>Modifies national monument #12 completely</td>
</tr>
<tr>
<td><code>PATCH /rijksmonumenten/12</code></td>
<td>Modified national monument #12 partially</td>
</tr>
<tr>
<td><code>DELETE /rijksmonumenten/12</code></td>
<td>Deletes national monument #12</td>
</tr>
</tbody></table><p>REST applies existing HTTP operations to implement functionality at one service endpoint. This removes the requirement for additional URI naming conventions and the URI structure remains clear.</p><blockquote>
<p><a href="#api-03">API principle: Only apply default HTTP operations</a></p>
</blockquote><blockquote>
<p><a href="#api-48">API principle: Leave off trailing slashes from API endpoints</a></p>
</blockquote></section><section id="language-usage"><h4 id="x4-2-2-language-usage"><span class="secno">4.2.2 </span>Language usage</h4><p>Since the exacy meaning of concepts are often lost in translation, resources are the underlying entities and attributes are defined in Dutch.</p><blockquote>
<p><a href="#api-04">API principle: Define interfaces in Dutch unless there is an official English glossary</a></p>
</blockquote></section><section id="interface-nomenclature-singular-or-plural"><h4 id="x4-2-3-interface-nomenclature-singular-or-plural"><span class="secno">4.2.3 </span>Interface nomenclature: singular or plural?</h4><p>Here, the <em>Keep It Simple Stupid</em> (KISS) rule is applicable. Although grammatically, it may feel wrong to request a single resource using the plural of the resource, it is a pragmatic choice to refer to endpoints consistently using plural. For the user it is much easier to not have to keep in mind singular and plural (<em>aanvraag/aanvragen, regel/regels</em>). Furthermore, this implementation is much more straightforward as most development frameworks are able to resolve both a single resource (<code>/aanvragen/12</code>) and multiple resources (<code>/aanvragen</code>) using one controller.</p><blockquote>
<p><a href="#api-05">API principle: Use plural nouns to indicate resources</a></p>
</blockquote></section><section id="how-to-go-deal-with-relations"><h4 id="x4-2-4-how-to-go-deal-with-relations"><span class="secno">4.2.4 </span>How to go deal with relations?</h4><p>If a relation can only exist in the contexst of another resource (1 to n relation), then the dependent resource (child) can only be retrieved through the parent. The next example explains this. A status belongs to one application. Statuses can be retrieved through the endpoint <code>/aanvragen</code>:</p><table>
<thead>
<tr>
<th>Request</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>GET /aanvragen/12/statussen</code></td>
<td>Retrieves a list of statuses of application #12</td>
</tr>
<tr>
<td><code>GET /aanvragen/12/statussen/5</code></td>
<td>Retrieves a specific status (#5) of application #12</td>
</tr>
<tr>
<td><code>POST /aanvragen/12/statussen</code></td>
<td>Creates a new status for application #12</td>
</tr>
<tr>
<td><code>PUT /aanvragen/12/statussen/5</code></td>
<td>Modifies status #5 of application #12 completely</td>
</tr>
<tr>
<td><code>PATCH /aanvragen/12/statussen/5</code></td>
<td>Modifies status #5 of application #12 partially</td>
</tr>
<tr>
<td><code>DELETE /aanvragen/12/statussen/5</code></td>
<td>Deletes status #5 of application #12</td>
</tr>
</tbody></table><blockquote>
<p><a href="#api-06">API principle: Create relations of nested resources within the endpoint</a></p>
</blockquote><p>In case of an n-to-n relation, there are various ways to retrieve a resource. The following requests respond identically:</p><table>
<thead>
<tr>
<th>Request</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>GET /aanvragen/12/activiteiten</code></td>
<td>Retrieves a list of activities for application #12</td>
</tr>
<tr>
<td><code>GET /activiteiten?aanvraag=12</code></td>
<td>Retrieves a list of activities, filtered by application #12</td>
</tr>
</tbody></table><p>In case of an n-to-m relation, the API supports the retrieval of individual resources anyway, at least providing the identifier of the related resource (relation). The user has to request the endpoint of the related resource (relation) to retrieve this one. This is referred to as <em>lazy loading</em>. The user decides whether to load the relation and when.</p></section><section id="custom-representation"><h4 id="x4-2-5-custom-representation"><span class="secno">4.2.5 </span>Custom representation</h4><p>The user of an API does not alway require the complete representation (i.e. all attributes) of a resource. Providing the option to select the required attributes in the requests reduces network traffic (relevant for light-weight applications), simplifies the use of the API and makes it adjustable (fit-for-use). The query parameter <code>fields</code> supports this usage. The query parameter accepts a comma-separated list of field names. The result is a custom representation. For example, the following request retrieves sufficient information to show a sorted list of applications (<em>aanvragen</em>):</p><p>In the case of HAL, linked resources are embedded in the default representation. Applying the aforementioned <code>fields</code> parameter, the contents of the  body can be customised as required. </p><p><code>GET /aanvragen?fields=id,onderwerp,aanvrager,wijzigDatum&amp;status=open&amp;sorteer=wijzigDatum</code></p><blockquote>
<p><a href="#api-09">API principle: Implement custom representation if supported</a></p>
</blockquote></section><section id="how-to-implement-operations-that-do-not-fit-the-crud-model"><h4 id="x4-2-6-how-to-implement-operations-that-do-not-fit-the-crud-model"><span class="secno">4.2.6 </span>How to implement operations that do not fit the CRUD model?</h4><p>There are resource operations that are not related to data manipulation (CRUD). Examples of this kind of operations are: changing the state (activate and deactivate) of a resource and marking (starring) a resource. Depending on the type of operation there are three approaches:</p><ol>
<li><p>Restructure the operation to incorporate it into the resource. This approach applies if the operation does not require any parameters. For example, an activation operation can be assigned to a boolean field <code>geactiveerd</code> that can be modified by a <code>PATCH</code> to the resource.</p>
</li>
<li><p>Treat the operation as a sub-resource. For example, mark an application by <code>PUT /aanvragen/12/markeringen</code> and remove a mark by <code>DELETE /aanvragen/12/markeringen</code>. To fully follow the REST principles, also provide the <code>GET</code> operation for this sub-resource.</p>
</li>
<li><p>Sometimes there is no logical way to link an operation to an existing resource. An example of this kind of operations is a search across multiple resources. This operation cannot be assigned to anyone specific resource. In this case, the creation of an independent service endpoint <code>/_zoek</code> is the most obvious solution. Use the imperative mood of a verb to distinguish these endpoints from <em>genuine</em>  endpoints that use the indicative mood of a verb.</p>
</li>
</ol><p>The Dutch API strategy prefers approach 2 and 3.</p><blockquote>
<p><a href="#api-10">API principle: Implement operations that do not fit the CRUD model as sub-resources</a></p>
</blockquote></section></section><section id="documentation"><h3 id="x4-3-documentation"><span class="secno">4.3 </span>Documentation</h3><p>An API is as good as the accompanying documentation. The documentation has to be easily findable, searchable and publicly accessible. Most developers will first read the documentation before they start the implementation. Hiding the documentation in PDF documents and/or behind a login creates a barrier not only for developers but also for search engines. Specifications (documentation) are avaialble as Open API Specification (OAS) v3.0 or newer.</p><blockquote>
<p><a href="#api-16">API principle: Documentation conforms to OAS v3.0 or newer</a></p>
</blockquote><blockquote>
<p><a href="#api-17">API principle: Publish documentation in Dutch unless there is existing documentation in English or there is an official English glossary available</a></p>
</blockquote><p>The documentation should provide examples including full request and response cycles. Developers should be able to test (and perform) requests directly from within the documentation. Furthermore, each error should be described and labeled with a unique error code to trace errors.</p><p>Once an API is in production, the <em>contract</em> (interface) should not be changed without prior notice. The documentation should include a deprecation schedule and all details of the change. Changes should be published not only as a changelog on a publicly available blog but also through a mailing list, using the email addresses obtained when the API keys were issued.</p><blockquote>
<p><a href="#api-18">API principle: Include a deprecation schedule when publishing API changes</a></p>
</blockquote><section id="best-practice-s"><h4 id="x4-3-1-best-practice-s"><span class="secno">4.3.1 </span>Best practice(s)</h4><blockquote>
<p><a href="#api-51">API principle: Publish OAS at a base-URI in JSON-format</a></p>
</blockquote></section></section><section id="versioning"><h3 id="x4-4-versioning"><span class="secno">4.4 </span>Versioning</h3><p>APIs should always be versioned. Versioning facilitates the transition between changes. Old and new versions are offered during a limited (1 year) transition period. A maximum of 3 versions of the API should be supported. Users decide themselves the moment they transition from the old to the new version of an API, as long as they do this prior to the end of the transition period.</p><blockquote>
<p><a href="#api-19">API principle: Allow for a (maximum) 1 year transition period to a new API version</a></p>
<p>Provide old and new versions (maximum 3) of an API concurrently for a limited, maximum 1 year transition period.</p>
</blockquote><p>The URI of an API should include the major version number only. This allows the exploration of multiple versions of an API in the browser.</p><p>The version number start at 1 and is raised with 1 for every major release that breaks the backwards compatibility of the interface. The minor and patch version numbers are always in the response header of the message in the <code>major.minor.patch</code> format.</p><p>The header (both request and  response) should be implemented as follows:</p><table>
<thead>
<tr>
<th>HTTP header</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>API-Version</code></td>
<td>Indicates a specific API version in the context of a specific request. For example: <code>API-version: 1.2.56</code></td>
</tr>
</tbody></table><p>Using an optional request header one minor/patch version can be addressed. This means, that the client can send a request header to not only access versions v1 and v2 (the designated versions that are addressed in the URIs) but also access one <em>older</em> or <em>newer</em> version of API in the (pre-) production or acceptance test environment. For example, the following URIs point to the designated production release of the API that can be accessed in the URI:</p><p><code>https://service.omgevingswet.overheid.nl/publiek/catalogus/api/raadplegen/v1</code></p><p><code>API-version: 1.0.2</code> (response header)</p><p><code>https://service.omgevingswet.overheid.nl/publiek/catalogus/api/raadplegen/v2</code></p><p><code>API-version: 2.1.0</code> (response header)</p><p>Leaving off the request-header (<code>API-version: x.y.z</code>), one addresses always the <em>designated</em> production version. In case there is one other designated version available, e.g. v2.1.1, then it can be provided and addressed at the same base endpoint passing the correct request parameter: </p><p><code>API-version: 2.1.1</code> (request header)</p><p><code>https://service.omgevingswet.overheid.nl/publiek/catalogus/api/raadplegen/v2</code></p><p><code>API-version: 2.1.1</code> (response header)</p><p>Examples of backward compatible changes are the addition of an endpoint or an optional attribute to the payload.</p><blockquote>
<p><a href="#api-20">API principle: Include only the major version number in the URI</a></p>
<p>One should only include the major version number. Minor version number and patch version number are included in the header of the message. Minor and patch versions have no impact on existing code, but major version do.</p>
</blockquote><p>An API will never be fully stable. Change is inevitable. Managing change is important. In general, well documented and timely communicated deprecation schedules are the most importand for API users.</p><p>More about extensions (in Dutch only).</p></section><section data-format="markdown" class="informative" id="extensions"><h3 id="x4-5-extensions"><span class="secno">4.5 </span>Extensions</h3><p><em>Dit onderdeel is niet normatief.</em></p><p>Er is een gepubliceerde versie en een werkversie van het document met extensies. De Werkversie staat op 
github en is het document dat "under construction" is, en dus de allerlaatste aanpassingen bevat.
</p><p>De documenten zijn hier te vinden:<br><a href="https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-ext-20190705/">Extensions Gepubliceerde versie</a><br><a href="https://geonovum.github.io/KP-APIs/Werkgroep%20API%20strategie/extensies/">Extensions Werkversie</a></p></section></section>
    <section data-format="markdown" class="informative" aria-busy="false" id="beveiliging"><!--OddPage--><h2 id="x5-beveiliging"><span class="secno">5. </span>Beveiliging</h2><p><em>Dit onderdeel is niet normatief.</em></p><blockquote>
<p><em>Doel van dit hoofdstuk: Hoe kan je je applicatie landschap inrichten zodat je APIs kan aanbieden. Welke componenten zijn hiervoor nodig. Hoe ga je om met opschalen, beschikbaarheid. Wat zijn afwegingen om beveiliging al dan niet toe te passen.</em></p>
</blockquote><p>In de huidige versie van de Nederlandse API strategie bevat dit hoofdstuk alleen het onderwerp OAuth. 
In een volgende versie komen de volgende onderwerpen erbij:</p><ul>
<li><a href="https://openid.net/connect/">Authenticatie (OpenID-Connect)</a> Deze standaard is voorgedragen voor de pas toe of leg uit lijst. Een Nederlands profiel afgestemd op het Nederlands profiel OAuth is in de maak.</li>
<li>Ondertekening en versleuteling (wanneer en waarom pas je deze technieken toe)</li>
</ul><section id="nederlands-profiel-oauth"><h3 id="x5-1-nederlands-profiel-oauth"><span class="secno">5.1 </span>Nederlands profiel OAuth</h3><p>Deze sectie beschrijft de uitgangspunten voor het Nederlands profiel OAuth. het profiel zelf is een op zichzelfstaand document.</p><section id="expert-advies-oauth-forum-standaardisatie"><h4 id="x5-1-1-expert-advies-oauth-forum-standaardisatie"><span class="secno">5.1.1 </span>Expert advies OAuth forum standaardisatie</h4><p>Het opstellen van deze standaard is voortgekomen uit het Expert advies OAuth [<cite><a class="bibref" href="#bib-expert">Expert</a></cite>]. Daarin wordt aangeraden eerst een nederlands profiel op stellen alvorens OAuth op de pas toe of leg uit lijst van het forum standaardisatie te plaatsen.</p></section><section id="werkingsgebied-standaard"><h4 id="x5-1-2-werkingsgebied-standaard"><span class="secno">5.1.2 </span>Werkingsgebied standaard</h4><p>Als organisatorisch werkingsgebied wordt geadviseerd:
Nederlandse overheden (Rijk, provincies, gemeenten en waterschappen)
en instellingen uit de (semi-) publieke sector</p></section><section id="toepassingsgebied-standaard"><h4 id="x5-1-3-toepassingsgebied-standaard"><span class="secno">5.1.3 </span>Toepassingsgebied standaard</h4><p>Als functioneel toepassingsgebied wordt voorgesteld:
Het gebruik van OAuth 2.0 is verplicht voor applicaties waarbij gebruikers
(resource owner) toestemming geven (impliciet of expliciet) aan een
dienst (van een derde) om namens hem toegang te krijgen tot specifieke
gegevens via een RESTful API.
Het gaat dan om een RESTful API waar de resource owner recht tot
toegang heeft.</p></section><section id="openid-connect-buiten-scope"><h4 id="x5-1-4-openid-connect-buiten-scope"><span class="secno">5.1.4 </span>OpenID connect buiten scope</h4><p>de expertgroep is op 7 juli en op 22 september 2016 bijeengekomen
om de standaarden, de aandachtspunten en openstaande vragen uit
het voorbereidingsdossier te bespreken. Daarbij is vastgesteld dat
OpenID Connect niet voor opneming op de lijst open standaarden in
aanmerking komt.</p></section><section id="aansluiting-op-internationale-standaard-igov"><h4 id="x5-1-5-aansluiting-op-internationale-standaard-igov"><span class="secno">5.1.5 </span>Aansluiting op internationale standaard iGov</h4><p>Het Nederlands profiel OAuth baseren we het internationale iGOV OAuth 2.0 profiel [<cite><a class="bibref" href="#bib-igov.oauth2">iGOV.OAuth2</a></cite>] we nemen niet alle keuzes van dit internationale profiel over aangezien dit een aantal keuzes bevat die sterk leunen op de amerikaanse situatie. Het kan het best beschouwd worden als een fork waar we in ons profiel aangeven waar we afwijken.
iGov heeft twee naast het OAuth profiel ook een OpenID connect profiel [<cite><a class="bibref" href="#bib-igov.openid">iGOV.OpenID</a></cite>] wanneer mogelijk ook OpenID connect op de pas toe of leg uit lijst van het Forum standaardisatie komt kan dit Nederlandse profiel uitgebreid worden met een Nederlandse variant van het iGov OpenID Connect profiel. De usecase die hieronder wordt beschreven sorteerd daar al op voor.</p><p>Het Nederlands profiel OAuth is hier te vinden:
<a href="https://geonovum.github.io/KP-APIs-OAuthNL/#dutch-government-assurance-profile-for-oauth-2-0">https://geonovum.github.io/KP-APIs-OAuthNL/#dutch-government-assurance-profile-for-oauth-2-0</a>
In aanvulling hierop is er een document dat de verschillen met iGOV kort samenvat en voorziet van rationales.
<a href="https://github.com/Geonovum/KP-APIs-OAuthNL/blob/master/Additional%20specification%20and%20constraints%20of%20iGov-NL%20to%20the%20iGov%20profile.md">https://github.com/Geonovum/KP-APIs-OAuthNL/blob/master/Additional%20specification%20and%20constraints%20of%20iGov-NL%20to%20the%20iGov%20profile.md</a></p></section></section></section>
    <section data-format="markdown" class="informative" aria-busy="false" id="architectuur"><!--OddPage--><h2 id="x6-architectuur"><span class="secno">6. </span>Architectuur</h2><p><em>Dit onderdeel is niet normatief.</em></p><blockquote>
<p>  <em>Dit hoofdstuk gaat in op de vraag: Hoe kan je je applicatie landschap
  inrichten zodat je APIs kan aanbieden. Welke componenten zijn hiervoor
  nodig. Hoe ga je om met opschalen, beschikbaarheid. Wat zijn afwegingen om
  beveiliging al dan niet toe te passen.</em></p>
</blockquote><section id="inleiding-1"><h3 id="x6-1-inleiding"><span class="secno">6.1 </span>Inleiding</h3><p>Doel van dit hoofdstuk is om een hoog niveau overzicht te geven van relevante onderdelen en concepten en hun samenhang in een op
(REST) API gebaseerde architectuur waarbij gebruik gemaakt wordt van (REST) API's als interface voor de aangeboden (gegevens)diensten. 
Specifiek voor REST API's is dat deze 'Resource' gericht zijn en een uniforme manier bieden om resources te lezen, wijzigen, toevoegen
of verwijderen.</p><p><img src="media/clip02.png" alt="" width="1623" height="405"></p><p>Figuur 1: De plaats van API's bij aanbod en gebruik van (gegevens)diensten;</p><p>Figuur 1 toont de plaats van API's in de gegevensuitwisseling en relevante onderwerpen in deze context. Bij de Dienst afnemer speelt 
het gebruik van API's,  bij de Dienst aanbieder speelt het aanbieden van API's.</p><p>In dit hoofdstuk wordt specifiek ingegaan op de 'aanbod kant': het onderdeel 'Diensten toegang' in het schema.</p></section><section id="diensten-toegang-api-management"><h3 id="x6-2-diensten-toegang-api-management"><span class="secno">6.2 </span>Diensten toegang &amp; API management</h3><p>Een diensten aanbieder ontsluit zijn diensten middels API's aan een diensten afnemer; om deze API's gecontroleerd aan te bieden 
is management en beheer van de API's van de organisatie noodzakelijk.</p><p>Een organisatie heeft verschillende soorten API's:</p><p><em>Open API's:</em> voor ontsluiten van diensten zonder toegangsbeperking bv open data.</p><p><em>Gesloten API's:</em> voor ontsluiten van diensten met toegangsbeperking bv persoonsgegevens en vertrouwelijke gegevens of diensten voor specifieke partijen.</p><p>Figuur 2 beschrijft vanuit het perspectief van een overheidsorganisatie als dienstaanbieder de onderwerpen die aandacht vragen in een op API's gebaseerde architectuur. Hieronder worden deze onderwerpen uitgebreider toegelicht.</p><p><img src="media/clip04.png" alt="" width="1234" height="750"></p><p>Figuur 2: Onderdelen van een API architectuur - Algemeen overzicht</p><section id="api-gateway"><h4 id="x6-2-1-api-gateway"><span class="secno">6.2.1 </span>API-Gateway</h4><p>Dit is het runtime onderdeel dat op de organisatiegrens van de diensten aanbieder de API-aanroepen ontvangt.</p><p><em>Throttling</em><br>Het beschermen van de dienst tegen overbelasting door de hoeveelheid aanvragen te beperken. Een aandachtspunt hierbij is de SLA afspraak die mogelijk hierbij van toepassing is en dat kritische bedrijfsprocessen de vereiste beschikbaarheid verkrijgen of behouden;</p><p><em>Authenticatie</em><br>Het vaststellen van de identiteit van de afnemer van de API;<br>(Zie ook : <a href="https://www.noraonline.nl/wiki/Identity_%26_Access_Management">https://www.noraonline.nl/wiki/Identity_%26_Access_Management</a>)</p><p><em>Autorisatie</em><br>Het bepalen of de afnemer recht heeft tot gebruik van de API;</p><p><em>Routering</em><br>Dit betreft het routeren van de API-aanroep naar de juiste achterliggende applicatie;</p><p><em>Logging</em><br>Dit betreft het loggen van API aanroepen van diensten afnemers;</p></section><section id="api-management"><h4 id="x6-2-2-api-management"><span class="secno">6.2.2 </span>API Management</h4><p>Dit onderdeel betreft het beheren van de API's van de dienstenaanbieders. Op basis van de registratie van API's kan de life-cycle van de API beheerd worden, de runtime omgeving worden ingericht en partners en developers worden voorzien van informatie over het gebruik van de API's;</p><p><em>Toegang</em>
De dienstaanbieder administreert wie toegang heeft tot welke API. De runtime omgeving (API-gateway) wordt geconfigureerd volgens de gewenste toegangsregels om de toegang te bewaken;</p><p><em>API Meta Data</em>
De dienstaanbieder administreert welke API's door de onderneming aangeboden worden. Dit betreft zowel open API's als gesloten API's;</p><p><em>API Life Cycle</em>
De dienstaanbieder beheert de levenscyclus van de API's (design, test, productie, afvoer);</p><p><em>Monitoring</em>
De dienstaanbieder monitort beschikbaarheid en gebruik van de API's;</p></section><section id="developer-portal"><h4 id="x6-2-3-developer-portal"><span class="secno">6.2.3 </span>Developer Portal</h4><p>Het Developer portal ondersteunt de ontwikkelaar bij het gebruik van API's. Bijvoorbeeld door middel van
documentatie, voorbeelden, API-register (overzicht van alle beschikbare API's), sandbox voor experimenten en ook 'onboarding' / aanmelden
voor toegang en developer account beheer.</p></section><section id="applicaties-afnemer-applicaties-aanbieder"><h4 id="x6-2-4-applicaties-afnemer-applicaties-aanbieder"><span class="secno">6.2.4 </span>Applicaties Afnemer &amp; Applicaties Aanbieder</h4><p>De applicaties van de afnemer maken gebruik van de diensten van de dienstenaanbieder door het aanroepen 
van API's. De applicaties van de aanbieder leveren de diensten door het aanbieden van API's.</p></section><section id="identity-management"><h4 id="x6-2-5-identity-management"><span class="secno">6.2.5 </span>Identity Management</h4><p>In gevallen waar de identiteit van de dienstenaanvrager van belang is en onderdeel van de toegangs controle en gebruiksmonitoring, is de relatie met het identity management systeem van de organisatie relevant.<br>(Zie ook : <a href="https://www.noraonline.nl/wiki/Begrippen_IAM">https://www.noraonline.nl/wiki/Begrippen_IAM</a>)</p></section></section></section>
    <section data-format="markdown" class="informative" aria-busy="false" id="supplements"><!--OddPage--><h2 id="x7-supplements"><span class="secno">7. </span>Supplements</h2><p><em>Dit onderdeel is niet normatief.</em></p><section id="api-principles"><h3 id="x7-1-api-principles"><span class="secno">7.1 </span><a name="api-principes"></a>API Principles</h3><section id="api-01-operations-are-safe-and-or-idempotent"><h4 id="x7-1-1-api-01-operations-are-safe-and-or-idempotent"><span class="secno">7.1.1 </span><a name="api-01"></a>API-01: Operations are <em>Safe</em> and/or <em>Idempotent</em></h4><p>Operations of an API are guaranteed to be <em>safe</em> and/or <em>idempotent</em> if that has
been specified.</p></section><section id="api-02-do-not-maintain-state-information-at-the-server"><h4 id="x7-1-2-api-02-do-not-maintain-state-information-at-the-server"><span class="secno">7.1.2 </span><a name="api-02"></a>API-02: Do not maintain state information at the server</h4><p>The client state is tracked fully at the client.</p></section><section id="api-03-only-apply-default-http-operations"><h4 id="x7-1-3-api-03-only-apply-default-http-operations"><span class="secno">7.1.3 </span><a name="api-03"></a>API-03: Only apply default HTTP operations</h4><p>A RESTful API is an application programming interface that supports the default
HTTP operations GET, PUT, POST, PATCH and DELETE.</p></section><section id="api-04-define-interfaces-in-dutch-unless-there-is-an-official-english-glossary"><h4 id="x7-1-4-api-04-define-interfaces-in-dutch-unless-there-is-an-official-english-glossary"><span class="secno">7.1.4 </span><a name="api-04"></a>API-04: Define interfaces in Dutch unless there is an official English glossary</h4><p>Define resources and the underlying entities, fields and so on (the information
model ad the external interface) in Dutch. English is allowed in case there is
an official English glossary.</p></section><section id="api-05-use-plural-nouns-to-indicate-resources"><h4 id="x7-1-5-api-05-use-plural-nouns-to-indicate-resources"><span class="secno">7.1.5 </span><a name="api-05"></a>API-05: Use plural nouns to indicate resources</h4><p>Names of resources are nouns and always in the plural form, e.g. <em>aanvragen</em> ,
<em>activiteiten</em>, <em>vergunningen</em>, even when it applies to single resources.</p></section><section id="api-06-create-relations-of-nested-resources-within-the-endpoint"><h4 id="x7-1-6-api-06-create-relations-of-nested-resources-within-the-endpoint"><span class="secno">7.1.6 </span><a name="api-06"></a>API-06: Create relations of nested resources within the endpoint</h4><p>Preferrably, create relation within the endpoint if a relation can only exist
with another resource (nested resource). In that case, the dependent resource
does not have its own endpoint.</p></section><section id="api-09-implement-custom-representation-if-supported"><h4 id="x7-1-7-api-09-implement-custom-representation-if-supported"><span class="secno">7.1.7 </span><a name="api-09"></a>API-09: Implement custom representation if supported</h4><p>Provide a comma-separated list of field names using the query parameter <code>fields</code>
te retrieve a custom representation. In case non-existent field names are
passed, a 404 Bad Request error message is returned.</p></section><section id="api-10-implement-operations-that-do-not-fit-the-crud-model-as-sub-resources"><h4 id="x7-1-8-api-10-implement-operations-that-do-not-fit-the-crud-model-as-sub-resources"><span class="secno">7.1.8 </span><a name="api-10"></a>API-10: Implement operations that do not fit the CRUD model as sub-resources</h4><p>"Operations that do not fit the CRUD model are implemented as follows:</p><ul>
<li><p>Treat an operation as a sub-resource.</p>
</li>
<li><p>Only in exceptional cases, an operator is implemented as an endpoint."</p>
</li>
</ul></section><section id="api-11-encrypt-connections-using-at-least-tls-v1-3"><h4 id="x7-1-9-api-11-encrypt-connections-using-at-least-tls-v1-3"><span class="secno">7.1.9 </span><a name="api-11"></a>API-11: Encrypt connections using at least TLS v1.3</h4><p>Encrypt connections using at least TLS v1.3. Use TLS v1.2 as a fall-back option
only. In case of access restrictions use two-way TLD. Since the connection is
always encrypted, the authentication method is straightforward. This allows the
application of basic authentication tokens instead of encrypted authentication
tokens.</p></section><section id="api-12-allow-access-to-an-api-only-if-an-api-key-is-provided"><h4 id="x7-1-10-api-12-allow-access-to-an-api-only-if-an-api-key-is-provided"><span class="secno">7.1.10 </span><a name="api-12"></a>API-12: Allow access to an API only if an API key is provided</h4><p>Preferrably, APIs should require at least a sign-up process that involves
accepting its fair use policy before an API key is issued.</p></section><section id="api-13-accept-tokens-as-http-headers-only"><h4 id="x7-1-11-api-13-accept-tokens-as-http-headers-only"><span class="secno">7.1.11 </span><a name="api-13"></a>API-13: Accept tokens as HTTP headers only</h4><p>There is an inherent security issue when passing tokens as a query parameter,
because most Web servers store query parameters in the server logs.</p></section><section id="api-14-use-oauth-2-0-for-authorisation"><h4 id="x7-1-12-api-14-use-oauth-2-0-for-authorisation"><span class="secno">7.1.12 </span><a name="api-14"></a>API-14: Use OAuth 2.0 for authorisation</h4><p>A RESTful API should not maintain state. A token has to be sent for each
request. OAuth 2.0 is the recommended standard. Chapter <em>Beveiliging</em> contains
further information.</p></section><section id="api-15-use-pkioverheid-certificates-for-access-restricted-or-purpose-limited-api-authentication"><h4 id="x7-1-13-api-15-use-pkioverheid-certificates-for-access-restricted-or-purpose-limited-api-authentication"><span class="secno">7.1.13 </span><a name="api-15"></a>API-15: Use PKIoverheid certificates for access-restricted or purpose-limited API authentication</h4><p>In the case of APIs that have access-restrictions or purpose-limitations,
additional authentication based on PKIoverheid certificates and mutual TLS
authentication should be provided.</p></section><section id="api-16-use-oas-3-0-for-documentation"><h4 id="x7-1-14-api-16-use-oas-3-0-for-documentation"><span class="secno">7.1.14 </span><a name="api-16"></a>API-16: Use OAS 3.0 for documentation</h4><p>Publish specifications (documentation) as Open API Specification (OAS) 3.0 or
higher.</p></section><section id="api-17-publish-documentation-in-dutch-unless-there-is-existing-documentation-in-english-or-there-is-an-official-english-glossary-available"><h4 id="x7-1-15-api-17-publish-documentation-in-dutch-unless-there-is-existing-documentation-in-english-or-there-is-an-official-english-glossary-available"><span class="secno">7.1.15 </span><a name="api-17"></a>API-17: Publish documentation in Dutch unless there is existing documentation in English or there is an official English glossary available</h4><p>Publish API documentation in Dutch. You may refer to existing documentation in
Engelish and in case there is an official English glossary avaialble.</p></section><section id="api-18-include-a-deprecation-schedule-when-publishing-api-changes"><h4 id="x7-1-16-api-18-include-a-deprecation-schedule-when-publishing-api-changes"><span class="secno">7.1.16 </span><a name="api-18"></a>API-18: Include a deprecation schedule when publishing API changes</h4><p>API changes and a deprecation schedule should be published not only as a
changelog on a publicly available blog but also through a mailing list.</p></section><section id="api-19-allow-for-a-maximum-1-year-transition-period-to-a-new-api-version"><h4 id="x7-1-17-api-19-allow-for-a-maximum-1-year-transition-period-to-a-new-api-version"><span class="secno">7.1.17 </span><a name="api-19"></a>API-19: Allow for a maximum 1 year transition period to a new API version</h4><p>Old and new versions (maximum 3) of an API should be provided concurrently for a
limited, maximum 1 year transition period.</p></section><section id="api-20-include-the-major-version-number-only-in-ihe-uri"><h4 id="x7-1-18-api-20-include-the-major-version-number-only-in-ihe-uri"><span class="secno">7.1.18 </span><a name="api-20"></a>API-20: Include the major version number only in ihe URI</h4><p>The URI of an API should include the major version number only. The minor and
patch version numbers are in the response header of the message. Minor and patch
versions have no impact on existing code, but major version do.</p></section><section id="api-21-inform-users-of-a-deprecated-api-actively"><h4 id="x7-1-19-api-21-inform-users-of-a-deprecated-api-actively"><span class="secno">7.1.19 </span><a name="api-21"></a>API-21: Inform users of a deprecated API actively</h4><p>Using the <code>Warning</code> response header in all responses of the deprecated APIs,
users are informed of the deprecation and upcoming removal date.</p></section><section id="api-22-json-first-apis-receive-and-send-json"><h4 id="x7-1-20-api-22-json-first-apis-receive-and-send-json"><span class="secno">7.1.20 </span><a name="api-22"></a>API-22: JSON first - APIs receive and send JSON</h4><p>APIs receive and send JSON.</p></section><section id="api-23-apis-may-provide-a-json-schema"><h4 id="x7-1-21-api-23-apis-may-provide-a-json-schema"><span class="secno">7.1.21 </span><a name="api-23"></a>API-23: APIs may provide a JSON Schema</h4><p>APIs may support JSON Schema (&lt;http: json-schema.org)=""&gt;to allow and facilitate
validation.</p></section><section id="api-24-support-content-negotiation"><h4 id="x7-1-22-api-24-support-content-negotiation"><span class="secno">7.1.22 </span><a name="api-24"></a>API-24: Support content negotiation</h4><p>Besides JSON, APIs should support other representations as XML and RDF using the
default HTTP content negotiation mechanism. In case the requested format cannot
be provided, a <code>406 ot Acceptable</code> response is sent.</p></section><section id="api-25-check-the-content-type-header-settings"><h4 id="x7-1-23-api-25-check-the-content-type-header-settings"><span class="secno">7.1.23 </span><a name="api-25"></a>API-25: Check the Content-Type header settings</h4><p>Check the <code>Content-Type</code> header is <code>application/json</code> or another supported
content types, otherwise send the HTTP status code <code>415 Unsupported Media Type</code>.</p></section><section id="api-26-define-field-names-in-in-camelcase"><h4 id="x7-1-24-api-26-define-field-names-in-in-camelcase"><span class="secno">7.1.24 </span><a name="api-26"></a>API-26: Define field names in in <em>camelCase</em></h4><p>Define field names in a such a way that the first word starts with a lower case
and subsequent words start with a capital letter, with no intervening spaces or
punctiation.</p></section><section id="api-27-disable-pretty-print"><h4 id="x7-1-25-api-27-disable-pretty-print"><span class="secno">7.1.25 </span><a name="api-27"></a>API-27: Disable pretty print</h4><p>The assumption is that REST clients and Web browsers (either with or without
add-ons or extensions) can pretty print JSON.</p></section><section id="api-28-send-a-json-response-without-enclosing-envelope"><h4 id="x7-1-26-api-28-send-a-json-response-without-enclosing-envelope"><span class="secno">7.1.26 </span><a name="api-28"></a>API-28: Send a JSON-response without enclosing envelope</h4><p>By default, don't apply an envelope.</p></section><section id="api-29-support-json-encoded-post-put-and-patch-payloads"><h4 id="x7-1-27-api-29-support-json-encoded-post-put-and-patch-payloads"><span class="secno">7.1.27 </span><a name="api-29"></a>API-29: Support JSON-encoded <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> payloads</h4><p>APIs support at least JSON-encoded <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> payloads. Encoded
form data (<code>application/x-www-form-urlencoded</code>) is not supported.</p></section><section id="api-30-use-query-parameters-corresponding-to-the-queryable-fields"><h4 id="x7-1-28-api-30-use-query-parameters-corresponding-to-the-queryable-fields"><span class="secno">7.1.28 </span><a name="api-30"></a>API-30: Use query parameters corresponding to the queryable fields</h4><p>Use uniqe query parameters that correspond to the fields that can be queried.</p></section><section id="api-31-use-the-query-parameter-sorteer-to-sort"><h4 id="x7-1-29-api-31-use-the-query-parameter-sorteer-to-sort"><span class="secno">7.1.29 </span><a name="api-31"></a>API-31: Use the query parameter <code>sorteer</code> to sort</h4><p>Specify the comma-separated field to sort using the generic query parameter
<code>sorteer</code>. Placing a minus sign (<code>-</code>) in front of a field name, the field is
sorted in descending order.</p></section><section id="api-32-use-the-query-parameter-zoek-for-full-text-search"><h4 id="x7-1-30-api-32-use-the-query-parameter-zoek-for-full-text-search"><span class="secno">7.1.30 </span><a name="api-32"></a>API-32: Use the query parameter <code>zoek</code> for full-text search</h4><p>APIs support full-text searching using the query parameter <code>zoek</code>.</p></section><section id="api-33-support-both-and-wildcard-characters-for-full-text-search-apis"><h4 id="x7-1-31-api-33-support-both-and-wildcard-characters-for-full-text-search-apis"><span class="secno">7.1.31 </span><a name="api-33"></a>API-33: Support both <code>*</code> and <code>?</code> wildcard characters for full-text search APIs</h4><p>Full-text search APIs should support two wildcard characters:</p><ul>
<li><p><code>*</code> Matches zero or more (non-space) characters</p>
</li>
<li><p><code>?</code> Matches exactly one (non-space) character</p>
</li>
</ul></section><section id="api-34-support-geojson-for-geo-apis"><h4 id="x7-1-32-api-34-support-geojson-for-geo-apis"><span class="secno">7.1.32 </span><a name="api-34"></a>API-34: Support GeoJSON for GEO APIs</h4><p>Preferrably, GEO APIs should support the GeoJSON standard
(<a href="https://tools.ietf.org/html/rfc7946">RFC-7946</a>).</p></section><section id="api-35-include-geojson-as-part-of-the-embedded-resource-in-the-json-response"><h4 id="x7-1-33-api-35-include-geojson-as-part-of-the-embedded-resource-in-the-json-response"><span class="secno">7.1.33 </span><a name="api-35"></a>API-35: Include GeoJSON as part of the embedded resource in the JSON response</h4><p>In case a JSON (<code>application/json</code>) response contains a geometry, represent it
in the same way as the <code>geometry</code> object of GeoJSON
(<a href="https://tools.ietf.org/html/rfc7946">RFC-7946</a>):</p><pre><code aria-busy="false" class="hljs json">{
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Point"</span>,
 <span class="hljs-attr">"coordinates"</span>: [<span class="hljs-number">125.6</span>, <span class="hljs-number">10.1</span>]
}</code></pre></section><section id="api-36-provide-a-post-endpoint-for-geo-queries"><h4 id="x7-1-34-api-36-provide-a-post-endpoint-for-geo-queries"><span class="secno">7.1.34 </span><a name="api-36"></a>API-36: Provide a <code>POST</code> endpoint for GEO queries</h4><p>Spatial queries are sent in a <code>POST</code> to a dedicated endpoint.</p></section><section id="api-37-support-mixed-queries-at-post-endpoints"><h4 id="x7-1-35-api-37-support-mixed-queries-at-post-endpoints"><span class="secno">7.1.35 </span><a name="api-37"></a>API-37: Support mixed queries at <code>POST</code> endpoints</h4><p>Mixed queries may include both spatial and property queries.</p></section><section id="api-38-put-results-of-a-global-spatial-query-in-the-relevant-geometric-context"><h4 id="x7-1-36-api-38-put-results-of-a-global-spatial-query-in-the-relevant-geometric-context"><span class="secno">7.1.36 </span><a name="api-38"></a>API-38: Put results of a global spatial query in the relevant geometric context</h4><p>In case of a global query <code>/api/v1/_zoek</code>, results should be placed in the
relevant geometric context, because results from different collections are
retrieved. Express the name of the collection to which the results belongs in
the singular form using the property <code>type</code>.</p></section><section id="api-39-use-etrs89-as-the-preferred-coordinate-reference-system-crs"><h4 id="x7-1-37-api-39-use-etrs89-as-the-preferred-coordinate-reference-system-crs"><span class="secno">7.1.37 </span><a name="api-39"></a>API-39: Use ETRS89 as the preferred coordinate reference system (CRS)</h4><p>General usage of the European ETRS89 coordinate reference system (CRS) is
preferable, but is not necessarily the default CRS. Hence, the CRS has to be
explicitly included in each request.</p></section><section id="api-40-pass-the-coordinate-reference-system-crs-of-the-request-and-the-response-in-the-headers"><h4 id="x7-1-38-api-40-pass-the-coordinate-reference-system-crs-of-the-request-and-the-response-in-the-headers"><span class="secno">7.1.38 </span><a name="api-40"></a>API-40: Pass the coordinate reference system (CRS) of the request and the response in the headers</h4><p>The coordinate reference system (CRS) for both the request and the response are
passed as part of the request headers and reponse headers. In case this header
is missing, send the HTTP status code <code>412 Precondition Failed</code>.</p></section><section id="api-41-use-content-negotiation-to-serve-different-crss"><h4 id="x7-1-39-api-41-use-content-negotiation-to-serve-different-crss"><span class="secno">7.1.39 </span><a name="api-41"></a>API-41: Use content negotiation to serve different CRSs</h4><p>The CRS for the geometry in the response body is defined using the <code>Accept-Crs</code>
header. In case the API does not support the requested CRS, send the HTTP status
code <code>406 Not Acceptable</code>.</p></section><section id="api-42-use-json-hal-with-media-type-application-hal-json-for-pagination"><h4 id="x7-1-40-api-42-use-json-hal-with-media-type-application-hal-json-for-pagination"><span class="secno">7.1.40 </span><a name="api-42"></a>API-42: Use JSON+HAL with media type <code>application/hal+json</code> for pagination</h4><p>Add two reserved fields <code>_links</code> (required) and <code>_embedded</code> (optional) to the
representation. Pass pagination meta data as HTTP headers.</p></section><section id="api-43-apply-caching-to-improve-performance"><h4 id="x7-1-41-api-43-apply-caching-to-improve-performance"><span class="secno">7.1.41 </span><a name="api-43"></a>API-43: Apply caching to improve performance</h4><p>For caching apply the default HTTP caching mechanisms using a few additional
HTTP headers (<code>ETag</code> or <code>Last-Modified</code>) and functionality to determine wether
a few specific HTTP headers are supplied (<code>If-None-Match</code> or
<code>If-Modified-Since</code>).</p></section><section id="api-44-apply-rate-limiting"><h4 id="x7-1-42-api-44-apply-rate-limiting"><span class="secno">7.1.42 </span><a name="api-44"></a>API-44: Apply rate limiting</h4><p>To prevent server overload and the guarantee a high service level, apply rate
limiting to API requests.</p></section><section id="api-45-provide-rate-limiting-information"><h4 id="x7-1-43-api-45-provide-rate-limiting-information"><span class="secno">7.1.43 </span><a name="api-45"></a>API-45: Provide rate limiting information</h4><p>Use the HTTP header <code>X-Rate-Limit</code> to inform users of rate limits. In case the
rate limits are exceeded, send the HTTP status code <code>429 Too Many Requests</code>.</p></section><section id="api-46-use-default-error-handling"><h4 id="x7-1-44-api-46-use-default-error-handling"><span class="secno">7.1.44 </span><a name="api-46"></a>API-46: Use default error handling</h4><p>API support the default error messages of the HTTP 400 and 500 status code
ranges, including the parsable JSON representation
(<a href="https://tools.ietf.org/html/rfc7807">RFC-7807</a>).</p></section><section id="api-47-use-the-required-http-status-codes"><h4 id="x7-1-45-api-47-use-the-required-http-status-codes"><span class="secno">7.1.45 </span><a name="api-47"></a>API-47: Use the required HTTP status codes</h4><p>APIs should at least support the following HTTP status codes: 200, 201, 204,
304, 400, 401, 403, 405, 406, 409, 410, 415, 422, 429, 500, and 503.</p></section><section id="api-48-leave-off-trailing-slashes-from-api-endpoints"><h4 id="x7-1-46-api-48-leave-off-trailing-slashes-from-api-endpoints"><span class="secno">7.1.46 </span><a name="api-48"></a>API-48: Leave off trailing slashes from API endpoints</h4><p>URIs to retrieve collections of resources or individual resources don't include
a trailing slash. A resource is only available at one endpoint/path. Resource
paths end without a slash.</p></section><section id="api-49-use-public-api-keys"><h4 id="x7-1-47-api-49-use-public-api-keys"><span class="secno">7.1.47 </span><a name="api-49"></a>API-49: Use <em>public</em> API-keys</h4><p>In JavaScript, only use <em>restricted</em> API-keys, linked to specific
characteristics of the client-application (web application or mobile
application), e.g. a clientId and/or referring URL.</p></section><section id="api-50-use-cors-to-control-access"><h4 id="x7-1-48-api-50-use-cors-to-control-access"><span class="secno">7.1.48 </span><a name="api-50"></a>API-50: Use CORS to control access</h4><p>Check the domain of the incoming request and generate the response header
depending on whether this domain may send requests or not (whitelist). In that
case, only add this particular domain to the response header
<code>Access-Control-Allow-Origin</code>.</p><p>**NOTE: It is technically possible to pass a wildcard ("*") in the response
header <code>Access-Control-Allow-Origin</code> to allow all sources. However, this is
malpractice!**</p></section><section id="api-51-publish-oas-at-the-base-uri-in-json-format"><h4 id="x7-1-49-api-51-publish-oas-at-the-base-uri-in-json-format"><span class="secno">7.1.49 </span><a name="api-51"></a>API-51: Publish OAS at the base-URI in JSON-format</h4><p>Publish up-to-date documentation in the Open API Specification (OAS) at the
publicly accessible root endpoint of the API in JSON format:</p><p><code>https://service.omgevingswet.overheid.nl/publiek/catalogus/api/raadplegen/v1</code></p><p>Makes the OAS relevant to v1 of the API available.</p><p>Thus, the up-to-date documentation is linked to a unique location (that is
always concurrent with the features available in the API).
</p></section></section></section>
  

<section id="references" class="appendix">
      <!--OddPage--><h2 id="a-referenties"><span class="secno">A. </span>Referenties</h2>
      
    <section id="informatieve-referenties">
        <h3 id="a-1-informatieve-referenties"><span class="secno">A.1 </span>Informatieve referenties</h3>
      <dl class="bibliography">
        <dt id="bib-expert">[Expert]</dt><dd><a href="https://www.forumstandaardisatie.nl/sites/bfs/files/Expertadvies%20OAuth%202.0.pdf"><cite>Expertadvies OAuth 2.0</cite></a>. P. Dam. Forum Standaardisatie. 24 februari 2017. URL: <a href="https://www.forumstandaardisatie.nl/sites/bfs/files/Expertadvies%20OAuth%202.0.pdf">https://www.forumstandaardisatie.nl/sites/bfs/files/Expertadvies%20OAuth%202.0.pdf</a></dd><dt id="bib-igov.oauth2">[iGOV.OAuth2]</dt><dd><a href="https://openid.net/specs/openid-igov-oauth2-1_0.html"><cite>International Government Assurance Profile (iGov) for OAuth 2.0</cite></a>. J. Richer, M. Varley, P. Grassi. OpenID foundation. October 5 2018. URL: <a href="https://openid.net/specs/openid-igov-oauth2-1_0.html">https://openid.net/specs/openid-igov-oauth2-1_0.html</a></dd><dt id="bib-igov.openid">[iGOV.OpenID]</dt><dd><a href="https://openid.net/specs/openid-igov-openid-connect-1_0.html"><cite>International Government Assurance Profile (iGov) for OpenID Connect 1.0 - draft 3</cite></a>. M. Varley, P. Grassi. OpenID foundation. October 5 2018. URL: <a href="https://openid.net/specs/openid-igov-openid-connect-1_0.html">https://openid.net/specs/openid-igov-openid-connect-1_0.html</a></dd>
      </dl></section></section><p role="navigation" id="back-to-top"><a href="#title"><abbr title="Naar begin">↑</abbr></a></p><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>